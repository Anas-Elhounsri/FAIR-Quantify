{
  "citation": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Citing freebayes",
        "parent_header": [
          "*freebayes*, a haplotype-based variant detector"
        ],
        "type": "Text_excerpt",
        "value": "A preprint [Haplotype-based variant detection from short-read sequencing](http://arxiv.org/abs/1207.3907) provides an overview of the\nstatistical models used in freebayes.\nWe ask that you cite this paper if you use freebayes in work that leads to publication.\nThis preprint is used for documentation and citation.\nfreebayes was never submitted for review, but has been used in over 1000 publications.\n\nPlease use this citation format:\n\nGarrison E, Marth G. Haplotype-based variant detection from short-read sequencing. *arXiv preprint arXiv:1207.3907 [q-bio.GN]* 2012\n\nIf possible, please also refer to the version number provided by freebayes when it is run without arguments or with the `--help` option.\n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "header_analysis"
    }
  ],
  "code_repository": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/freebayes/freebayes"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_created": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2010-10-13T21:34:33Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_updated": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2024-10-31T08:22:03Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "description": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "Bayesian haplotype-based genetic polymorphism discovery and genotyping."
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 0.9788309243265618,
      "result": {
        "original_header": "Overview",
        "type": "Text_excerpt",
        "value": "[*freebayes*](http://arxiv.org/abs/1207.3907) is a\n[Bayesian](http://en.wikipedia.org/wiki/Bayesian_inference) genetic variant\ndetector designed to find small polymorphisms, specifically SNPs\n(single-nucleotide polymorphisms), indels (insertions and deletions), MNPs\n(multi-nucleotide polymorphisms), and complex events (composite insertion and\nsubstitution events) smaller than the length of a short-read sequencing\nalignment. \n*freebayes* is haplotype-based, in the sense that it calls variants based on\nthe literal sequences of reads aligned to a particular target, not their\nprecise alignment.  This model is a straightforward generalization of previous\nones (e.g. PolyBayes, samtools, GATK) which detect or report variants based on\nalignments.  This method avoids one of the core problems with alignment-based\nvariant detection--- that identical sequences may have multiple possible\nalignments: \n*freebayes* uses short-read alignments\n([BAM](http://samtools.sourceforge.net/SAMv1.pdf) files with\n[Phred+33](http://en.wikipedia.org/wiki/Phred_quality_score) encoded quality\nscores, now standard) for any number of individuals from a population and a\n[reference genome](http://en.wikipedia.org/wiki/Reference_genome) (in\n[FASTA](http://en.wikipedia.org/wiki/FASTA_format) format)\nto determine the most-likely combination of genotypes for the population at\neach position in the reference.  It reports positions which it finds putatively\npolymorphic in variant call file ([VCF](http://www.1000genomes.org/node/101))\nformat.  It can also use an input set of variants (VCF) as a source of prior\ninformation, and a copy number variant map (BED) to define non-uniform ploidy\nvariation across the samples under analysis. \nfreebayes is maintained by Erik Garrison and Pjotr Prins. See also [RELEASE-NOTES](./RELEASE-NOTES.md).\n \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.8894505906346459,
      "result": {
        "original_header": "Parallelisation",
        "type": "Text_excerpt",
        "value": "In general, freebayes can be parallelised by running multiple instances of freebayes on separate regions of the genome, and then concatenating the resulting output.\nThe wrapper, [freebayes-parallel](https://github.com/ekg/freebayes/blob/master/scripts/freebayes-parallel) will perform this, using [GNU parallel](https://www.gnu.org/software/parallel/). \nExample freebayes-parallel operation (use 36 cores in this case): \nA current limitation of the freebayes-parallel wrapper, is that due to variance in job memory and runtimes, some cores can go unused for long periods, as they will not move onto the next job unless all cores in use have completed their respective genome chunk. This can be partly avoided by calculating coverage of the input bam file, and splitting the genome into regions of equal coverage using the [coverage_to_regions.py script](https://github.com/freebayes/freebayes/blob/master/scripts/coverage_to_regions.py). An alternative script [split_ref_by_bai_datasize.py](https://github.com/freebayes/freebayes/blob/master/scripts/split_ref_by_bai_datasize.py) will determine target regions based on the data within multiple bam files, with the option of choosing a target data size. This is useful when submitting to Slurm and other cluster job managers, where use of resources needs to be controlled. \nAlternatively, users may wish to parallelise freebayes within the workflow manager [snakemake](https://snakemake.readthedocs.io/en/stable/). As snakemake automatically dispatches jobs when a core becomes available, this avoids the above issue. An example [.smk file](https://github.com/freebayes/freebayes/blob/master/examples/snakemake-freebayes-parallel.smk), and associated [conda environment recipe](https://github.com/freebayes/freebayes/blob/master/examples/freebayes-env.yaml), can be found in the /examples directory.\n \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9787870607268745,
      "result": {
        "original_header": "Calling variants: from fastq to VCF",
        "type": "Text_excerpt",
        "value": "You've sequenced some samples.  You have a reference genome or assembled set of\ncontigs, and you'd like to determine reference-relative variants in your\nsamples.  You can use freebayes to detect the variants, following these steps: \n* **Align** your reads to a suitable reference (e.g. with\n[bwa](http://bio-bwa.sourceforge.net/) or\n[MOSAIK](https://github.com/wanpinglee/MOSAIK))\n* Ensure your alignments have **read groups** attached so their sample may be\nidentified by freebayes.  Aligners allow you to do this, but you can also use\n[bamaddrg](http://github.com/ekg/bamaddrg) to do so post-alignment.\n* **Sort** the alignments (e.g. [sambamba sort](https://github.com/biod/sambamba)).\n* **Mark duplicates**, for instance with [sambamba markdup](https://github.com/biod/sambamba) (if PCR was used in the preparation of your sequencing library)\n* ***Run freebayes*** on all your alignment data simultaneously, generating a\nVCF.  The default settings should work for most use cases, but if your samples\nare not diploid, set the `--ploidy` and adjust the `--min-alternate-fraction`\nsuitably.\n* **Filter** the output e.g. using reported QUAL and/or depth (DP) or\nobservation count (AO).\n* **Interpret** your results.\n* (possibly, **Iterate** the variant detection process in response to insight\ngained from your interpretation) \nfreebayes emits a standard VCF 4.1 output stream.  This format is designed for the\nprobabilistic description of allelic variants within a population of samples,\nbut it is equally suited to describing the probability of variation in a single\nsample. \nOf primary interest to most users is the QUAL field, which estimates the\nprobability that there is a polymorphism at the loci described by the record.\nIn freebayes, this value can be understood as 1 - P(locus is homozygous given\nthe data).  It is recommended that users use this value to filter their\nresults, rather than accepting anything output by freebayes as ground truth. \nBy default, records are output even if they have very low probability of\nvariation, in expectation that the VCF will be filtered using tools such as\n[vcffilter](http://github.com/ekg/vcflib#vcffilter) in\n[vcflib](http://github.com/ekg/vcflib), which is also included in the\nrepository under `vcflib/`.  For instance, \nremoves any sites with estimated probability of not being polymorphic less than\nphred 20 (aka 0.01), or probability of polymorphism &gt; 0.99. \nIn simulation, the [receiver-operator\ncharacteristic](https://en.wikipedia.org/wiki/Receiver_operating_characteristic)\n (ROC) tends to have a very sharp inflection between Q1 and Q30, depending on\ninput data characteristics, and a filter setting in this range should provide\ndecent performance.  Users are encouraged to examine their output and both\nvariants which are retained and those they filter out.  Most problems tend to\noccur in low-depth areas, and so users may wish to remove these as well, which\ncan also be done by filtering on the DP flag. \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9566303750402887,
      "result": {
        "original_header": "Calling variants in a population",
        "type": "Text_excerpt",
        "value": "freebayes is designed to be run on many individuals from the same population\n(e.g. many human individuals) simultaneously.  The algorithm exploits a neutral\nmodel of allele diffusion to impute most-confident genotypings\nacross the entire population.  In practice, the discriminant power of the\nmethod will improve if you run multiple samples simultaneously.  In other\nwords, if your\nstudy has multiple individuals, you should run freebayes against them at the\nsame time.  This also ensures consistent reporting of information about\nevidence for all samples at any locus where any are apparently polymorphic. \nTo call variants in a population of samples, each alignment must have a read\ngroup identifier attached to it (RG tag), and the header of the BAM file in\nwhich it resides must map the RG tags to sample names (SM).  Furthermore, read\ngroup IDs must be unique across all the files used in the analysis.  One read\ngroup cannot map to multiple samples.  The reason this is required is that\nfreebayes operates on a virtually merged BAM stream provided by the BamTools\nAPI.  If merging the files in your analysis using bamtools merge would generate\na file in which multiple samples map to the same RG, the files are not suitable\nfor use in population calling, and they must be modified. \nUsers may add RG tags to BAM files which were generated without this\ninformation by using (as mentioned in \"Calling variants\" above)\n[bamaddrg](http://github.com/ekg/bamaddrg).\nIf you have many files corresponding to\nmany individuals, add a unique read group and sample name to each, and then\nopen them all simultaneously with freebayes.  The VCF output will have one\ncolumn per sample in the input. \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9387863759808684,
      "result": {
        "original_header": "Performance tuning",
        "type": "Text_excerpt",
        "value": "If you find freebayes to be slow, or use large amounts of memory, consider the\nfollowing options: \n- Set `--use-best-n-alleles 4`: this will reduce the number of alleles that are\n  considered, which will decrease runtime at the cost of sensitivity to\nlower-frequency alleles at multiallelic loci.  Calculating site qualities\nrequires O(samples\\*genotypes) runtime, and the number of genotypes is\nexponential in ploidy and the number of alleles that are considered, so this is\nvery important when working with high ploidy samples (and also\n`--pooled-discrete`). By default, freebayes puts no limit on this. \n- Set higher input thresholds. Require that N reads in one sample support an\n  allele in order to consider it: `--min-alternate-count N`, or that the allele\nfraction in one sample is M: `--min-alternate-fraction M`. This will filter\nnoisy alleles.  The defaults, `--min-alternate-count 2 --min-alternate-fraction\n0.2`, are most-suitable for diploid, moderate-to-high depth samples, and should\nbe changed when working with different ploidy samples. Alternatively,\n`--min-alternate-qsum` can be used to set a specific quality sum, which may be\nmore flexible than setting a hard count on the number of observations. \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9434336948644786,
      "result": {
        "original_header": "Input filters",
        "type": "Text_excerpt",
        "value": "freebayes may be configured to filter its input so as to ignore low-confidence alignments and alleles which are only supported by low-quality sequencing observations (see `--min-mapping-quality` and `--min-base-quality`).\nIt also will only evaluate a position if at least one read has mapping quality of `--min-supporting-mapping-quality` and one allele has quality of at least `--min-supporting-base-quality`. \nReads with more than a fixed number of high-quality mismatches can be excluded by specifying `--read-mismatch-limit`.\nThis is meant as a workaround when mapping quality estimates are not appropriately calibrated. \nReads marked as duplicates in the BAM file are ignored, but this can be disabled for testing purposes by providing `--use-duplicate-reads`.\nfreebayes does not mark duplicates on its own, you must use another process to do this, such as that in [sambamba](https://github.com/biod/sambamba).\n \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9812340543777431,
      "result": {
        "original_header": "Observation thresholds",
        "type": "Text_excerpt",
        "value": "As a guard against spurious variation caused by sequencing artifacts, positions are skipped when no more than `--min-alternate-count` or `--min-alternate-fraction` non-clonal observations of an alternate are found in one sample.\nThese default to 2 and 0.05 respectively.\nThe default setting of `--min-alternate-fraction 0.05` is suitable for diploid samples but may need to be changed for higher ploidy.\n \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9917085741248405,
      "result": {
        "original_header": "Allele type exclusion",
        "type": "Text_excerpt",
        "value": "freebayes provides a few methods to ignore certain classes of allele, e.g.\n`--throw-away-indels-obs` and `--throw-awary-mnps-obs`.  Users are *strongly cautioned against using\nthese*, because removing this information is very likely to reduce detection\npower.  To generate a report only including SNPs, use vcffilter post-call as\nsuch: \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9219751572568187,
      "result": {
        "original_header": "Normalizing variant representation",
        "type": "Text_excerpt",
        "value": "If you wish to obtain a VCF that does not contain haplotype calls or complex alleles, first call with default parameters and then decompose the output with tools in vcflib, vt, vcf-tools, bcftools, GATK, or Picard.\nHere we use a tool in vcflib that normalizes the haplotype calls into pointwise SNPs and indels: \nNote that this is not done by default as it makes it difficult to determine which variant calls freebayes completed.\nThe raw output faithfully describes exactly the calls that were made.\n \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.8874859587900444,
      "result": {
        "original_header": "Observation qualities",
        "type": "Text_excerpt",
        "value": "freebayes estimates observation quality using several simple heuristics based\non manipulations of the phred-scaled base qualities: \n* For single-base observations, *mismatches* and *reference observations*: the\nun-adjusted base quality provided in the BAM alignment record.\n* For *insertions*: the mean quality of the bases inside of the putatively\ninserted sequence.\n* For *deletions*: the mean quality of the bases flanking the putatively\ndeleted sequence.\n* For *haplotypes*: the mean quality of allele observations within the\nhaplotype. \nBy default, both base and mapping quality are into the reported site quality (QUAL in the VCF) and genotype quality (GQ, when supplying `--genotype-qualities`).\nThis integration is driven by the \"Effective Base Depth\" metric first developed in [snpTools](http://www.hgsc.bcm.edu/software/snptools), which scales observation quality by mapping quality: *P(Obs|Genotype) ~ P(MappedCorrectly(Obs))P(SequencedCorrectly(Obs))*.\nSet `--standard-gls` to use the model described in the freebayes preprint.\n \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9913309615845075,
      "result": {
        "original_header": "Stream processing",
        "type": "Text_excerpt",
        "value": "freebayes can read BAM from standard input `--stdin` instead of directly from\nfiles.  This allows the application of any number of streaming BAM filters and\ncalibrators to its input. \nThis pattern allows the adjustment of alignments without rewriting BAM files,\nwhich could be expensive depending on context and available storage.  A prime\nexample of this would be graph-based realignment of reads to known variants as\nimplemented in [glia](http://github.com/ekg/glia). \nUsing this pattern, you can filter out reads with certain criteria using\nbamtools filter without having to modify the input BAM file.  You can also use\nthe bamtools API to write your own custom filters in C++.  An example filter is\nbamfiltertech\n[src/bamfiltertech.cpp](http://github.com/freebayes/freebayes/blob/master/src/bamfilte\nrtech.cpp), which could be used to filter out\ntechnologies which have characteristic errors which may frustrate certain types\nof variant detection.\n \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9772067109235768,
      "result": {
        "original_header": "INDELs",
        "type": "Text_excerpt",
        "value": "In principle, any gapped aligner which is sensitive to indels will\nproduce satisfactory input for use by freebayes.  Due to potential ambiguity,\nindels are\nnot parsed when they overlap the beginning or end of alignment boundaries. \nWhen calling indels, it is important to homogenize the positional distribution\nof insertions and deletions in the input by using left realignment.  This is\nnow done automatically by freebayes, but the behavior can be turned off via\n`--dont-left-align-indels` flag.  You probably don't want to do this. \nLeft realignment will place all indels in homopolymer and microsatellite\nrepeats at the same position, provided that doing so does not introduce\nmismatches between the read and reference other than the indel.  This method\ncomputationally inexpensive and handles the most common classes of alignment\ninconsistency.\n \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9612442436907852,
      "result": {
        "original_header": "Haplotype calls",
        "type": "Text_excerpt",
        "value": "As freebayes is haplotype-based, left-alignment is necessary only for the\ndetermination of candidate polymorphic loci.  Once such loci are determined,\nhaplotype observations are extracted from reads where: \n1. putative variants lie within `--haplotype-length` bases of each other\n(default 3bp),\n2. the reference sequence has repeats (e.g. microsatellites or STRs are called\nas one haplotype),\n3. the haplotype which is called has Shannon entropy less than\n`--min-repeat-entropy`, which is off by default but can be set to ~1 for\noptimal genotyping of indels in lower-complexity sequence. \nAfter a haplotype window is determined by greedily expanding the window across\noverlapping haplotype observations, all reads overlapping the window are used\nto establish data likelihoods, *P(Observations|Genotype)*, for all haplotypes\nwhich have sufficient support to pass the input filters. \nPartial observations are considered to support those haplotypes which they\ncould match exactly.  For expedience, only haplotypes which are contiguously\nobserved by the reads are considered as putative alleles in this process.  This\ndiffers from other haplotype-based methods, such as\n[Platypus](http://www.well.ox.ac.uk/platypus), which consider all possible\nhaplotypes composed of observed component alleles (SNPs, indels) in a given\nregion when generating likelihoods. \nThe primary adantages of this approach are conceptual simplicity and\nperformance, and it is primarily limited in the case of short reads, an issue\nthat is mitigated by increasing read lengths.  Also, a hybrid approach must be\nused to call haplotypes from high-error rate long reads.\n \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9645252173108421,
      "result": {
        "original_header": "Re-genotyping known variants and calling long haplotypes",
        "type": "Text_excerpt",
        "value": "For longer reads with higher error rates, it is possible to generate long\nhaplotypes in two passes over the data.  For instance, if we had very long\nreads (e.g. >10kb) at moderate depth and high error rate (>5%) such as might be\nproduced by PacBio, we could do something like: \n... thus generating candidate variants of suitable quality using the default\ndetection window.  We can then use these as \"basis alleles\" for the observation\nof haplotypes, considering all other putative variants supported by the\nalignment to be sequencing errors: \nThese steps should allow us to read long haplotypes directly from input data\nwith high error rates. \nThe high error rate means that beyond a small window each read will contain a\ncompletely different literal haplotype.  To a point, this property improves our\nsignal to noise ratio and can effectively filter out sequencing errors at the\npoint of the input filters, but it also decreases the effective observation\ndepth will prevent the generation of any calls if a long `--haplotype-length`\nis combined with high a sequencing error rate. \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9677783994487841,
      "result": {
        "original_header": "Best practices and design philosophy",
        "type": "Text_excerpt",
        "value": "freebayes follows the patterns suggested by the [Unix philosophy](https://en.wikipedia.org/wiki/Unix_philosophy), which promotes the development of simple, modular systems that perform a single function, and can be combined into more complex systems using stream processing of common interchange formats. \nfreebayes incorporates a number of features in order to reduce the complexity of variant detection for researchers and developers: \n* **Indel realignment is accomplished internally** using a read-independent method, and issues resulting from discordant alignments are dramatically reducedy through the direct detection of haplotypes.\n* The need for **base quality recalibration is avoided** through the direct detection of haplotypes. Sequencing platform errors tend to cluster (e.g. at the ends of reads), and generate unique, non-repeating haplotypes at a given locus.\n* **Variant quality recalibration is avoided** by incorporating a number of metrics, such as read placement bias and allele balance, directly into the Bayesian model.  (Our upcoming publication will discuss this in more detail.) \nA minimal pre-processing pipeline similar to that described in \"Calling variants\" should be sufficient for most uses.\nFor more information, please refer to a post by Brad Chapman [on minimal BAM preprocessing methods](http://bcbio.wordpress.com/2013/10/21/updated-comparison-of-variant-detection-methods-ensemble-freebayes-and-minimal-bam-preparation-pipelines/).\n \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.8632490816933748,
      "result": {
        "original_header": "Development",
        "type": "Text_excerpt",
        "value": "Build dependencies are listed in [guix.scm](./guix.scm) and\n[travis](.travis.yml). Builds have been tested with gcc 7 and clang 9.\n \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.8982359655409994,
      "result": {
        "original_header": "Compilation",
        "type": "Text_excerpt",
        "value": "Freebayes can target AMD64 and ARM64 (with Neon extensions). \nFor development/debugging use \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    }
  ],
  "download_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/ekg/freebayes/releases"
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 264
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/freebayes/freebayes/forks"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "freebayes/freebayes"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_title": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "freebayes, a haplotype-based variant detector"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "regular_expression"
    }
  ],
  "has_script_file": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/ekg/freebayes/master/scripts/update_version.sh"
      },
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/ekg/freebayes/master/scripts/generate_freebayes_region_scripts.sh"
      },
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/ekg/freebayes/master/examples/pipeline.sh"
      },
      "technique": "file_exploration"
    }
  ],
  "images": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://matrix.to/img/matrix-badge.svg"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/freebayes/freebayes/raw/v1.3.0/paper/haplotype_calling.png"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "regular_expression"
    }
  ],
  "installation": [
    {
      "confidence": 1,
      "result": {
        "original_header": "user manual and guide",
        "parent_header": [
          "*freebayes*, a haplotype-based variant detector"
        ],
        "type": "Text_excerpt",
        "value": "\n[![Github-CI](https://github.com/freebayes/freebayes/workflows/CI/badge.svg)](https://github.com/freebayes/freebayes/actions) [![Travis-CI](https://travis-ci.com/freebayes/freebayes.svg?branch=master)](https://travis-ci.com/freebayes/freebayes)\n[![DL](https://anaconda.org/bioconda/freebayes/badges/downloads.svg)](https://anaconda.org/bioconda/freebayes) [![BrewBadge](https://img.shields.io/badge/%F0%9F%8D%BAbrew-freebayes-brightgreen.svg)](https://github.com/brewsci/homebrew-bio) [![GuixBadge](https://img.shields.io/badge/gnuguix-freebayes-brightgreen.svg)](https://packages.guix.gnu.org/packages/freebayes/) [![DebianBadge](https://badges.debian.net/badges/debian/testing/freebayes/version.svg)](https://tracker.debian.org/pkg/freebayes) [![Chat on Matrix](https://matrix.to/img/matrix-badge.svg)](https://matrix.to/#/#vcflib:matrix.org)\n--------\n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Install",
        "parent_header": [
          "*freebayes*, a haplotype-based variant detector"
        ],
        "type": "Text_excerpt",
        "value": "freebayes is provided as a pre-built 64-bit static Linux binary as part of [releases](https://github.com/freebayes/freebayes/releases).\n\nDebian and Conda packages should work too, see the badges at the top\nof this page.\n\nTo build freebayes from source check the\n[development](#Development) section below. It is important to get the full recursive\ngit checkout and dependencies.\n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 0.9813037864374768,
      "result": {
        "original_header": "Overview",
        "type": "Text_excerpt",
        "value": "<img src=\"https://github.com/freebayes/freebayes/raw/v1.3.0/paper/haplotype_calling.png\" width=500/> \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9987928044341201,
      "result": {
        "original_header": "Parallelisation",
        "type": "Text_excerpt",
        "value": "Note that any of the above examples can be made parallel by using the\nscripts/freebayes-parallel script.  If you find freebayes to be slow, you\nshould probably be running it in parallel using this script to run on a single\nhost, or generating a series of scripts, one per region, and run them on a\ncluster. Be aware that the freebayes-parallel script contains calls to other programs using relative paths from the scripts subdirectory; the easiest way to ensure a successful run is to invoke the freebayes-parallel script from within the scripts subdirectory. \nAlternatively, users may wish to parallelise freebayes within the workflow manager [snakemake](https://snakemake.readthedocs.io/en/stable/). As snakemake automatically dispatches jobs when a core becomes available, this avoids the above issue. An example [.smk file](https://github.com/freebayes/freebayes/blob/master/examples/snakemake-freebayes-parallel.smk), and associated [conda environment recipe](https://github.com/freebayes/freebayes/blob/master/examples/freebayes-env.yaml), can be found in the /examples directory.\n \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9916930812218218,
      "result": {
        "original_header": "Calling variants: from fastq to VCF",
        "type": "Text_excerpt",
        "value": "You've sequenced some samples.  You have a reference genome or assembled set of\ncontigs, and you'd like to determine reference-relative variants in your\nsamples.  You can use freebayes to detect the variants, following these steps: \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9711657091909547,
      "result": {
        "original_header": "Stream processing",
        "type": "Text_excerpt",
        "value": "    bam_merger.sh | streaming_filter_or_process.sh | freebayes --stdin ... \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9287863342387656,
      "result": {
        "original_header": "INDELs",
        "type": "Text_excerpt",
        "value": "When calling indels, it is important to homogenize the positional distribution\nof insertions and deletions in the input by using left realignment.  This is\nnow done automatically by freebayes, but the behavior can be turned off via\n`--dont-left-align-indels` flag.  You probably don't want to do this. \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9755930092299996,
      "result": {
        "original_header": "Development",
        "type": "Text_excerpt",
        "value": "To download freebayes, please use git to download the most recent development tree: \n    git clone --recursive https://github.com/freebayes/freebayes.git \nIf you have a repo, update the submodules with \n    git submodule update --init --recursive --progress \nOn Debian you'll need a gcc compiler and want packages: \n- bc\n- samtools\n- parallel\n- meson\n- ninja-build\n- libvcflib-tools\n- vcftools \nBuild dependencies are listed in [guix.scm](./guix.scm) and\n[travis](.travis.yml). Builds have been tested with gcc 7 and clang 9.\n \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9543232188365501,
      "result": {
        "original_header": "Compilation",
        "type": "Text_excerpt",
        "value": "Make sure to have dependencies installed and checkout the tree\nwith `--recursive`. \nRecently we added the meson build system which can be run with \n    meson build/ --buildtype release \n    meson build/ --buildtype debug \nor to setup with clang instead \n    env CXX=clang++ CC=clang CC_LD=lld meson build --buildtype debug \nNext compile and test in the ~build~ directory \n    cd build\n    ninja\n    ninja test \n    build/freebayes \nTests on ARM may be slow. If you get a TIMEOUT use a multiplier,\ne.g. \n    meson test -t 4 -C build/ \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9096853113351842,
      "result": {
        "original_header": "Compile in a Guix container",
        "type": "Text_excerpt",
        "value": "After checking out the repo with git recursive create a Guix\ncontainer with all the build tools with \n    guix shell -C -D -f guix.scm \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    }
  ],
  "invocation": [
    {
      "confidence": 0.9368867080590806,
      "result": {
        "original_header": "Parallelisation",
        "type": "Text_excerpt",
        "value": "    freebayes-parallel <(fasta_generate_regions.py ref.fa.fai 100000) 36 \\\n        -f ref.fa aln.bam > var.vcf \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.8474793507354328,
      "result": {
        "original_header": "Compilation",
        "type": "Text_excerpt",
        "value": "    cd build\n    ninja\n    ninja test \n    meson test -t 4 -C build/ \n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "supervised_classification"
    }
  ],
  "issue_tracker": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/freebayes/freebayes/issues"
      },
      "technique": "GitHub_API"
    }
  ],
  "keywords": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": ""
      },
      "technique": "GitHub_API"
    }
  ],
  "license": [
    {
      "confidence": 1,
      "result": {
        "name": "MIT License",
        "spdx_id": "MIT",
        "type": "License",
        "url": "https://api.github.com/licenses/mit",
        "value": "https://api.github.com/licenses/mit"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "type": "File_dump",
        "value": "Copyright (c) 2010 Erik Garrison, Gabor Marth\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/LICENSE",
      "technique": "file_exploration"
    }
  ],
  "name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "freebayes"
      },
      "technique": "GitHub_API"
    }
  ],
  "owner": [
    {
      "confidence": 1,
      "result": {
        "type": "Organization",
        "value": "freebayes"
      },
      "technique": "GitHub_API"
    }
  ],
  "programming_languages": [
    {
      "confidence": 1,
      "result": {
        "name": "C++",
        "size": 3796375,
        "type": "Programming_language",
        "value": "C++"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "C",
        "size": 68230,
        "type": "Programming_language",
        "value": "C"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "TeX",
        "size": 67446,
        "type": "Programming_language",
        "value": "TeX"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "Python",
        "size": 40487,
        "type": "Programming_language",
        "value": "Python"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "Shell",
        "size": 19541,
        "type": "Programming_language",
        "value": "Shell"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "Meson",
        "size": 11360,
        "type": "Programming_language",
        "value": "Meson"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "Assembly",
        "size": 10112,
        "type": "Programming_language",
        "value": "Assembly"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "Scheme",
        "size": 3748,
        "type": "Programming_language",
        "value": "Scheme"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "R",
        "size": 1034,
        "type": "Programming_language",
        "value": "R"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "Perl",
        "size": 763,
        "type": "Programming_language",
        "value": "Perl"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "Makefile",
        "size": 105,
        "type": "Programming_language",
        "value": "Makefile"
      },
      "technique": "GitHub_API"
    }
  ],
  "readme_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md"
      },
      "technique": "file_exploration"
    }
  ],
  "related_documentation": [
    {
      "confidence": 1,
      "result": {
        "format": "readthedocs",
        "type": "Url",
        "value": "https://snakemake.readthedocs.io/"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "regular_expression"
    }
  ],
  "related_papers": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://arxiv.org/abs/1207.3907 [q-bio.GN]* 2012\n\nIf possible, please also refer to the version number provided by freebayes when it is run without arguments or with the `--help` option.\n\n## Install\n\nfreebayes is provided as a pre-built 64-bit static Linux binary as part of [releases](https://github.com/freebayes/freebayes/releases).\n\nDebian and Conda packages should work too, see the badges at the top\nof this page.\n\nTo build freebayes from source check the\n[development](#Development) section below. It is important to get the full recursive\ngit checkout and dependencies.\n\n## Support\n\nPlease report any issues or questions to the [freebayes mailing list](https://groups.google.com/forum/#!forum/freebayes). Report bugs on the [freebayes issue tracker](https://github.com/freebayes/freebayes/issues)\n\n## Usage\n\nIn its simplest operation, freebayes requires only two inputs: a FASTA reference sequence, and a BAM-format alignment file sorted by reference position.\nFor instance:\n\n    freebayes -f ref.fa aln.bam >var.vcf\n\n... will produce a VCF file describing all SNPs, INDELs, and haplotype variants between the reference and aln.bam. The CRAM version is\n\n    freebayes -f ref.fa aln.cram >var.vcf\n\nMultiple BAM files may be given for joint calling.\n\nTypically, we might consider two additional parameters.\nGVCF output allows us to have coverage information about non-called sites, and we can enable it with `--gvcf`.\nFor performance reasons we may want to skip regions of extremely high coverage in the reference using the `--skip-coverage` parameter or `-g`.\nThese can greatly increase runtime but do not produce meaningful results.\nFor instance, if we wanted to exclude regions of 1000X coverage, we would run:\n\n    freebayes -f ref.fa aln.bam --gvcf -g 1000 >var.vcf\n\nFor a description of available command-line options and their defaults, run:\n\n    freebayes --help\n\n## Examples\n\nCall variants assuming a diploid sample:\n\n    freebayes -f ref.fa aln.bam >var.vcf\n\nCall variants on only chrQ:\n\n    freebayes -f ref.fa -r chrQ aln.bam >var.vcf\n\nCall variants on only chrQ, from position 1000 to 2000:\n\n    freebayes -f ref.fa -r chrQ:1000-2000 aln.bam >var.vcf\n\nRequire at least 5 supporting observations to consider a variant:\n\n    freebayes -f ref.fa -C 5 aln.bam >var.vcf\n\nSkip over regions of high depth by discarding alignments overlapping positions where total read depth is greater than 200:\n\n    freebayes -f ref.fa -g 200 aln.bam >var.vcf\n\nUse a different ploidy:\n\n    freebayes -f ref.fa -p 4 aln.bam >var.vcf\n\nAssume a pooled sample with a known number of genome copies.  Note that this\nmeans that each sample identified in the BAM file is assumed to have 32 genome\ncopies.  When running with high --ploidy settings, it may be required to set\n`--use-best-n-alleles` to a low number to limit memory usage.\n\n    freebayes -f ref.fa -p 32 --use-best-n-alleles 4 --pooled-discrete aln.bam >var.vcf\n\nGenerate frequency-based calls for all variants passing input thresholds. You'd do\nthis in the case that you didn't know the number of samples in the pool.\n\n    freebayes -f ref.fa -F 0.01 -C 1 --pooled-continuous aln.bam >var.vcf\n\nUse an input VCF (bgzipped + tabix indexed) to force calls at particular alleles:\n\n    freebayes -f ref.fa -@ in.vcf.gz aln.bam >var.vcf\n\nGenerate long haplotype calls over known variants:\n\n    freebayes -f ref.fa --haplotype-basis-alleles in.vcf.gz \\\n                        --haplotype-length 50 aln.bam\n\nNaive variant calling: simply annotate observation counts of SNPs and indels:\n\n    freebayes -f ref.fa --haplotype-length 0 --min-alternate-count 1 \\\n        --min-alternate-fraction 0 --pooled-continuous --report-monomorphic >var.vcf\n\n## Parallelisation\n\nIn general, freebayes can be parallelised by running multiple instances of freebayes on separate regions of the genome, and then concatenating the resulting output.\nThe wrapper, [freebayes-parallel](https://github.com/ekg/freebayes/blob/master/scripts/freebayes-parallel) will perform this, using [GNU parallel](https://www.gnu.org/software/parallel/).\n\nExample freebayes-parallel operation (use 36 cores in this case):\n\n    freebayes-parallel <(fasta_generate_regions.py ref.fa.fai 100000) 36 \\\n        -f ref.fa aln.bam > var.vcf\n\nNote that any of the above examples can be made parallel by using the\nscripts/freebayes-parallel script.  If you find freebayes to be slow, you\nshould probably be running it in parallel using this script to run on a single\nhost, or generating a series of scripts, one per region, and run them on a\ncluster. Be aware that the freebayes-parallel script contains calls to other programs using relative paths from the scripts subdirectory; the easiest way to ensure a successful run is to invoke the freebayes-parallel script from within the scripts subdirectory.\n\nA current limitation of the freebayes-parallel wrapper, is that due to variance in job memory and runtimes, some cores can go unused for long periods, as they will not move onto the next job unless all cores in use have completed their respective genome chunk. This can be partly avoided by calculating coverage of the input bam file, and splitting the genome into regions of equal coverage using the [coverage_to_regions.py script](https://github.com/freebayes/freebayes/blob/master/scripts/coverage_to_regions.py). An alternative script [split_ref_by_bai_datasize.py](https://github.com/freebayes/freebayes/blob/master/scripts/split_ref_by_bai_datasize.py) will determine target regions based on the data within multiple bam files, with the option of choosing a target data size. This is useful when submitting to Slurm and other cluster job managers, where use of resources needs to be controlled.\n\nAlternatively, users may wish to parallelise freebayes within the workflow manager [snakemake](https://snakemake.readthedocs.io/en/stable/). As snakemake automatically dispatches jobs when a core becomes available, this avoids the above issue. An example [.smk file](https://github.com/freebayes/freebayes/blob/master/examples/snakemake-freebayes-parallel.smk), and associated [conda environment recipe](https://github.com/freebayes/freebayes/blob/master/examples/freebayes-env.yaml), can be found in the /examples directory.\n\n## Calling variants: from fastq to VCF\n\nYou've sequenced some samples.  You have a reference genome or assembled set of\ncontigs, and you'd like to determine reference-relative variants in your\nsamples.  You can use freebayes to detect the variants, following these steps:\n\n* **Align** your reads to a suitable reference (e.g. with\n[bwa](http://bio-bwa.sourceforge.net/) or\n[MOSAIK](https://github.com/wanpinglee/MOSAIK))\n* Ensure your alignments have **read groups** attached so their sample may be\nidentified by freebayes.  Aligners allow you to do this, but you can also use\n[bamaddrg](http://github.com/ekg/bamaddrg) to do so post-alignment.\n* **Sort** the alignments (e.g. [sambamba sort](https://github.com/biod/sambamba)).\n* **Mark duplicates**, for instance with [sambamba markdup](https://github.com/biod/sambamba) (if PCR was used in the preparation of your sequencing library)\n* ***Run freebayes*** on all your alignment data simultaneously, generating a\nVCF.  The default settings should work for most use cases, but if your samples\nare not diploid, set the `--ploidy` and adjust the `--min-alternate-fraction`\nsuitably.\n* **Filter** the output e.g. using reported QUAL and/or depth (DP) or\nobservation count (AO).\n* **Interpret** your results.\n* (possibly, **Iterate** the variant detection process in response to insight\ngained from your interpretation)\n\nfreebayes emits a standard VCF 4.1 output stream.  This format is designed for the\nprobabilistic description of allelic variants within a population of samples,\nbut it is equally suited to describing the probability of variation in a single\nsample.\n\nOf primary interest to most users is the QUAL field, which estimates the\nprobability that there is a polymorphism at the loci described by the record.\nIn freebayes, this value can be understood as 1 - P(locus is homozygous given\nthe data).  It is recommended that users use this value to filter their\nresults, rather than accepting anything output by freebayes as ground truth.\n\nBy default, records are output even if they have very low probability of\nvariation, in expectation that the VCF will be filtered using tools such as\n[vcffilter](http://github.com/ekg/vcflib#vcffilter) in\n[vcflib](http://github.com/ekg/vcflib), which is also included in the\nrepository under `vcflib/`.  For instance,\n\n    freebayes -f ref.fa aln.bam | vcffilter -f \"QUAL > 20\" >results.vcf\n\nremoves any sites with estimated probability of not being polymorphic less than\nphred 20 (aka 0.01), or probability of polymorphism &gt; 0.99.\n\nIn simulation, the [receiver-operator\ncharacteristic](https://en.wikipedia.org/wiki/Receiver_operating_characteristic)\n (ROC) tends to have a very sharp inflection between Q1 and Q30, depending on\ninput data characteristics, and a filter setting in this range should provide\ndecent performance.  Users are encouraged to examine their output and both\nvariants which are retained and those they filter out.  Most problems tend to\noccur in low-depth areas, and so users may wish to remove these as well, which\ncan also be done by filtering on the DP flag.\n\n\n## Calling variants in a population\n\nfreebayes is designed to be run on many individuals from the same population\n(e.g. many human individuals) simultaneously.  The algorithm exploits a neutral\nmodel of allele diffusion to impute most-confident genotypings\nacross the entire population.  In practice, the discriminant power of the\nmethod will improve if you run multiple samples simultaneously.  In other\nwords, if your\nstudy has multiple individuals, you should run freebayes against them at the\nsame time.  This also ensures consistent reporting of information about\nevidence for all samples at any locus where any are apparently polymorphic.\n\nTo call variants in a population of samples, each alignment must have a read\ngroup identifier attached to it (RG tag), and the header of the BAM file in\nwhich it resides must map the RG tags to sample names (SM).  Furthermore, read\ngroup IDs must be unique across all the files used in the analysis.  One read\ngroup cannot map to multiple samples.  The reason this is required is that\nfreebayes operates on a virtually merged BAM stream provided by the BamTools\nAPI.  If merging the files in your analysis using bamtools merge would generate\na file in which multiple samples map to the same RG, the files are not suitable\nfor use in population calling, and they must be modified.\n\nUsers may add RG tags to BAM files which were generated without this\ninformation by using (as mentioned in \"Calling variants\" above)\n[bamaddrg](http://github.com/ekg/bamaddrg).\nIf you have many files corresponding to\nmany individuals, add a unique read group and sample name to each, and then\nopen them all simultaneously with freebayes.  The VCF output will have one\ncolumn per sample in the input.\n\n\n## Performance tuning\n\nIf you find freebayes to be slow, or use large amounts of memory, consider the\nfollowing options:\n\n- Set `--use-best-n-alleles 4`: this will reduce the number of alleles that are\n  considered, which will decrease runtime at the cost of sensitivity to\nlower-frequency alleles at multiallelic loci.  Calculating site qualities\nrequires O(samples\\*genotypes) runtime, and the number of genotypes is\nexponential in ploidy and the number of alleles that are considered, so this is\nvery important when working with high ploidy samples (and also\n`--pooled-discrete`). By default, freebayes puts no limit on this.\n\n- Remove `--genotype-qualities`: calculating genotype qualities requires\n  O(samples\\*genotypes) memory.\n\n- Set higher input thresholds. Require that N reads in one sample support an\n  allele in order to consider it: `--min-alternate-count N`, or that the allele\nfraction in one sample is M: `--min-alternate-fraction M`. This will filter\nnoisy alleles.  The defaults, `--min-alternate-count 2 --min-alternate-fraction\n0.2`, are most-suitable for diploid, moderate-to-high depth samples, and should\nbe changed when working with different ploidy samples. Alternatively,\n`--min-alternate-qsum` can be used to set a specific quality sum, which may be\nmore flexible than setting a hard count on the number of observations.\n\n\n## Observation filters and qualities\n\n### Input filters\n\nBy default, freebayes doesn't\n\nfreebayes may be configured to filter its input so as to ignore low-confidence alignments and alleles which are only supported by low-quality sequencing observations (see `--min-mapping-quality` and `--min-base-quality`).\nIt also will only evaluate a position if at least one read has mapping quality of `--min-supporting-mapping-quality` and one allele has quality of at least `--min-supporting-base-quality`.\n\nReads with more than a fixed number of high-quality mismatches can be excluded by specifying `--read-mismatch-limit`.\nThis is meant as a workaround when mapping quality estimates are not appropriately calibrated.\n\nReads marked as duplicates in the BAM file are ignored, but this can be disabled for testing purposes by providing `--use-duplicate-reads`.\nfreebayes does not mark duplicates on its own, you must use another process to do this, such as that in [sambamba](https://github.com/biod/sambamba).\n\n### Observation thresholds\n\nAs a guard against spurious variation caused by sequencing artifacts, positions are skipped when no more than `--min-alternate-count` or `--min-alternate-fraction` non-clonal observations of an alternate are found in one sample.\nThese default to 2 and 0.05 respectively.\nThe default setting of `--min-alternate-fraction 0.05` is suitable for diploid samples but may need to be changed for higher ploidy.\n\n### Allele type exclusion\nfreebayes provides a few methods to ignore certain classes of allele, e.g.\n`--throw-away-indels-obs` and `--throw-awary-mnps-obs`.  Users are *strongly cautioned against using\nthese*, because removing this information is very likely to reduce detection\npower.  To generate a report only including SNPs, use vcffilter post-call as\nsuch:\n\n    freebayes ... | vcffilter -f \"TYPE = snp\"\n\n### Normalizing variant representation\n\nIf you wish to obtain a VCF that does not contain haplotype calls or complex alleles, first call with default parameters and then decompose the output with tools in vcflib, vt, vcf-tools, bcftools, GATK, or Picard.\nHere we use a tool in vcflib that normalizes the haplotype calls into pointwise SNPs and indels:\n\n    freebayes ... | vcfallelicprimitives -kg >calls.vcf\n\nNote that this is not done by default as it makes it difficult to determine which variant calls freebayes completed.\nThe raw output faithfully describes exactly the calls that were made.\n\n### Observation qualities\n\nfreebayes estimates observation quality using several simple heuristics based\non manipulations of the phred-scaled base qualities:\n\n* For single-base observations, *mismatches* and *reference observations*: the\nun-adjusted base quality provided in the BAM alignment record.\n* For *insertions*: the mean quality of the bases inside of the putatively\ninserted sequence.\n* For *deletions*: the mean quality of the bases flanking the putatively\ndeleted sequence.\n* For *haplotypes*: the mean quality of allele observations within the\nhaplotype.\n\nBy default, both base and mapping quality are into the reported site quality (QUAL in the VCF) and genotype quality (GQ, when supplying `--genotype-qualities`).\nThis integration is driven by the \"Effective Base Depth\" metric first developed in [snpTools](http://www.hgsc.bcm.edu/software/snptools), which scales observation quality by mapping quality: *P(Obs|Genotype) ~ P(MappedCorrectly(Obs))P(SequencedCorrectly(Obs))*.\nSet `--standard-gls` to use the model described in the freebayes preprint.\n\n## Stream processing\n\nfreebayes can read BAM from standard input `--stdin` instead of directly from\nfiles.  This allows the application of any number of streaming BAM filters and\ncalibrators to its input.\n\n    bam_merger.sh | streaming_filter_or_process.sh | freebayes --stdin ...\n\nThis pattern allows the adjustment of alignments without rewriting BAM files,\nwhich could be expensive depending on context and available storage.  A prime\nexample of this would be graph-based realignment of reads to known variants as\nimplemented in [glia](http://github.com/ekg/glia).\n\nUsing this pattern, you can filter out reads with certain criteria using\nbamtools filter without having to modify the input BAM file.  You can also use\nthe bamtools API to write your own custom filters in C++.  An example filter is\nbamfiltertech\n[src/bamfiltertech.cpp](http://github.com/freebayes/freebayes/blob/master/src/bamfilte\nrtech.cpp), which could be used to filter out\ntechnologies which have characteristic errors which may frustrate certain types\nof variant detection.\n\n## INDELs\n\nIn principle, any gapped aligner which is sensitive to indels will\nproduce satisfactory input for use by freebayes.  Due to potential ambiguity,\nindels are\nnot parsed when they overlap the beginning or end of alignment boundaries.\n\nWhen calling indels, it is important to homogenize the positional distribution\nof insertions and deletions in the input by using left realignment.  This is\nnow done automatically by freebayes, but the behavior can be turned off via\n`--dont-left-align-indels` flag.  You probably don't want to do this.\n\nLeft realignment will place all indels in homopolymer and microsatellite\nrepeats at the same position, provided that doing so does not introduce\nmismatches between the read and reference other than the indel.  This method\ncomputationally inexpensive and handles the most common classes of alignment\ninconsistency.\n\n## Haplotype calls\n\nAs freebayes is haplotype-based, left-alignment is necessary only for the\ndetermination of candidate polymorphic loci.  Once such loci are determined,\nhaplotype observations are extracted from reads where:\n\n1. putative variants lie within `--haplotype-length` bases of each other\n(default 3bp),\n2. the reference sequence has repeats (e.g. microsatellites or STRs are called\nas one haplotype),\n3. the haplotype which is called has Shannon entropy less than\n`--min-repeat-entropy`, which is off by default but can be set to ~1 for\noptimal genotyping of indels in lower-complexity sequence.\n\nAfter a haplotype window is determined by greedily expanding the window across\noverlapping haplotype observations, all reads overlapping the window are used\nto establish data likelihoods, *P(Observations|Genotype)*, for all haplotypes\nwhich have sufficient support to pass the input filters.\n\nPartial observations are considered to support those haplotypes which they\ncould match exactly.  For expedience, only haplotypes which are contiguously\nobserved by the reads are considered as putative alleles in this process.  This\ndiffers from other haplotype-based methods, such as\n[Platypus](http://www.well.ox.ac.uk/platypus), which consider all possible\nhaplotypes composed of observed component alleles (SNPs, indels) in a given\nregion when generating likelihoods.\n\nThe primary adantages of this approach are conceptual simplicity and\nperformance, and it is primarily limited in the case of short reads, an issue\nthat is mitigated by increasing read lengths.  Also, a hybrid approach must be\nused to call haplotypes from high-error rate long reads.\n\n### Re-genotyping known variants and calling long haplotypes\n\nFor longer reads with higher error rates, it is possible to generate long\nhaplotypes in two passes over the data.  For instance, if we had very long\nreads (e.g. >10kb) at moderate depth and high error rate (>5%) such as might be\nproduced by PacBio, we could do something like:\n\n    freebayes -f ref.fa aln.bam | vcffilter -f \"QUAL > 20\" >vars.vcf\n\n... thus generating candidate variants of suitable quality using the default\ndetection window.  We can then use these as \"basis alleles\" for the observation\nof haplotypes, considering all other putative variants supported by the\nalignment to be sequencing errors:\n\n    freebayes -f ref.fa --haplotype-length 500 \\\n        --haplotype-basis-alleles vars.vcf aln.bam >haps.vcf\n\nThese steps should allow us to read long haplotypes directly from input data\nwith high error rates.\n\nThe high error rate means that beyond a small window each read will contain a\ncompletely different literal haplotype.  To a point, this property improves our\nsignal to noise ratio and can effectively filter out sequencing errors at the\npoint of the input filters, but it also decreases the effective observation\ndepth will prevent the generation of any calls if a long `--haplotype-length`\nis combined with high a sequencing error rate.\n\n\n## Best practices and design philosophy\n\nfreebayes follows the patterns suggested by the [Unix philosophy](https://en.wikipedia.org/wiki/Unix_philosophy), which promotes the development of simple, modular systems that perform a single function, and can be combined into more complex systems using stream processing of common interchange formats.\n\nfreebayes incorporates a number of features in order to reduce the complexity of variant detection for researchers and developers:\n\n* **Indel realignment is accomplished internally** using a read-independent method, and issues resulting from discordant alignments are dramatically reducedy through the direct detection of haplotypes.\n* The need for **base quality recalibration is avoided** through the direct detection of haplotypes. Sequencing platform errors tend to cluster (e.g. at the ends of reads), and generate unique, non-repeating haplotypes at a given locus.\n* **Variant quality recalibration is avoided** by incorporating a number of metrics, such as read placement bias and allele balance, directly into the Bayesian model.  (Our upcoming publication will discuss this in more detail.)\n\nA minimal pre-processing pipeline similar to that described in \"Calling variants\" should be sufficient for most uses.\nFor more information, please refer to a post by Brad Chapman [on minimal BAM preprocessing methods](http://bcbio.wordpress.com/2013/10/21/updated-comparison-of-variant-detection-methods-ensemble-freebayes-and-minimal-bam-preparation-pipelines/).\n\n## Development\n\nTo download freebayes, please use git to download the most recent development tree:\n\n    git clone --recursive https://github.com/freebayes/freebayes.git\n\nIf you have a repo, update the submodules with\n\n    git submodule update --init --recursive --progress\n\nOn Debian you'll need a gcc compiler and want packages:\n\n- bc\n- samtools\n- parallel\n- meson\n- ninja-build\n- libvcflib-tools\n- vcftools\n\nBuild dependencies are listed in [guix.scm](./guix.scm) and\n[travis](.travis.yml). Builds have been tested with gcc 7 and clang 9.\n\n## Compilation\n\nMake sure to have dependencies installed and checkout the tree\nwith `--recursive`.\n\nFreebayes can target AMD64 and ARM64 (with Neon extensions).\n\nRecently we added the meson build system which can be run with\n\n    meson build/ --buildtype release\n\nFor development/debugging use\n\n    meson build/ --buildtype debug\n\nor to setup with clang instead\n\n    env CXX=clang++ CC=clang CC_LD=lld meson build --buildtype debug\n\nNext compile and test in the ~build~ directory\n\n    cd build\n    ninja\n    ninja test\n\nThe freebayes binary should be in\n\n    build/freebayes\n\nTests on ARM may be slow. If you get a TIMEOUT use a multiplier,\ne.g.\n\n    meson test -t 4 -C build/\n\nSee [meson.build](./meson.build) for more information.\n\n### Compile in a Guix container\n\nAfter checking out the repo with git recursive create a Guix\ncontainer with all the build tools with\n\n    guix shell -C -D -f guix.scm\n\nSee also the header of [guix.scm](./guix.scm)."
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "regular_expression"
    }
  ],
  "releases": [
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "pjotrp",
          "type": "User"
        },
        "date_created": "2024-04-28T05:53:25Z",
        "date_published": "2024-04-28T05:56:11Z",
        "html_url": "https://github.com/freebayes/freebayes/releases/tag/v1.3.8-pre3",
        "name": "Debian test release",
        "release_id": 153120622,
        "tag": "v1.3.8-pre3",
        "tarball_url": "https://api.github.com/repos/freebayes/freebayes/tarball/v1.3.8-pre3",
        "type": "Release",
        "url": "https://api.github.com/repos/freebayes/freebayes/releases/153120622",
        "value": "https://api.github.com/repos/freebayes/freebayes/releases/153120622",
        "zipball_url": "https://api.github.com/repos/freebayes/freebayes/zipball/v1.3.8-pre3"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "pjotrp",
          "type": "User"
        },
        "date_created": "2024-04-23T06:29:42Z",
        "date_published": "2024-04-23T06:31:41Z",
        "description": "\r\n## ChangeLog v1.3.8 (20240423)\r\n\r\nThis is a maintenance release of Freebayes:\r\n\r\n+ fixes for Debian https://github.com/freebayes/freebayes/issues/786, thanks Hrithik Mangla and Nilesh Patra for reporting\r\n+ unbundled vcflib and vendored back in the much smaller fastahack and smithwaterman modules until Debian provides the include files\r\n\r\nNote:\r\n\r\n+ quality scores in test/regression/NA12878.chr22.tiny.vcf changed with recent builds. Probably caused by gcc-13 and we should look into that\r\n+ github-CI won't build until wfa2lib is included from Debian (WIP)\r\n",
        "html_url": "https://github.com/freebayes/freebayes/releases/tag/v1.3.8",
        "name": "freebayes 1.3.8",
        "release_id": 152333957,
        "tag": "v1.3.8",
        "tarball_url": "https://api.github.com/repos/freebayes/freebayes/tarball/v1.3.8",
        "type": "Release",
        "url": "https://api.github.com/repos/freebayes/freebayes/releases/152333957",
        "value": "https://api.github.com/repos/freebayes/freebayes/releases/152333957",
        "zipball_url": "https://api.github.com/repos/freebayes/freebayes/zipball/v1.3.8"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "pjotrp",
          "type": "User"
        },
        "date_created": "2023-02-12T03:55:52Z",
        "date_published": "2023-02-12T04:01:20Z",
        "description": "\r\n## ChangeLog v1.3.7 (20230212)\r\n\r\n+ sanitizing git submodules\r\n+ skip bed comment lines (thanks @jodyphelan)\r\n+ tweaks to improve performance on long reads\r\n+ Updated intervaltree module so build passed with gcc-11.\r\n+ Remarks and stub for `HTSCODECS_VERSION_TEXT`\r\n",
        "html_url": "https://github.com/freebayes/freebayes/releases/tag/v1.3.7",
        "name": "freebayes 1.3.7",
        "release_id": 92131227,
        "tag": "v1.3.7",
        "tarball_url": "https://api.github.com/repos/freebayes/freebayes/tarball/v1.3.7",
        "type": "Release",
        "url": "https://api.github.com/repos/freebayes/freebayes/releases/92131227",
        "value": "https://api.github.com/repos/freebayes/freebayes/releases/92131227",
        "zipball_url": "https://api.github.com/repos/freebayes/freebayes/zipball/v1.3.7"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "pjotrp",
          "type": "User"
        },
        "date_created": "2022-01-21T09:38:32Z",
        "date_published": "2022-01-21T09:57:05Z",
        "description": "This is a maintenance release of Freebayes. The provided binary is quite a bit faster (see benchmark):\r\n\r\n+ Added parallel snakemake example and text (thanks @sanjaynagi)\r\n+ Updated packaged htslib build to release 1.14\r\n+ README fixes https://github.com/freebayes/freebayes/issues/726 (thanks @veghp)\r\n+ Add option to force use of submodule deps (thanks @jnumm)\r\n+ Using recent guix shell support for building freebayes\r\n+ Added static build support with meson+ninja\r\n+ Started tracking freebayes performance in ./test/performance/benchmark.md\r\n+ Added matrix channel badge to README\r\n+ Added Pjotr Prins as maintainer in README and banner\r\n\r\nThe provided static binary is built against gcc 10.3.0 and htslib 1.12.\r\n\r\nNote that at this point the static binary builds with:\r\n\r\n    meson build -Dstatic=true -Dprefer_system_deps=false --buildtype release\r\n",
        "html_url": "https://github.com/freebayes/freebayes/releases/tag/v1.3.6",
        "name": "freebayes 1.3.6",
        "release_id": 57669334,
        "tag": "v1.3.6",
        "tarball_url": "https://api.github.com/repos/freebayes/freebayes/tarball/v1.3.6",
        "type": "Release",
        "url": "https://api.github.com/repos/freebayes/freebayes/releases/57669334",
        "value": "https://api.github.com/repos/freebayes/freebayes/releases/57669334",
        "zipball_url": "https://api.github.com/repos/freebayes/freebayes/zipball/v1.3.6"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "pjotrp",
          "type": "User"
        },
        "date_created": "2021-02-10T09:21:07Z",
        "date_published": "2021-02-10T09:23:11Z",
        "description": "\r\n## ChangeLog v1.3.5 (20210210)\r\n\r\nThis is a maintenance and bug-fix release of Freebayes:\r\n\r\n+ Namespace Fasta* classes which has a build conflict with fastahack\r\n  https://github.com/freebayes/freebayes/commit/00594a1db84855f99c9fe2c23305b86fa542dff2\r\n  (thanks @jnumm)\r\n\r\nIf you want the executable binary use v1.3.4 below - it is the same.",
        "html_url": "https://github.com/freebayes/freebayes/releases/tag/v1.3.5",
        "name": "freebayes 1.3.5",
        "release_id": 37849109,
        "tag": "v1.3.5",
        "tarball_url": "https://api.github.com/repos/freebayes/freebayes/tarball/v1.3.5",
        "type": "Release",
        "url": "https://api.github.com/repos/freebayes/freebayes/releases/37849109",
        "value": "https://api.github.com/repos/freebayes/freebayes/releases/37849109",
        "zipball_url": "https://api.github.com/repos/freebayes/freebayes/zipball/v1.3.5"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "pjotrp",
          "type": "User"
        },
        "date_created": "2021-01-29T11:01:25Z",
        "date_published": "2021-01-29T11:03:33Z",
        "description": "## ChangeLog v1.3.4 (20210129)\r\n\r\nThis is a maintenance and bug-fix release of Freebayes:\r\n\r\n+ 9 issues [closed](https://github.com/freebayes/freebayes/milestone/1?closed=1)\r\n+ Added support for --trim-complex-tail with #139 and 97735089a1bbf658862fb16f4514c0ad93195e0a (thanks @tsibley)\r\n+ Fixed meson to not build dependencies if they are found to be installed. This should facilitate Debian builds (thanks @jnumm)\r\n+ Cleanup and small fixes (thanks @jnumm)\r\n+ Tested running combinations of builds with installed libs and local builds (htslib, vcflib, tabixpp --- only seqlib needs confirmation)\r\n+ Updated scripts to use python3 (thanks @tillea)\r\n",
        "html_url": "https://github.com/freebayes/freebayes/releases/tag/v1.3.4",
        "name": "freebayes 1.3.4",
        "release_id": 37077671,
        "tag": "v1.3.4",
        "tarball_url": "https://api.github.com/repos/freebayes/freebayes/tarball/v1.3.4",
        "type": "Release",
        "url": "https://api.github.com/repos/freebayes/freebayes/releases/37077671",
        "value": "https://api.github.com/repos/freebayes/freebayes/releases/37077671",
        "zipball_url": "https://api.github.com/repos/freebayes/freebayes/zipball/v1.3.4"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "pjotrp",
          "type": "User"
        },
        "date_created": "2020-12-13T13:19:12Z",
        "date_published": "2020-12-13T13:22:13Z",
        "description": "## ChangeLog v1.3.3 (20201213)\r\n\r\nThis is a maintenance release of Freebayes:\r\n\r\n+ Freebayes compiles for ARM64\r\n+ Freebayes supports CRAM and we added a test for CRAM and a hint in\r\n  the README\r\n+ Added Meson+Ninja build system for faster builds\r\n+ Merged: Set CRAM reference for the reader #632 (thanks @SebastianHollizeck)\r\n+ Merged: Fix help messages for python tools #635 (thanks @ibebio)\r\n+ Fixed: Please port to Python3 #569 which removes Debian patch (thanks @tillea)\r\n+ Moved unused files from ./src to ./contrib/freebayes\r\n+ Moved stripped SeqLib source into ./contrib/SeqLib as SeqLib is no\r\n  longer maintained\r\n+ Made htslib a primary dependency of freebayes\r\n+ Updated htslib to the latest version\r\n+ Fixed clang build, requires a patch on htslib sent upstream with https://github.com/samtools/htslib/pull/1190\r\n+ Applied https://github.com/walaj/SeqLib/pull/53 (thanks @jmarshall)\r\n+ Freebayes builds against stock htslib for Debian etc. Unfortunately\r\n  Debian does not include htslib headers, nor does it handle LZMA\r\n  codecs for CRAM, so the source tree is pulled in for local\r\n  builds. See #664.\r\n+ Updated travis-CI: passes new meson builds for gcc\r\n+ Added github-CI: passes\r\n\r\nSome minor stuff:\r\n\r\n+ Added regression test so we track some changes through git repo\r\n+ Added github agent to deal with stale issues on the issue tracker\r\n",
        "html_url": "https://github.com/freebayes/freebayes/releases/tag/v1.3.3",
        "name": "freebayes 1.3.3",
        "release_id": 35203900,
        "tag": "v1.3.3",
        "tarball_url": "https://api.github.com/repos/freebayes/freebayes/tarball/v1.3.3",
        "type": "Release",
        "url": "https://api.github.com/repos/freebayes/freebayes/releases/35203900",
        "value": "https://api.github.com/repos/freebayes/freebayes/releases/35203900",
        "zipball_url": "https://api.github.com/repos/freebayes/freebayes/zipball/v1.3.3"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "ekg",
          "type": "User"
        },
        "date_created": "2019-10-06T08:14:31Z",
        "date_published": "2019-12-17T09:22:05Z",
        "description": "This ensures python3 compatibility, but is otherwise very similar to v1.3.1.",
        "html_url": "https://github.com/freebayes/freebayes/releases/tag/v1.3.2",
        "name": "python3",
        "release_id": 22281572,
        "tag": "v1.3.2",
        "tarball_url": "https://api.github.com/repos/freebayes/freebayes/tarball/v1.3.2",
        "type": "Release",
        "url": "https://api.github.com/repos/freebayes/freebayes/releases/22281572",
        "value": "https://api.github.com/repos/freebayes/freebayes/releases/22281572",
        "zipball_url": "https://api.github.com/repos/freebayes/freebayes/zipball/v1.3.2"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "ekg",
          "type": "User"
        },
        "date_created": "2019-06-03T13:29:43Z",
        "date_published": "2019-06-03T13:42:15Z",
        "description": "This is a point release over v1.3.0 that includes some important fixes to make the depth skipping work correctly. It also includes a fix for a \"hang\" problem that would occur in very low entropy sequences.",
        "html_url": "https://github.com/freebayes/freebayes/releases/tag/v1.3.1",
        "name": "Depth skipping bugfixes",
        "release_id": 17743627,
        "tag": "v1.3.1",
        "tarball_url": "https://api.github.com/repos/freebayes/freebayes/tarball/v1.3.1",
        "type": "Release",
        "url": "https://api.github.com/repos/freebayes/freebayes/releases/17743627",
        "value": "https://api.github.com/repos/freebayes/freebayes/releases/17743627",
        "zipball_url": "https://api.github.com/repos/freebayes/freebayes/zipball/v1.3.1"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "ekg",
          "type": "User"
        },
        "date_created": "2019-05-29T10:56:46Z",
        "date_published": "2019-05-29T11:10:21Z",
        "description": "For a long time, one of the most difficult aspects of using freebayes is that doesn't have a method to skip regions of high coverage. The alignment processing model greatly expands the memory usage relative to depth, leading to problems in high coverage regions.\r\n\r\nIn cases where coverage varies dramatically across the reference, such as by many orders of magnitude, this led to a need to calculate a coverage map and use this to establish a set of targets. Another approach is to break up the genome into regions of a given number of reads, which tends to normalize runtime across parallel jobs. Both of these approaches are rather complicated for many users to implement, and lead to problems.\r\n\r\nThis problem is particularly pronounced in the context of assembly polishing, where freebayes is seeing a lot of use. To minimize difficulty for groups using it in this manner (like the VGP), I've implemented a filter that allows us to skip regions of high coverage, `--skip-coverage`.\r\n\r\nI have also renamed the previously used `--max-coverage` to `--limit-coverage` to minimize confusion about its function. It applies deterministic read downsampling to drop to the desired coverage. This reduces genotyping cost, but it doesn't help improve runtime in cases of extreme depth because we have to spend a lot of time and memory processing the input alignments. Both options can be applied together, as they are independent.\r\n\r\nThis release bundles up a number of other changes from the last year.\r\n\r\nAttached to this release is an experimental static binary that should work on modern Linux systems. Note that this includes a minor bugfix to correct parameter parsing against v1.3.0.",
        "html_url": "https://github.com/freebayes/freebayes/releases/tag/v1.3.0",
        "name": "Skipping regions with high coverage",
        "release_id": 17652685,
        "tag": "v1.3.0",
        "tarball_url": "https://api.github.com/repos/freebayes/freebayes/tarball/v1.3.0",
        "type": "Release",
        "url": "https://api.github.com/repos/freebayes/freebayes/releases/17652685",
        "value": "https://api.github.com/repos/freebayes/freebayes/releases/17652685",
        "zipball_url": "https://api.github.com/repos/freebayes/freebayes/zipball/v1.3.0"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "ekg",
          "type": "User"
        },
        "date_created": "2018-04-09T15:09:32Z",
        "date_published": "2018-04-09T15:13:35Z",
        "description": "This release marks the integration of settings that I've been using for much of my work with freebayes for several years as default parameters. It sets the `--min-alternate-fraction` parameter to 0.05, which tends to improve sensitivity in almost all contexts I've tested. In addition, it sets the `--min-repeat-entropy` parameter to 1, which will tend to produce marginally more haplotype based calls where repeats are flanked by low-entropy sequence that may not be an exact repeat. These changes cause freebayes to produce more sites than before, so users should be aware and filter as appropriate. The previous settings are accessible via `-F 0.2 --min-repeat-entropy 0`.",
        "html_url": "https://github.com/freebayes/freebayes/releases/tag/v1.2.0",
        "name": "Sensitive default input filters",
        "release_id": 10457870,
        "tag": "v1.2.0",
        "tarball_url": "https://api.github.com/repos/freebayes/freebayes/tarball/v1.2.0",
        "type": "Release",
        "url": "https://api.github.com/repos/freebayes/freebayes/releases/10457870",
        "value": "https://api.github.com/repos/freebayes/freebayes/releases/10457870",
        "zipball_url": "https://api.github.com/repos/freebayes/freebayes/zipball/v1.2.0"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "ekg",
          "type": "User"
        },
        "date_created": "2016-11-03T11:25:39Z",
        "date_published": "2016-11-04T14:47:10Z",
        "description": "By replacing BamTools with SeqLib, freebayes becomes dramatically faster and much more memory efficient!\n\nThanks @walaj !!!\n",
        "html_url": "https://github.com/freebayes/freebayes/releases/tag/v1.1.0",
        "name": "Integrates SeqLib",
        "release_id": 4571485,
        "tag": "v1.1.0",
        "tarball_url": "https://api.github.com/repos/freebayes/freebayes/tarball/v1.1.0",
        "type": "Release",
        "url": "https://api.github.com/repos/freebayes/freebayes/releases/4571485",
        "value": "https://api.github.com/repos/freebayes/freebayes/releases/4571485",
        "zipball_url": "https://api.github.com/repos/freebayes/freebayes/zipball/v1.1.0"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "ekg",
          "type": "User"
        },
        "date_created": "2015-12-24T19:40:06Z",
        "date_published": "2016-01-11T16:45:13Z",
        "html_url": "https://github.com/freebayes/freebayes/releases/tag/v1.0.2",
        "name": "resolves memory leaks when not using gVCF",
        "release_id": 2406486,
        "tag": "v1.0.2",
        "tarball_url": "https://api.github.com/repos/freebayes/freebayes/tarball/v1.0.2",
        "type": "Release",
        "url": "https://api.github.com/repos/freebayes/freebayes/releases/2406486",
        "value": "https://api.github.com/repos/freebayes/freebayes/releases/2406486",
        "zipball_url": "https://api.github.com/repos/freebayes/freebayes/zipball/v1.0.2"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "ekg",
          "type": "User"
        },
        "date_created": "2015-11-15T18:34:52Z",
        "date_published": "2015-11-17T21:29:39Z",
        "description": "A number of small bugfixes are included here. This tag should help with downstream package management.\n",
        "html_url": "https://github.com/freebayes/freebayes/releases/tag/v1.0.1",
        "name": "Bugfix release",
        "release_id": 2142293,
        "tag": "v1.0.1",
        "tarball_url": "https://api.github.com/repos/freebayes/freebayes/tarball/v1.0.1",
        "type": "Release",
        "url": "https://api.github.com/repos/freebayes/freebayes/releases/2142293",
        "value": "https://api.github.com/repos/freebayes/freebayes/releases/2142293",
        "zipball_url": "https://api.github.com/repos/freebayes/freebayes/zipball/v1.0.1"
      },
      "technique": "GitHub_API"
    }
  ],
  "somef_missing_categories": [
    "acknowledgement",
    "run",
    "download",
    "requirements",
    "contact",
    "contributors",
    "documentation",
    "faq",
    "identifier",
    "has_build_file",
    "executable_example"
  ],
  "somef_provenance": {
    "date": "2024-11-04 06:16:57",
    "somef_schema_version": "1.0.0",
    "somef_version": "0.9.5"
  },
  "stargazers_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 785
      },
      "technique": "GitHub_API"
    }
  ],
  "support": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Support",
        "parent_header": [
          "*freebayes*, a haplotype-based variant detector"
        ],
        "type": "Text_excerpt",
        "value": "Please report any issues or questions to the [freebayes mailing list](https://groups.google.com/forum/#!forum/freebayes). Report bugs on the [freebayes issue tracker](https://github.com/freebayes/freebayes/issues)\n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "header_analysis"
    }
  ],
  "type": [
    {
      "confidence": 0.82,
      "result": {
        "type": "String",
        "value": "commandline-application"
      },
      "technique": "software_type_heuristics"
    }
  ],
  "usage": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Usage",
        "parent_header": [
          "*freebayes*, a haplotype-based variant detector"
        ],
        "type": "Text_excerpt",
        "value": "In its simplest operation, freebayes requires only two inputs: a FASTA reference sequence, and a BAM-format alignment file sorted by reference position.\nFor instance:\n\n    freebayes -f ref.fa aln.bam >var.vcf\n\n... will produce a VCF file describing all SNPs, INDELs, and haplotype variants between the reference and aln.bam. The CRAM version is\n\n    freebayes -f ref.fa aln.cram >var.vcf\n\nMultiple BAM files may be given for joint calling.\n\nTypically, we might consider two additional parameters.\nGVCF output allows us to have coverage information about non-called sites, and we can enable it with `--gvcf`.\nFor performance reasons we may want to skip regions of extremely high coverage in the reference using the `--skip-coverage` parameter or `-g`.\nThese can greatly increase runtime but do not produce meaningful results.\nFor instance, if we wanted to exclude regions of 1000X coverage, we would run:\n\n    freebayes -f ref.fa aln.bam --gvcf -g 1000 >var.vcf\n\nFor a description of available command-line options and their defaults, run:\n\n    freebayes --help\n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Examples",
        "parent_header": [
          "*freebayes*, a haplotype-based variant detector"
        ],
        "type": "Text_excerpt",
        "value": "Call variants assuming a diploid sample:\n\n    freebayes -f ref.fa aln.bam >var.vcf\n\nCall variants on only chrQ:\n\n    freebayes -f ref.fa -r chrQ aln.bam >var.vcf\n\nCall variants on only chrQ, from position 1000 to 2000:\n\n    freebayes -f ref.fa -r chrQ:1000-2000 aln.bam >var.vcf\n\nRequire at least 5 supporting observations to consider a variant:\n\n    freebayes -f ref.fa -C 5 aln.bam >var.vcf\n\nSkip over regions of high depth by discarding alignments overlapping positions where total read depth is greater than 200:\n\n    freebayes -f ref.fa -g 200 aln.bam >var.vcf\n\nUse a different ploidy:\n\n    freebayes -f ref.fa -p 4 aln.bam >var.vcf\n\nAssume a pooled sample with a known number of genome copies.  Note that this\nmeans that each sample identified in the BAM file is assumed to have 32 genome\ncopies.  When running with high --ploidy settings, it may be required to set\n`--use-best-n-alleles` to a low number to limit memory usage.\n\n    freebayes -f ref.fa -p 32 --use-best-n-alleles 4 --pooled-discrete aln.bam >var.vcf\n\nGenerate frequency-based calls for all variants passing input thresholds. You'd do\nthis in the case that you didn't know the number of samples in the pool.\n\n    freebayes -f ref.fa -F 0.01 -C 1 --pooled-continuous aln.bam >var.vcf\n\nUse an input VCF (bgzipped + tabix indexed) to force calls at particular alleles:\n\n    freebayes -f ref.fa -@ in.vcf.gz aln.bam >var.vcf\n\nGenerate long haplotype calls over known variants:\n\n    freebayes -f ref.fa --haplotype-basis-alleles in.vcf.gz \\\n                        --haplotype-length 50 aln.bam\n\nNaive variant calling: simply annotate observation counts of SNPs and indels:\n\n    freebayes -f ref.fa --haplotype-length 0 --min-alternate-count 1 \\\n        --min-alternate-fraction 0 --pooled-continuous --report-monomorphic >var.vcf\n"
      },
      "source": "https://raw.githubusercontent.com/ekg/freebayes/master/README.md",
      "technique": "header_analysis"
    }
  ]
}