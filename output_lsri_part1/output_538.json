{
  "application_domain": [
    {
      "confidence": 15.82,
      "result": {
        "type": "String",
        "value": "Computer Vision"
      },
      "technique": "supervised_classification"
    }
  ],
  "code_repository": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/SchriderLab/Timesweeper"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_created": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2020-01-06T17:31:33Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_updated": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2024-04-30T09:43:09Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "description": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "Python package for detecting positive selective sweeps using time-series genomics sampling data."
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 0.9729432812324892,
      "result": {
        "original_header": "TimeSweeper",
        "type": "Text_excerpt",
        "value": "Timesweeper is a package for detecting positive selective sweeps from time-series genomic sampling using convolutional neural networks. \n"
      },
      "source": "https://raw.githubusercontent.com/SchriderLab/Timesweeper/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.99310575984154,
      "result": {
        "original_header": "Overview",
        "type": "Text_excerpt",
        "value": "Timesweeper is built as a series of modules that are chained together to build a workflow for detecting signatures of selective sweeps using simulated demographic models to train a 1D convolutional neural network (1DCNN). Some modules can be swapped out or modified for different use cases (such as simulating from a custom SLiM script), but the general workflow order is assumed to be consistent. \n \n"
      },
      "source": "https://raw.githubusercontent.com/SchriderLab/Timesweeper/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9845923440912969,
      "result": {
        "original_header": "Workflow Overview",
        "type": "Text_excerpt",
        "value": "1. Create a SLiM script\n   1. Either based on the `example_demo_model.slim` example \n   2. Or by using stdpopsim to generate a SLiM script\n2. Simulate demographic model with time-series sampling\n   1. `sim_custom` if using custom SLiM script - you are also expected to edit `simulate_custom.py` module to suit your simulation parameters and needs\n   2. `sim_stdpopsim` if using a SLiM script output by stdpopsim\n   - Note: If available, we suggest using a job submission platform such as SLURM to parallelize simulations. This is the most resource and time-intensive part of the module by far.\n   - Optional: Simulate using your own SLiM scripts and runner program followed by preprocessing VCFs simulated without timesweepers simulation modules by merging with `process_vcfs` and `condense`\n3. Train networks with `train`\n4. Run `detect` on VCF of interest using trained models and input data \n"
      },
      "source": "https://raw.githubusercontent.com/SchriderLab/Timesweeper/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9867301443701607,
      "result": {
        "original_header": "Timesweeper Configuration",
        "type": "Text_excerpt",
        "value": "You are expected to edit the simulation script and the YAML file to suit your simulation needs, some of these parameters were specifically built for our manuscript, and your needs will likely be different. This includes editing the d_block and resulting code to edit the sampling times, individual counts, and other parameters.\n \n"
      },
      "source": "https://raw.githubusercontent.com/SchriderLab/Timesweeper/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9979596894789039,
      "result": {
        "original_header": "Configs required for both types of simulation:",
        "type": "Text_excerpt",
        "value": "- **Working Directory** (`work dir`) - this serves as the \"home base\" of an experiment. This is where all intermediate and final data will be written to.\n- **SLiM Script** (`slimfile`) - either generated by stdpopsim (see \"Using stdpopsim to generate a SLiM template\" below) or from a custom SLiM script (see \"Using a custom SLiM script\").\n- - **Path to SLiM Executable** (`slim path`) - if you use the Makefile will be `/<path>/<to>/<timesweeper>/SLiM/build/slim`\n- **Mutation types** (`mut types`) - target mutation types output by SLiM in outputVCFSample. Typically MT=1 is for neutral mutations and MT=2 is for selected alleles.\n- **Scenarios** (`scenarios`) - Names of the types of simulation scenarios input into Timesweeper. The standard (and maybe only?) option for current implementation is `[\"neut\", \"ssv\", \"sdn\"]`.\n- **Window size** (`win_size`) - Number of SNPs to use to create feature vectors.\n- **Number of Sample Points** (`num_sample_points`) - Number of timepoints sampled, identical to `len(sample_sizes)`.\n- **Individuals per timepoint** (`inds_per_tp`) - Another lazy variable to do some quick calculations, variable sampling sizes is supported but this is used for some quick calculations. Will probably be removed at some point when it causes errors.\n- **Sample sizes of each timepoint** (`sample sizes`) - sampled in your data (i.e. how many individuals are included in timepoint 1, timepoint 2, etc)\n- **Ploidy** (`ploidy`) - ploidy of your samples.\n- **Physical size** (`physLen`) - Size of the chromosome to simulate. Will be overwritten by stdpopsim if used.\n- **Simulation Replicates** (`reps`) - for each scenario: neutral, selection on de novo mutation, selection on standing variation. Will be overwritten with `--rep-range` argument if doing parallelized sims. \n"
      },
      "source": "https://raw.githubusercontent.com/SchriderLab/Timesweeper/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9807124471111469,
      "result": {
        "original_header": "Additional configs needed for stdpopsim simulation:",
        "type": "Text_excerpt",
        "value": "- **Target Population ID** (`pop`) - will be something like \"p1\" or \"p2\", will be identified in the stdpopsim model catalog.\n- **Years Sampled** (`years sampled`) - typically in years Before Present (BP - which is years prior to 1950 apparently). This is only needed if you are injecting sampling into a stdpopsim model or if you'd like to calculate FIT values along with the AFT predictions with Timesweeper. If you don't have any idea what these values should be you can still run Timesweeper and get AFT predictions no problem, just use a custom SLiM script and remove this line from the config file.\n- **Selection Generation Before Sampling** (`selection gen`) - Number of generations before the __first__ sample timepoint. We've found that you can be relatively flexible (see the manuscript), but 50 is a good default value.\n- **Selection Coefficient Bounds** (`selection coeff bounds`) - to improve robustness we use a uniform distribution to draw selection coefficients with lower and upper bounds specified here. If you want a non-stochastic selection coefficient simply use the same number twice.\n- **Mutation Rate** (`mut rate`) - just overwrites the stdpopsim mutation rate in case you'd like to fiddle with it. \n- **Generation Time** (`gen time`) - allows conversions between generations and continuous time. \n- **Selection Generation** (`selection gen`) - Number of generations to start sampling (with a random offset each replicate) before selection. \n"
      },
      "source": "https://raw.githubusercontent.com/SchriderLab/Timesweeper/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9897909059561488,
      "result": {
        "original_header": "Custom Simulation (`simulate_custom`)",
        "type": "Text_excerpt",
        "value": "A flexible wrapper for a SLiM script that assumes you have a demographic model already defined in SLiM and would like to use it for Timesweeper. This module is meant to be modified with utility functions and other constants to feed into simulation replicates using the string variable `d_block`. This set of constants will be fed to SLiM at runtime but can be modified in the module as needed prior. The module on GitHub is the version used to generate simulations for the manuscript, and is meant to provide ideas/context for how it's possible to modify the `d_block` and write utility functions for it. \n  There are some basic requirements for using a custom SLiM script:\n  1. Each timepoint must be output using a the outputVCFSample function like so: `<pop_id>.outputVCFSample(<num_individuals>, replace=T, filePath=outFile, append=T);`\n  2. The constants `sweep`, `outFile`, and `dumpFile` must be used in your simulation script\n      - `sweep`: one of \"neut\"/\"sdn\"/\"soft\", equivalent to neutral, selection on *de novo* mutation, and selection on standing variation respectively. This identifier is used both in the SLiM script to condition on scenarios but also in the output file naming.\n      - `outFile`: is the VCF file that will be used as output for samples for a given replicate. Will be set as `<work_dir>/vcfs/<sweep>/<rep>.multivcf`\n      - `dumpFile`: similarly to outFile this is where the intermediate simulation state is saved to in case of mutation loss or other problems with a replicate. \n  There is an example SLiM simulation in [constant_population.slim](timesweeper/constant_population.slim) that has been used and templated/modified for many experiments for the manuscript and is ready to be used with the current `d_block` setup in `sim_custom.py`.\n```\n$ timesweeper sim_custom -h\nusage: timesweeper sim_custom [-h] [--threads THREADS]\n                              [--rep-range REP_RANGE REP_RANGE] -y YAML_CONFIG\n\nSimulates selection for training Timesweeper using a pre-made SLiM script.\n\noptions:\n  -h, --help            show this help message and exit\n  --threads THREADS     Number of processes to parallelize across. Defaults to\n                        all.\n  --rep-range REP_RANGE REP_RANGE\n                        <start, stop>. If used, only range(start, stop) will\n                        be simulated for reps. This is to allow for easy SLURM\n                        parallel simulations.\n  -y YAML_CONFIG, --yaml YAML_CONFIG\n                        YAML config file with all required options defined.\n\n```\n \n"
      },
      "source": "https://raw.githubusercontent.com/SchriderLab/Timesweeper/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9573586687210854,
      "result": {
        "original_header": "stpopsim Simulation (`simulate_stdpopsim`)",
        "type": "Text_excerpt",
        "value": "For use with SLiM scripts that have been generated using stdpopsim's `--slim-script` option to output the model. This allows for out of the box demographic models downloaded straight from the catalog stdpopsim adds to regularly. Some information needs to be gotten from the model definition so that the wrapper knows which population to sample from, how to scale values if rescaling the simulation, and more. These are described in detail both in the help message of the module and in the above doc section [Configs required for both types of simulation](#configs-required-for-both-types-of-simulation).\n```\n$ timesweeper sim_stdpopsim -h\nusage: timesweeper sim_stdpopsim [-h] [-v] [--threads THREADS]\n                                 [--rep-range REP_RANGE REP_RANGE]\n                                 YAML CONFIG\n\nInjects time-series sampling into stdpopsim SLiM output script.\n\npositional arguments:\n  YAML CONFIG           YAML config file with all options defined.\n\noptions:\n  -h, --help            show this help message and exit\n  -v, --verbose         Print verbose logging during process.\n  --threads THREADS     Number of processes to parallelize across.\n  --rep-range REP_RANGE REP_RANGE\n                        <start, stop>. If used, only range(start, stop) will\n                        be simulated for reps. This is to allow for easy SLURM\n                        parallel simulations.\n```\n \n"
      },
      "source": "https://raw.githubusercontent.com/SchriderLab/Timesweeper/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9924280083335965,
      "result": {
        "original_header": "Process VCF Files (`process`)",
        "type": "Text_excerpt",
        "value": "This module splits the multivcf files (which are just multiple concatenated VCF entries) generated by SLiM and then merges them in order from most ancient to most current timepoints. **NOTE:** This is already integrated into `sim_custom` and `sim_stdpopsim` but can be used separately if you would like to simulate without the sim_custom or sim_stdpopsim modules.\n```\n$ timesweeper process -h\nusage: timesweeper process [-h] -i IN_DIR -t THREADS\n\nModule for splitting multivcfs (vertically concatenated vcfs) into merged\n(horizontally concatenated vcfs) if simulating without the sim module.\n\noptions:\n  -h, --help            show this help message and exit\n  -i IN_DIR, --in-dir IN_DIR\n                        Top-level directory containing subidrectories labeled\n                        with the names of each scenario and then replicate\n                        numbers inside those containing each multivcf.\n  -t THREADS, --threads THREADS\n                        Threads to use for multiprocessing.\n\n```\n \n"
      },
      "source": "https://raw.githubusercontent.com/SchriderLab/Timesweeper/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.997045566131101,
      "result": {
        "original_header": "Make Training Data (`condense`)",
        "type": "Text_excerpt",
        "value": "VCFs merged using `timesweeper process` are read in as allele frequencies using scikit-allel, and depending on the scenario (neut/sdn/soft) the central or locus under selection is pulled out and aggregated for all replicates. This labeled ground-truth data from simulations is then saved as a dictionary in a pickle file for easy access and low disk usage.  \nThis module also allows for adding missingness to the training data in the case of missingness in the real data Timesweeper is going to be used on. To do this add the `-m <val>` flag where `val` is in [0,1] and is used as the parameter of a binomial draw for each allele per timestep to set as present/missing. We show in the manuscript that some missingness is viable (e.g. `val=0.2`), however high missingness (e.g. `val=0.5`) will result in terrible performance and should be avoided. Optimally this value should reflect the missingness present in the real data input to Timesweeper so as to parameterize the network to be better prepared for it. \nNote: the process of retrieving known-selection sites is based on the mutation type labels contained in VCF INFO fields output by SLiM. It currently assumes the mutation type where selection is being introduced is identified as \"m2\", but if you use a custom SLiM model and happen to change mutation type this module should be modified to properly scan for that. \nWarning: This module is the primary user of the `win_size` parameter. We recommend a window size of 51 based on our testing, but note that the current implementation of the 1DCNN fails to classify anything properly at sizes larger than k=101 in our testing, so user discretion and testing is advised when attempting to use larger windows.\n```\n$ timesweeper condense -h\nusage: timesweeper condense [-h] [--threads THREADS] [-o OUTFILE]\n                            [--subsample-inds SUBSAMPLE_INDS]\n                            [--subsample-tps SUBSAMPLE_TPS] [--og-tps OG_TPS]\n                            [-m MISSINGNESS] [-f FREQ_INC_THRESHOLD] [-a]\n                            [--hft] [--no-progress] [--verbose] -y YAML_CONFIG\n\nCreates training data from simulated merged vcfs after process_vcfs.py has\nbeen run.\n\noptions:\n  -h, --help            show this help message and exit\n  --threads THREADS     Number of processes to parallelize across.\n  -o OUTFILE, --outfile OUTFILE\n                        Pickle file to dump dictionaries with training data\n                        to. Should probably end with .pkl.\n  --subsample-inds SUBSAMPLE_INDS\n                        Number of individuals to subsample if using a larger\n                        simulation than needed for efficiency. NOTE: If you\n                        use this, keep the sample_sizes entry in the yaml\n                        config identical to the original simulations. This is\n                        mostly for the paper experiments and as such isn't\n                        very cleanly implemented.\n  --subsample-tps SUBSAMPLE_TPS\n                        Number of timepoints to subsample if using a larger\n                        simulation than needed for efficiency. NOTE: If you\n                        use this, keep the sample_sizes entry in the yaml\n                        config identical to the original simulations. This is\n                        mostly for the paper experiments and as such isn't\n                        very cleanly implemented.\n  --og-tps OG_TPS       Number of timepoints taken in the original data to be\n                        subsetted if using --subample-tps.\n  -m MISSINGNESS, --missingness MISSINGNESS\n                        Missingness rate in range of [0,1], used as the\n                        parameter of a binomial distribution for randomly\n                        removing known values.\n  -f FREQ_INC_THRESHOLD, --freq-increase-threshold FREQ_INC_THRESHOLD\n                        If given, only include sim replicates where the sweep\n                        site has a minimum increase of <freq_inc_thr> from the\n                        first timepoint to the last.\n  -a, --allow-shoulders\n                        1/3 of samples from sweep classes will be offset to be\n                        used as neutral shoulders.\n  --hft                 Whether to calculate HFT alongside AFT.\n                        Computationally more expensive.\n  --no-progress         Turn off progress bar.\n  --verbose             Raise warnings from issues usually stemming from bad\n                        replicates.\n  -y YAML_CONFIG, --yaml YAML_CONFIG\n                        YAML config file with all required options defined.\n\n```\n \n"
      },
      "source": "https://raw.githubusercontent.com/SchriderLab/Timesweeper/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9629129615636236,
      "result": {
        "original_header": "Neural Networks (`train`)",
        "type": "Text_excerpt",
        "value": "Timesweeper's neural network architecture is a shallow 1DCNN implemented in Keras2 with a Tensorflow backend that trains extremely fast on CPUs with very little RAM needed. Assuming all previous steps were run it can be trained and evaluated on hold-out test data with a single line invocation.\n```\n$ timesweeper train -h\nusage: timesweeper train [-h] -i TRAINING_DATA [-s SUBSAMPLE_AMOUNT] [-m MODEL TYPE] [--hft] -y YAML_CONFIG [--shic]\n\noptions:\n  -h, --help            show this help message and exit\n  -i TRAINING_DATA, --training-data TRAINING_DATA\n                        Pickle file containing data formatted with make_training_features.py.\n  -s SUBSAMPLE_AMOUNT, --subsample-amount SUBSAMPLE_AMOUNT\n                        Amount of data to subsample for each class to test for sample size effects.\n  -m MODEL TYPE, --model-type MODEL TYPE\n                        Architecture to use when training the model.\n  --hft                 Whether to train HFT alongside AFT. Computationally more expensive.\n  -y YAML_CONFIG, --yaml YAML_CONFIG\n                        YAML config file with all required options defined.\n  --shic                Whether to use the shic module for a special case experiment.\n\n```\n \n"
      },
      "source": "https://raw.githubusercontent.com/SchriderLab/Timesweeper/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9682506347290586,
      "result": {
        "original_header": "Detect Sweeps (`detect`)",
        "type": "Text_excerpt",
        "value": "Finally, the main module of the package is for detecting sweeps in a given VCF. This loads in the prepared VCF (see \"Preparing Input Data for Timesweeper\" below) in chunks, converts allele data to time-series allele velocity data, and predicts using the 1DCNN trained on simulated data. Each prediction represents a 51-SNP window with the focal allele being the actual target. \nTimesweeper outputs predictions as both a csv file and a bedfile. The BED file allows for easy intersections using bedtools and can be cross-referenced back to the CSV for score filtering. \nHere are the details on the headers:\n- Chrom: Chromosome/contig, identical to VCF file name of it\n- BP: location of central allele in the window being predicted on\n- Class: Neut/Hard/Soft, class identified by the maximum score in 3-class softmax output from the model\n- Neut/Hard/Soft Prob: raw score from softmax final layer of 1DCNN\n- SDN/SSV_sval: Predicted selection coefficient by each (ssv, sdn) regression model\n- Win_Start/End: left and right-most locations of the SNPs on each side of the window being predicted on \nNote: By default Timesweeper only outputs sites with a minimum sweep (sdn+soft) score of 0.66 to prevent massive amounts of neutral outputs. This value could easily be modified in the module but we find it better to filter after the fact for more flexibility. \nTimesweeper also has a `--benchmark` flag that will allow for testing accuracy on simulated data if wanted. This will search the input data for the mutation type identifier flags allowing a benchmark of detection accuracy on data that has a ground truth.\n```\n$ timesweeper detect -h\nusage: timesweeper detect [-h] -i INPUT_VCF [--benchmark] --aft-class-model\n                          AFT_CLASS_MODEL --aft-reg-model AFT_REG_MODEL\n                          [--hft-class-model HFT_CLASS_MODEL] --hft-reg-model\n                          HFT_REG_MODEL -o OUTFILE -y YAML_CONFIG -s SCALAR\n\nModule for iterating across windows in a time-series vcf file and predicting\nwhether a sweep is present at each snp-centralized window.\n\noptions:\n  -h, --help            show this help message and exit\n  -i INPUT_VCF, --input-vcf INPUT_VCF\n                        Merged VCF to scan for sweeps. Must be merged VCF\n                        where files are merged in order from earliest to\n                        latest sampling time, -0 flag must be used.\n  --benchmark           If testing on simulated data and would like to report\n                        the mutation type stored by SLiM during\n                        outputVCFSample as well as neutral predictions, use\n                        this flag. Otherwise the mutation type will not be\n                        looked for in the VCF entry nor reported with results.\n  --aft-class-model AFT_CLASS_MODEL\n                        Path to Keras2-style saved model to load for\n                        classification aft prediction.\n  --aft-reg-model AFT_REG_MODEL\n                        Path to Keras2-style saved model to load for\n                        regression aft prediction. Either SDN or SSV work,\n                        both will be loaded.\n  --hft-class-model HFT_CLASS_MODEL\n                        Path to Keras2-style saved model to load for\n                        classification hft prediction.\n  --hft-reg-model HFT_REG_MODEL\n                        Path to Keras2-style saved model to load for\n                        regression hft prediction.\n  -o OUTFILE, --outfile-prefix OUTFILE\n                        Prefix to use for results csvs. Will have\n                        '_[aft/hft].csv' appended to it.\n  -y YAML_CONFIG, --yaml YAML_CONFIG\n                        YAML config file with all required options defined.\n  -s SCALAR, --scalar SCALAR\n                        Minmax scalar saved as a pickle file during training.\n\n```\n \n"
      },
      "source": "https://raw.githubusercontent.com/SchriderLab/Timesweeper/master/README.md",
      "technique": "supervised_classification"
    }
  ],
  "download_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/SchriderLab/Timesweeper/releases"
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 2
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/SchriderLab/Timesweeper/forks"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "SchriderLab/Timesweeper"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_title": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "TimeSweeper"
      },
      "source": "https://raw.githubusercontent.com/SchriderLab/Timesweeper/master/README.md",
      "technique": "regular_expression"
    }
  ],
  "installation": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Installation and Requirements",
        "parent_header": [
          "TimeSweeper"
        ],
        "type": "Text_excerpt",
        "value": "Timesweeper and all requirements can be installed from pip from a local build, I recommend doing so inside a virtual environment along with SLiM for easy access when simulating:\n```{bash}\nconda create -n blinx -c conda-forge -c bioconda python slim=3.7 samtools bcftools\nconda activate blinx\n\ngit clone https://github.com/SchriderLab/Timesweeper.git\ncd Timesweeper\npip install .\n```\n\n---\n"
      },
      "source": "https://raw.githubusercontent.com/SchriderLab/Timesweeper/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Preparing Input Data for Timesweeper to Predict On",
        "parent_header": [
          "TimeSweeper"
        ],
        "type": "Text_excerpt",
        "value": "Timesweeper needs a specific format of input data to work, namely a VCF file merged to the superset of all samples and polymorphisms that is merged *in order* of oldest to most recent. That last point is extremely important and easily missed.\n\nVCFs of all samples will need to be merged using the `bcftools merge -Oz --force-samples -0 <inputs_earliest.vcf ... inputs_latest.vcf> > merged.vcf.gz` options.\n\n---\n"
      },
      "source": "https://raw.githubusercontent.com/SchriderLab/Timesweeper/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 0.9998644509253197,
      "result": {
        "original_header": "TimeSweeper",
        "type": "Text_excerpt",
        "value": "The associated manuscript can be found here: https://www.biorxiv.org/content/10.1101/2022.07.06.499052v1\nExperiments, figures, and trained networks for the Timesweeper manuscript can be found here: https://github.com/SchriderLab/timesweeper-experiments\n \n"
      },
      "source": "https://raw.githubusercontent.com/SchriderLab/Timesweeper/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9998714023599046,
      "result": {
        "original_header": "Timesweeper Configuration",
        "type": "Text_excerpt",
        "value": "For any given experiment run you will need a YAML configuration file (see `example_timesweeper_config.yaml` for template). The requirements for configuration are different between using stdpopsim and custom SLiM script simulations. \n"
      },
      "source": "https://raw.githubusercontent.com/SchriderLab/Timesweeper/master/README.md",
      "technique": "supervised_classification"
    }
  ],
  "invocation": [
    {
      "confidence": 0.8798478361752065,
      "result": {
        "original_header": "Neural Networks (`train`)",
        "type": "Text_excerpt",
        "value": "Timesweeper's neural network architecture is a shallow 1DCNN implemented in Keras2 with a Tensorflow backend that trains extremely fast on CPUs with very little RAM needed. Assuming all previous steps were run it can be trained and evaluated on hold-out test data with a single line invocation.\n```\n$ timesweeper train -h\nusage: timesweeper train [-h] -i TRAINING_DATA [-s SUBSAMPLE_AMOUNT] [-m MODEL TYPE] [--hft] -y YAML_CONFIG [--shic]\n\noptions:\n  -h, --help            show this help message and exit\n  -i TRAINING_DATA, --training-data TRAINING_DATA\n                        Pickle file containing data formatted with make_training_features.py.\n  -s SUBSAMPLE_AMOUNT, --subsample-amount SUBSAMPLE_AMOUNT\n                        Amount of data to subsample for each class to test for sample size effects.\n  -m MODEL TYPE, --model-type MODEL TYPE\n                        Architecture to use when training the model.\n  --hft                 Whether to train HFT alongside AFT. Computationally more expensive.\n  -y YAML_CONFIG, --yaml YAML_CONFIG\n                        YAML config file with all required options defined.\n  --shic                Whether to use the shic module for a special case experiment.\n\n```\n \n"
      },
      "source": "https://raw.githubusercontent.com/SchriderLab/Timesweeper/master/README.md",
      "technique": "supervised_classification"
    }
  ],
  "issue_tracker": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/SchriderLab/Timesweeper/issues"
      },
      "technique": "GitHub_API"
    }
  ],
  "keywords": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "convolutional-neural-networks, genetics, neural-networks, population-genetics, population-genomics"
      },
      "technique": "GitHub_API"
    }
  ],
  "license": [
    {
      "confidence": 1,
      "result": {
        "name": "MIT License",
        "spdx_id": "MIT",
        "type": "License",
        "url": "https://api.github.com/licenses/mit",
        "value": "https://api.github.com/licenses/mit"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "type": "File_dump",
        "value": "MIT License\n\nCopyright (c) 2022 Logan Scott Whitehouse\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE."
      },
      "source": "https://raw.githubusercontent.com/SchriderLab/Timesweeper/master/LICENSE",
      "technique": "file_exploration"
    }
  ],
  "name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "Timesweeper"
      },
      "technique": "GitHub_API"
    }
  ],
  "owner": [
    {
      "confidence": 1,
      "result": {
        "type": "Organization",
        "value": "SchriderLab"
      },
      "technique": "GitHub_API"
    }
  ],
  "programming_languages": [
    {
      "confidence": 1,
      "result": {
        "name": "Python",
        "size": 264955,
        "type": "Programming_language",
        "value": "Python"
      },
      "technique": "GitHub_API"
    }
  ],
  "readme_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/SchriderLab/Timesweeper/master/README.md"
      },
      "technique": "file_exploration"
    }
  ],
  "releases": [
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "Lswhiteh",
          "type": "User"
        },
        "date_created": "2022-08-15T18:07:07Z",
        "date_published": "2022-08-15T18:08:40Z",
        "description": "## What's Changed\r\n* Major update: Flexible configs and selection coefficients by @Lswhiteh in https://github.com/SchriderLab/Timesweeper/pull/67\r\n\r\n## New Contributors\r\n* @Lswhiteh made their first contribution in https://github.com/SchriderLab/Timesweeper/pull/67\r\n\r\n**Full Changelog**: https://github.com/SchriderLab/Timesweeper/compare/0.5...v1.1.0",
        "html_url": "https://github.com/SchriderLab/Timesweeper/releases/tag/v1.1.0",
        "name": "v1.1.0 - Flexible Scenario Configs and Selection Coefficients Estimation",
        "release_id": 74449304,
        "tag": "v1.1.0",
        "tarball_url": "https://api.github.com/repos/SchriderLab/Timesweeper/tarball/v1.1.0",
        "type": "Release",
        "url": "https://api.github.com/repos/SchriderLab/Timesweeper/releases/74449304",
        "value": "https://api.github.com/repos/SchriderLab/Timesweeper/releases/74449304",
        "zipball_url": "https://api.github.com/repos/SchriderLab/Timesweeper/zipball/v1.1.0"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "Lswhiteh",
          "type": "User"
        },
        "date_created": "2022-07-06T22:37:52Z",
        "date_published": "2022-07-06T22:44:48Z",
        "description": "Timesweeper is workable and able to be used for all applications described in the manuscript. This release is the code as it is at the time of preprint publication.",
        "html_url": "https://github.com/SchriderLab/Timesweeper/releases/tag/v1.0.0-preprint",
        "name": "v1.0.0-preprint",
        "release_id": 71419404,
        "tag": "v1.0.0-preprint",
        "tarball_url": "https://api.github.com/repos/SchriderLab/Timesweeper/tarball/v1.0.0-preprint",
        "type": "Release",
        "url": "https://api.github.com/repos/SchriderLab/Timesweeper/releases/71419404",
        "value": "https://api.github.com/repos/SchriderLab/Timesweeper/releases/71419404",
        "zipball_url": "https://api.github.com/repos/SchriderLab/Timesweeper/zipball/v1.0.0-preprint"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "Lswhiteh",
          "type": "User"
        },
        "date_created": "2021-04-15T22:55:06Z",
        "date_published": "2021-04-15T22:55:57Z",
        "description": "Parallelized python-script based workflow, this is the state the project was in for the probgen 2021 results that were presented.",
        "html_url": "https://github.com/SchriderLab/Timesweeper/releases/tag/0.5",
        "name": "Probgen 2021",
        "release_id": 41512491,
        "tag": "0.5",
        "tarball_url": "https://api.github.com/repos/SchriderLab/Timesweeper/tarball/0.5",
        "type": "Release",
        "url": "https://api.github.com/repos/SchriderLab/Timesweeper/releases/41512491",
        "value": "https://api.github.com/repos/SchriderLab/Timesweeper/releases/41512491",
        "zipball_url": "https://api.github.com/repos/SchriderLab/Timesweeper/zipball/0.5"
      },
      "technique": "GitHub_API"
    }
  ],
  "requirements": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Installation and Requirements",
        "parent_header": [
          "TimeSweeper"
        ],
        "type": "Text_excerpt",
        "value": "Timesweeper and all requirements can be installed from pip from a local build, I recommend doing so inside a virtual environment along with SLiM for easy access when simulating:\n```{bash}\nconda create -n blinx -c conda-forge -c bioconda python slim=3.7 samtools bcftools\nconda activate blinx\n\ngit clone https://github.com/SchriderLab/Timesweeper.git\ncd Timesweeper\npip install .\n```\n\n---\n"
      },
      "source": "https://raw.githubusercontent.com/SchriderLab/Timesweeper/master/README.md",
      "technique": "header_analysis"
    }
  ],
  "somef_missing_categories": [
    "citation",
    "acknowledgement",
    "run",
    "download",
    "contact",
    "contributors",
    "documentation",
    "faq",
    "support",
    "identifier",
    "has_build_file",
    "executable_example"
  ],
  "somef_provenance": {
    "date": "2024-10-04 01:07:34",
    "somef_schema_version": "1.0.0",
    "somef_version": "0.9.5"
  },
  "stargazers_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 16
      },
      "technique": "GitHub_API"
    }
  ],
  "usage": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Example Usage",
        "parent_header": [
          "TimeSweeper"
        ],
        "type": "Text_excerpt",
        "value": "Below is an example run of Timesweeper using the example config and simulation script provided in the repo. This will go through the entire process of simulating, training the model, processing input and calling predicted sweeps on a VCF of interest called `foo.vcf`.\n\n```\nconda activate blinx\ncd timesweeper\n\n#Simulate training data\ntimesweeper sim_custom yaml examples/example_config.yaml\n\n#Create feature vectors for both AFT and HFT\ntimesweeper condense --hft yaml examples/example_config.yaml\n\n#Train network\ntimesweeper train -n example_ts_run yaml examples/example_config.yaml\n\n#Predict on input VCF\ntimesweeper detect -i foo.vcf \\\n  --aft-class-model ts_experiment/trained_models/example_ts_run_Timesweeper_aft \\\n  --hft-class-model ts_experiment/trained_models/example_ts_run_Timesweeper_hft \\\n  --aft-reg-model ts_experiment/trained_models/REG_example_ts_run_Timesweeper_aft_sdn \\\n  --hft-reg-model ts_experiment/trained_models/REG_example_ts_run_Timesweeper_hft_sdn \\\n  \n```\n\n"
      },
      "source": "https://raw.githubusercontent.com/SchriderLab/Timesweeper/master/README.md",
      "technique": "header_analysis"
    }
  ]
}