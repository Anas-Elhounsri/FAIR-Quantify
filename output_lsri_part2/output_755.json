{
  "citation": [
    {
      "confidence": 1,
      "result": {
        "original_header": "How do I cite Tourmaline?",
        "parent_header": [
          "Tourmaline"
        ],
        "type": "Text_excerpt",
        "value": "Please cite our paper in *GigaScience*:\n\n* Thompson, L. R., Anderson, S. R., Den Uyl, P. A., Patin, N. V., Lim, S. J., Sanderson, G. & Goodwin, K. D. Tourmaline: A containerized workflow for rapid and iterable amplicon sequence analysis using QIIME 2 and Snakemake. *GigaScience*, Volume 11, 2022, giac066, https://doi.org/10.1093/gigascience/giac066.\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    }
  ],
  "code_repository": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/aomlomics/tourmaline"
      },
      "technique": "GitHub_API"
    }
  ],
  "contact": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Contact us",
        "parent_header": [
          "Tourmaline"
        ],
        "type": "Text_excerpt",
        "value": "* Questions? Join the conversation on [gitter](https://gitter.im/aomlomics/tourmaline).\n* Have a feature request? Raise an issue on [GitHub](https://github.com/aomlomics/tourmaline/issues).\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    }
  ],
  "date_created": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2018-03-19T10:36:47Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_updated": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2024-09-02T18:08:42Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "description": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "Amplicon sequence processing workflow using QIIME 2 and Snakemake"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 0.9773363217899123,
      "result": {
        "original_header": "Tourmaline",
        "type": "Text_excerpt",
        "value": "Tourmaline is an amplicon sequence processing workflow for Illumina sequence data that uses [QIIME 2](https://qiime2.org) and the software packages it wraps. Tourmaline manages commands, inputs, and outputs using the [Snakemake](https://snakemake.readthedocs.io/en/stable/) workflow management system. \n**The current version of Tourmaline supports [qiime2-2023.5](https://docs.qiime2.org/2023.5/).** To use previous versions of Qiime2, check out previous Tourmaline versions under [Releases](https://github.com/aomlomics/tourmaline/releases). \n \n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "supervised_classification"
    }
  ],
  "documentation": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/aomlomics/tourmaline/tree/master/docs"
      },
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "format": "wiki",
        "type": "Url",
        "value": "https://github.com/aomlomics/tourmaline/wiki"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "regular_expression"
    }
  ],
  "download_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/aomlomics/tourmaline/releases"
      },
      "technique": "GitHub_API"
    }
  ],
  "executable_example": [
    {
      "confidence": 1,
      "result": {
        "format": "jupyter_notebook",
        "type": "Url",
        "value": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/notebooks/tourmaline_r_notebook.ipynb"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/notebooks/tourmaline_r_notebook.ipynb",
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "format": "jupyter_notebook",
        "type": "Url",
        "value": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/notebooks/tourmaline_meta_analysis.ipynb"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/notebooks/tourmaline_meta_analysis.ipynb",
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "format": "jupyter_notebook",
        "type": "Url",
        "value": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/notebooks/tourmaline_taxonomy_notebook.ipynb"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/notebooks/tourmaline_taxonomy_notebook.ipynb",
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "format": "jupyter_notebook",
        "type": "Url",
        "value": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/notebooks/tourmaline_python_notebook.ipynb"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/notebooks/tourmaline_python_notebook.ipynb",
      "technique": "file_exploration"
    }
  ],
  "forks_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 19
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/aomlomics/tourmaline/forks"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "aomlomics/tourmaline"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_title": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": ""
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "regular_expression"
    }
  ],
  "has_build_file": [
    {
      "confidence": 1,
      "result": {
        "format": "dockerfile",
        "type": "Url",
        "value": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/docker/Dockerfile"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/docker/Dockerfile",
      "technique": "file_exploration"
    }
  ],
  "has_script_file": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/scripts/initialize_dir_from_existing_tourmaline_dir.sh"
      },
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/scripts/snakefile_mac_to_linux.sh"
      },
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/scripts/alignment_count_gaps.sh"
      },
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/scripts/create_asv_seq_taxa_obis.sh"
      },
      "technique": "file_exploration"
    }
  ],
  "images": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/png/figure1.png"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "regular_expression"
    }
  ],
  "installation": [
    {
      "confidence": 1,
      "result": {
        "type": "File_dump",
        "value": "## Dependencies\n\nTourmaline requires the following software:\n\n* Conda\n* QIIME 2 version 2023.2\n* QIIME 2 plugins: deicode, empress\n* Snakemake\n* Python packages: biopython, tabulate\n* R packages: msa, odseq\n* Multiple sequence alignment tools: clustalo, muscle v5\n* Other command-line tools: pandoc\n\n## Installation options\n\n### Option 1: Native installation\n\nThe native installation builds on the Conda installation of QIIME 2. \n\n#### Conda\n\nFirst, if you don't have Conda installed on your machine, install [Miniconda](https://conda.io/miniconda.html) for your operating system (Python 3.8+ version).\n\n#### QIIME 2\n\nSecond, install QIIME 2 in a Conda environment, if you haven't already. See the instructions at [qiime2.org](https://docs.qiime2.org/2023.2/install/native/). For example, on macOS these commands will install QIIME 2 inside a Conda environment called `qiime2-2023.2` (for Linux, change \"osx\" to \"linux\"):\n\n```\nwget https://data.qiime2.org/distro/core/qiime2-2023.2-py38-osx-conda.yml\nconda env create -n qiime2-2023.2 --file qiime2-2023.2-py38-osx-conda.yml\n```\n\n#### Snakemake and other dependencies\n\nThird, activate your QIIME 2 environment and install Snakemake and other dependencies:\n\n```\nconda activate qiime2-2023.2\nconda install -c conda-forge -c bioconda snakemake biopython muscle clustalo tabulate\nconda install -c conda-forge deicode\npip install empress\nqiime dev refresh-cache\nconda install -c bioconda bioconductor-msa bioconductor-odseq\n```\n\n### Option 2: Docker container\n\nAn alternative to the native installation is a Docker container. Here are the steps to follow:\n\n#### Docker Desktop\n\nMake sure Docker is installed on your system. If you are using a laptop or desktop machine, you can [install](https://docs.docker.com/get-docker/) Docker Desktop (Mac or Windows) or Docker (Linux). If you are on a compute cluster, you may need to contact your system administrator. This command will list your Docker images and make sure the Docker daemon is running:\n\n```\ndocker images\n```\n\nMake sure Docker has enough memory. On Docker for Mac, the default memory is 2 GB. Go to Preferences -> Resources -> Advanced -> Memory and increase the maximum memory to 8 GB or more if possible.\n\n#### Docker image\n\nDownload the [Tourmaline Docker image](https://hub.docker.com/repository/docker/aomlomics/tourmaline) from DockerHub:\n\n```\ndocker pull aomlomics/tourmaline\n```\n\nList your Docker images again to make sure the `tourmaline` image is there:\n\n```\ndocker images\n```\n\n#### Docker container\n\nNow create and run a container:\n\n```\ndocker run -v $HOME:/data -it aomlomics/tourmaline\n```\n\nIf installing on a Mac with an Apple M1 chip, run the Docker image with the `--platform linux/amd64` command. It will take a few minutes for the image to load the first time it is run.\n\n```\ndocker run --platform linux/amd64 -v $HOME:/data -it aomlomics/tourmaline\n```\n\n#### External files\n\nThe `-v` (volume) flag above allows you to mount a local file system volume (in this case your home directory) to read/write from your container. Note that symbolic links in a mounted volume will not work.\n\nUse mounted volumes to:\n\n* copy metadata and manifest files to your container;\n* create symbolic links from your container to your FASTQ files and reference database;\n* copy your whole Tourmaline directory out of the container when the run is completed (alternatively, you can clone the Tourmaline directory inside the mounted volume).\n\nTo access files that aren't on a mounted volume, from outside the container (running or not), use these commands:\n\n```\ndocker cp container:source_path destination_path # container to file system\ndocker cp source_path container:destination_path # file system to container\n```\n\n#### Common errors\n\nIf you get an error \"Plugin error from feature-classifier: Command ... died with <Signals.SIGKILL: 9>.\", this means your Docker container ran out of memory. Go to Preferences -> Resources -> Advanced -> Memory and increase the maximum memory to 8 GB or more if possible.\n\n#### Restart a container\n\nYou can stop a container by typing `exit`. The container will still be running.\n\nSee all your containers with this command:\n\n```\ndocker ps -a\n```\n\nStart a container using its container ID or name with this command:\n\n```\ndocker start -ia CONTAINER\n```\n\n#### Remove containers and images\n\nRemove a Docker container:\n\n```\ndocker container rm CONTAINER\n```\n\nRemove a Docker image:\n\n```\ndocker rmi IMAGE\n```\n\nRemove all stopped containers, all networks not used by at least one container, all images without at least one container associated to them, and all build cache:\n\n```\ndocker system prune -a\n```\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/wiki/qiime2-2023.2/2-Install.md",
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "type": "File_dump",
        "value": "## Dependencies\n\nTourmaline requires the following software:\n\n* Conda\n* QIIME 2 version 2023.5\n* QIIME 2 plugins: deicode, empress\n* Snakemake \n* Python packages: biopython, tabulate\n* R packages: msa, odseq\n* Multiple sequence alignment tools: clustalo, muscle v5\n* Other command-line tools: pandoc\n\n## Installation options\n\n### Option 1: Native installation\n\nThe native installation builds on the Conda installation of QIIME 2. \n\n#### Conda\n\nFirst, if you don't have Conda installed on your machine, install [Miniconda](https://conda.io/miniconda.html) for your operating system (Python 3.8+ version).\n\n#### Snakemake\n\nSecond, install snakemake into its own environment.\n```\nconda create -c conda-forge -c bioconda -n snakemake snakemake-minimal\n```\n\n#### QIIME 2\n\nThird, install QIIME 2 in a Conda environment, if you haven't already. See the instructions at [qiime2.org](https://docs.qiime2.org/2023.5/install/native/). For example, on macOS these commands will install QIIME 2 inside a Conda environment called `qiime2-2023.5` (for Linux, change \"osx\" to \"linux\"):\n\n```\nwget https://data.qiime2.org/distro/core/qiime2-2023.5-py38-osx-conda.yml\nconda env create -n qiime2-2023.5 --file qiime2-2023.5-py38-osx-conda.yml\n```\n\n#### Snakemake and other dependencies\n\nThird, activate your QIIME 2 environment and install dependencies:\n\n```\nconda activate qiime2-2023.5\nconda install -c conda-forge -c bioconda biopython muscle clustalo tabulate\nconda install -c conda-forge deicode\npip install empress\nqiime dev refresh-cache\nconda install -c bioconda bioconductor-msa bioconductor-odseq\n```\n\n### Option 2: Docker container\n\nAn alternative to the native installation is a Docker container. Here are the steps to follow:\n\n#### Docker Desktop\n\nMake sure Docker is installed on your system. If you are using a laptop or desktop machine, you can [install](https://docs.docker.com/get-docker/) Docker Desktop (Mac or Windows) or Docker (Linux). If you are on a compute cluster, you may need to contact your system administrator. This command will list your Docker images and make sure the Docker daemon is running:\n\n```\ndocker images\n```\n\nMake sure Docker has enough memory. On Docker for Mac, the default memory is 2 GB. Go to Preferences -> Resources -> Advanced -> Memory and increase the maximum memory to 8 GB or more if possible.\n\n#### Docker image\n\nDownload the [Tourmaline Docker image](https://hub.docker.com/repository/docker/aomlomics/tourmaline) from DockerHub:\n\n```\ndocker pull aomlomics/tourmaline\n```\n\nList your Docker images again to make sure the `tourmaline` image is there:\n\n```\ndocker images\n```\n\n#### Docker container\n\nNow create and run a container:\n\n```\ndocker run -v $HOME:/data -it aomlomics/tourmaline\n```\n\nIf installing on a Mac with an Apple M1 chip, run the Docker image with the `--platform linux/amd64` command. It will take a few minutes for the image to load the first time it is run.\n\n```\ndocker run --platform linux/amd64 -v $HOME:/data -it aomlomics/tourmaline\n```\n\n#### External files\n\nThe `-v` (volume) flag above allows you to mount a local file system volume (in this case your home directory) to read/write from your container. Note that symbolic links in a mounted volume will not work.\n\nUse mounted volumes to:\n\n* copy metadata and manifest files to your container;\n* create symbolic links from your container to your FASTQ files and reference database;\n* copy your whole Tourmaline directory out of the container when the run is completed (alternatively, you can clone the Tourmaline directory inside the mounted volume).\n\nTo access files that aren't on a mounted volume, from outside the container (running or not), use these commands:\n\n```\ndocker cp container:source_path destination_path # container to file system\ndocker cp source_path container:destination_path # file system to container\n```\n\n#### Common errors\n\nIf you get an error \"Plugin error from feature-classifier: Command ... died with <Signals.SIGKILL: 9>.\", this means your Docker container ran out of memory. Go to Preferences -> Resources -> Advanced -> Memory and increase the maximum memory to 8 GB or more if possible.\n\n#### Restart a container\n\nYou can stop a container by typing `exit`. The container will still be running.\n\nSee all your containers with this command:\n\n```\ndocker ps -a\n```\n\nStart a container using its container ID or name with this command:\n\n```\ndocker start -ia CONTAINER\n```\n\n#### Remove containers and images\n\nRemove a Docker container:\n\n```\ndocker container rm CONTAINER\n```\n\nRemove a Docker image:\n\n```\ndocker rmi IMAGE\n```\n\nRemove all stopped containers, all networks not used by at least one container, all images without at least one container associated to them, and all build cache:\n\n```\ndocker system prune -a\n```\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/wiki/qiime2-2023.5/2-Install.md",
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Install",
        "parent_header": [
          "Quick Start"
        ],
        "type": "Text_excerpt",
        "value": "**The current version of Tourmaline supports [qiime2-2023.5](https://docs.qiime2.org/2023.5/).** To use previous versions of Qiime2, check out previous Tourmaline versions under [Releases](https://github.com/aomlomics/tourmaline/releases). \n\nBefore you download the Tourmaline commands and directory structure from GitHub, you first need to install QIIME 2, Snakemake, and the other dependencies of Tourmaline. Two options are provided: a native installation on a Mac or Linux system and a Docker image/container. If you have an Apple Silicon chip (M1, M2 Macs), the instructions to install QIIME 2 vary slightly. \n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Option 1: Native installation",
        "parent_header": [
          "Quick Start",
          "Install"
        ],
        "type": "Text_excerpt",
        "value": "To run Tourmaline natively on a Mac (Intel) or Linux system, start with a Conda installation of [Snakemake](https://snakemake.readthedocs.io/en/stable/).\n\n```bash\nconda create -c conda-forge -c bioconda -n snakemake snakemake-minimal\n```\n\nThen install QIIME 2 with conda (**for Linux, change \"osx\" to \"linux\"**):\n\n```bash\nwget https://data.qiime2.org/distro/core/qiime2-2023.5-py38-osx-conda.yml\nconda env create -n qiime2-2023.5 --file qiime2-2023.5-py38-osx-conda.yml\n```\n\nActivate the qiime2-2023.5 environment and install the other Conda- or PIP-installable dependencies:\n\n```\nconda activate qiime2-2023.5\nconda install -c conda-forge -c bioconda biopython muscle clustalo tabulate\nconda install -c conda-forge deicode\npip install empress\nqiime dev refresh-cache\nconda install -c bioconda bioconductor-msa bioconductor-odseq\n```\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Apple Silicon Macs",
        "parent_header": [
          "Quick Start",
          "Install",
          "Option 1: Native installation"
        ],
        "type": "Text_excerpt",
        "value": "Follow these instructions for Macs with M1/M2 chips.  \n\n**First, set your Terminal application to run in [Rosetta mode](https://academy.bigbinary.com/learn-rubyonrails/setting-up-macos).**\n\n```bash\nwget https://data.qiime2.org/distro/core/qiime2-2023.5-py38-osx-conda.yml\nCONDA_SUBDIR=osx-64 conda env create -n qiime2-2023.5 --file qiime2-2023.5-py38-osx-conda.yml\nconda activate qiime2-2023.5\nconda config --env --set subdir osx-64\n```\n\nThen continue to install the other Conda- or PIP-installable dependencies.\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Option 2: Docker container",
        "parent_header": [
          "Quick Start",
          "Install"
        ],
        "type": "Text_excerpt",
        "value": "To run Tourmaline inside a Docker container:\n\n1. Install Docker Desktop (Mac, Windows, or Linux) from [Docker.com](https://docs.docker.com/get-docker/).\n2. Open Docker app.\n3. Increase the memory to 8 GB or more (Preferences -> Resources -> Advanced -> Memory).\n4. Download the Docker image from [DockerHub](https://hub.docker.com/r/aomlomics/tourmaline) (command below).\n5. Run the Docker image (command below).\n\n```bash\ndocker pull aomlomics/tourmaline\ndocker run -v $HOME:/data -it aomlomics/tourmaline\n```\n\nIf installing on a Mac with an Apple M1 chip, run the Docker image with the `--platform linux/amd64` command. It will take a few minutes for the image to load the first time it is run.\n\n```bash\ndocker run --platform linux/amd64 -v $HOME:/data -it aomlomics/tourmaline\n```\n\nThe `-v` (volume) flag above allows you to mount a local file system volume (in this case your home directory) to read/write from your container. Note that symbolic links in a mounted volume will not work.\n\nUse mounted volumes to:\n\n* copy metadata and manifest files to your container;\n* create symbolic links from your container to your FASTQ files and reference database;\n* copy your whole Tourmaline directory out of the container when the run is completed (alternatively, you can clone the Tourmaline directory inside the mounted volume).\n\nSee the [Install](https://github.com/aomlomics/tourmaline/wiki/2-Install#docker-container) page for more details on installing and running Docker.\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Setup",
        "parent_header": [
          "Quick Start"
        ],
        "type": "Text_excerpt",
        "value": "If this is your first time running Tourmaline, you'll need to set up your directory. Simplified instructions are below, but see the Wiki's [Setup](https://github.com/aomlomics/tourmaline/wiki/3-Setup) page for complete instructions. \n\nStart by cloning the Tourmaline directory and files:\n\n```bash\ngit clone https://github.com/aomlomics/tourmaline.git\n```\n\nIf using the Docker container, it's recommended you run the above command from inside `/data`.\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Setup for the test data",
        "parent_header": [
          "Quick Start",
          "Setup"
        ],
        "type": "Text_excerpt",
        "value": "The test data (16 samples of paired-end 16S rRNA data with 1000 sequences per sample) comes with your cloned copy of Tourmaline. It's fast to run and will verify that you can run the workflow.\n\nDownload reference database sequence and taxonomy files, named `refseqs.qza` and `reftax.qza` (QIIME 2 archives), in `01-imported`:\n\n```bash\ncd tourmaline/01-imported\nwget https://data.qiime2.org/2023.5/common/silva-138-99-seqs-515-806.qza\nwget https://data.qiime2.org/2023.5/common/silva-138-99-tax-515-806.qza\nln -s silva-138-99-seqs-515-806.qza refseqs.qza\nln -s silva-138-99-tax-515-806.qza reftax.qza\n```\n\nEdit FASTQ manifests `manifest_se.csv` and `manifest_pe.csv` in `00-data` so file paths match the location of your `tourmaline` directory. In the command below, replace `/path/to` with the location of your `tourmaline` directory\u2014or skip this step if you are using the Docker container and you cloned `tourmaline` into `/data`:\n\n```bash\ncd ../00-data\ncat manifest_pe.csv | sed 's|/data/tourmaline|/path/to/tourmaline|' > temp && mv temp manifest_pe.csv \ncat manifest_pe.csv | grep -v \"reverse\" > manifest_se.csv\n```\n\nGo to **Run Snakemake**.\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Setup for your data",
        "parent_header": [
          "Quick Start",
          "Setup"
        ],
        "type": "Text_excerpt",
        "value": "Before setting up to run your own data, please note:\n\n* Symbolic links can be used for any of the input files, which may be useful for large files (e.g., the FASTQ and reference database .qza files).\n* If you plan on using Deblur, sample names must not contain underscores (only alphanumerics, dashes, and/or periods).\n\nNow edit, replace, or store the required input files as described here:\n\n1. Edit or replace the metadata file `00-data/metadata.tsv`. The first column header should be \"sample_name\", with sample names matching the FASTQ manifest(s), and additional columns containing any relevant metadata for your samples. You can use a spreadsheet editor like Microsoft Excel or LibreOffice, but make sure to export the output in tab-delimited text format.\n2. Prepare FASTQ data:\n    * Option 1: Edit or replace the FASTQ manifests `00-data/manifest_pe.csv` (paired-end) and/or `00-data/manifest_se.csv` (single-end). Ensure that (1) file paths in the column \"absolute-filepath\" point to your .fastq.gz files (they can be anywhere on your computer) and (2) sample names match the metadata file. You can use a text editor such as Sublime Text, nano, vim, etc.\n    * Option 2: Store your pre-imported FASTQ .qza files as `01-imported/fastq_pe.qza` (paired-end) and/or `01-imported/fastq_se.qza` (single-end).\n3. Prepare reference database:\n    * Option 1: Store the reference FASTA and taxonomy files as `00-data/refseqs.fna` and `00-data/reftax.tsv`.\n    * Option 2: Store the pre-imported reference FASTA and taxonomy .qza files as `01-imported/refseqs.qza` and `01-imported/reftax.qza`.\n4. Edit the configuration file `config.yaml` to set DADA2 and/or Deblur parameters (sequence truncation/trimming, sample pooling, chimera removal, etc.), rarefaction depth, taxonomic classification method, and other parameters. This YAML (yet another markup language) file is a regular text file that can be edited in Sublime Text, nano, vim, etc.\n5. Go to **Run Snakemake**.\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    }
  ],
  "issue_tracker": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/aomlomics/tourmaline/issues"
      },
      "technique": "GitHub_API"
    }
  ],
  "keywords": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "amplicon-sequence-variants, dada2, deblur, noaa-omics-software, snakemake"
      },
      "technique": "GitHub_API"
    }
  ],
  "license": [
    {
      "confidence": 1,
      "result": {
        "name": "BSD 3-Clause \"New\" or \"Revised\" License",
        "spdx_id": "BSD-3-Clause",
        "type": "License",
        "url": "https://api.github.com/licenses/bsd-3-clause",
        "value": "https://api.github.com/licenses/bsd-3-clause"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "type": "File_dump",
        "value": "BSD 3-Clause License\n\nCopyright (c) 2022, Tourmaline development team.\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n* Redistributions of source code must retain the above copyright notice, this\n  list of conditions and the following disclaimer.\n\n* Redistributions in binary form must reproduce the above copyright notice,\n  this list of conditions and the following disclaimer in the documentation\n  and/or other materials provided with the distribution.\n\n* Neither the name of the copyright holder nor the names of its\n  contributors may be used to endorse or promote products derived from\n  this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\nAND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\nFOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\nDAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\nSERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\nCAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\nOR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/LICENSE",
      "technique": "file_exploration"
    }
  ],
  "logo": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/png/tourmaline_banner.png"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "regular_expression"
    }
  ],
  "name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "tourmaline"
      },
      "technique": "GitHub_API"
    }
  ],
  "owner": [
    {
      "confidence": 1,
      "result": {
        "type": "Organization",
        "value": "aomlomics"
      },
      "technique": "GitHub_API"
    }
  ],
  "programming_languages": [
    {
      "confidence": 1,
      "result": {
        "name": "Python",
        "size": 96401,
        "type": "Programming_language",
        "value": "Python"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "Shell",
        "size": 3649,
        "type": "Programming_language",
        "value": "Shell"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "Perl",
        "size": 2737,
        "type": "Programming_language",
        "value": "Perl"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "Dockerfile",
        "size": 1647,
        "type": "Programming_language",
        "value": "Dockerfile"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "R",
        "size": 376,
        "type": "Programming_language",
        "value": "R"
      },
      "technique": "GitHub_API"
    }
  ],
  "readme_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md"
      },
      "technique": "file_exploration"
    }
  ],
  "related_documentation": [
    {
      "confidence": 1,
      "result": {
        "format": "readthedocs",
        "type": "Url",
        "value": "https://snakemake.readthedocs.io/"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "regular_expression"
    }
  ],
  "releases": [
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "ksilnoaa",
          "type": "User"
        },
        "date_created": "2023-08-29T17:26:16Z",
        "date_published": "2023-08-29T17:28:23Z",
        "description": "## What's Changed\r\nUpdated Tourmaline to work with [qiime2-2023.5](https://forum.qiime2.org/t/qiime-2-2023-5-is-now-available/26579). In this version, you must install snakemake in a separate environment, and run Tourmaline commands in the snakemake environment.\r\n\r\n### Breaking changes\r\n* Qiime2 artifacts created with qiime2-2023.5 are NOT backward compatible with previous versions of qiime2 or Tourmaline. Artifact created with previous versions are compatible with this version, though.\r\n\r\n### Feature updates\r\n* Added export_asv_taxa_obis rule to create 01-taxonomy/asv_taxa_sample_table.tsv file that combines ASV sequences, taxonomy, and per-sample read counts. This file can be used for conversion to OBIS/GBIF format.\r\n* Added support for user-provided classifier when doing naives-bayes. Must be provided as \"classifier.qza\" in the \"01-imported/\" folder. ",
        "html_url": "https://github.com/aomlomics/tourmaline/releases/tag/v1.1.1",
        "name": "qiime2-2023.5 version",
        "release_id": 119114499,
        "tag": "v1.1.1",
        "tarball_url": "https://api.github.com/repos/aomlomics/tourmaline/tarball/v1.1.1",
        "type": "Release",
        "url": "https://api.github.com/repos/aomlomics/tourmaline/releases/119114499",
        "value": "https://api.github.com/repos/aomlomics/tourmaline/releases/119114499",
        "zipball_url": "https://api.github.com/repos/aomlomics/tourmaline/zipball/v1.1.1"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "ksilnoaa",
          "type": "User"
        },
        "date_created": "2023-08-10T18:32:47Z",
        "date_published": "2023-08-11T12:45:15Z",
        "description": "Updates to documentation for qiime2-2023.2 version, including creation of a wiki folder for storing Wiki markdown files.",
        "html_url": "https://github.com/aomlomics/tourmaline/releases/tag/v1.0.1",
        "name": "qiime2-2023.2 version (v1.0.1)",
        "release_id": 116063777,
        "tag": "v1.0.1",
        "tarball_url": "https://api.github.com/repos/aomlomics/tourmaline/tarball/v1.0.1",
        "type": "Release",
        "url": "https://api.github.com/repos/aomlomics/tourmaline/releases/116063777",
        "value": "https://api.github.com/repos/aomlomics/tourmaline/releases/116063777",
        "zipball_url": "https://api.github.com/repos/aomlomics/tourmaline/zipball/v1.0.1"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "ksilnoaa",
          "type": "User"
        },
        "date_created": "2023-07-13T13:05:39Z",
        "date_published": "2023-07-13T14:45:43Z",
        "description": "## What's Changed\r\n* Update Tourmaline Snakemake and config.yaml files to work with Qiime2-2023.2\r\n* Update installation instructions\r\n* New snakemake rule to filter out samples by name or metadata\r\n* Uses newest Muscle v5 \r\n* records database version in config file\r\n\r\n## New Contributors\r\n* @cuttlefishh made their first contribution in https://github.com/aomlomics/tourmaline/pull/1\r\n* @lukenoaa made their first contribution in https://github.com/aomlomics/tourmaline/pull/17\r\n* @ksilnoaa made their first contribution in https://github.com/aomlomics/tourmaline/pull/83\r\n* @7yl4r made their first contribution in https://github.com/aomlomics/tourmaline/pull/81\r\n\r\n**Full Changelog**: https://github.com/aomlomics/tourmaline/commits/v1.0.0",
        "html_url": "https://github.com/aomlomics/tourmaline/releases/tag/v1.0.0",
        "name": "qiime2-2023.2 version",
        "release_id": 112126466,
        "tag": "v1.0.0",
        "tarball_url": "https://api.github.com/repos/aomlomics/tourmaline/tarball/v1.0.0",
        "type": "Release",
        "url": "https://api.github.com/repos/aomlomics/tourmaline/releases/112126466",
        "value": "https://api.github.com/repos/aomlomics/tourmaline/releases/112126466",
        "zipball_url": "https://api.github.com/repos/aomlomics/tourmaline/zipball/v1.0.0"
      },
      "technique": "GitHub_API"
    }
  ],
  "run": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Run Snakemake",
        "parent_header": [
          "Quick Start"
        ],
        "type": "Text_excerpt",
        "value": "Tourmaline is now run within the **snakemake** conda environment, not the qiime2-2023.5 environment. \n\n```bash\nconda activate snakemake\n```\n\nShown here is the DADA2 paired-end workflow. See the Wiki's [Run](https://github.com/aomlomics/tourmaline/wiki/4-Run) page for complete instructions on all steps, denoising methods, and filtering modes.\n\nNote that any of the commands below can be run with various options, including `--printshellcmds` to see the shell commands being executed and `--dryrun` to display which rules would be run but not execute them. To generate a graph of the rules that will be run from any Snakemake command, see the section \"Directed acyclic graph (DAG)\" on the [Run](https://github.com/aomlomics/tourmaline/wiki/4-Run) page. **Always include the --use-conda option.**\n\nFrom the `tourmaline` directory (which you may rename), run Snakemake with the *denoise* rule as the target, changing the number of cores to match your machine:\n\n```bash\nsnakemake --use-conda dada2_pe_denoise --cores 4\n```\n\nPausing after the *denoise* step allows you to make changes before proceeding:\n\n* Check the table summaries and representative sequence lengths to determine if DADA2 or Deblur parameters need to be modified. If so, you can rename or delete the output directories and then rerun the *denoise* rule.\n* View the table visualization to decide an appropriate subsampling (rarefaction) depth. Then modify the parameters \"alpha_max_depth\" and \"core_sampling_depth\" in `config.yaml`.\n* Decide whether to filter your feature table and representative sequences by taxonomy or feature ID. After the *taxonomy* step, you can examine the taxonomy summary and bar plot to aid your decision. If you do filter your data, all output from that point on will go in a separate folder so you can compare output with and without filtering.\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Unfiltered mode",
        "parent_header": [
          "Quick Start",
          "Run Snakemake"
        ],
        "type": "Text_excerpt",
        "value": "Continue the workflow without filtering (for now). If you are satisfied with your parameters and files, run the *taxonomy* rule (for unfiltered data):\n\n```bash\nsnakemake --use-conda dada2_pe_taxonomy_unfiltered --cores 4\n```\n\nNext, run the *diversity* rule (for unfiltered data):\n\n```bash\nsnakemake --use-conda dada2_pe_diversity_unfiltered --cores 4\n```\n\nFinally, run the *report* rule (for unfiltered data):\n\n```bash\nsnakemake --use-conda dada2_pe_report_unfiltered --cores 4\n```\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Filtered mode",
        "parent_header": [
          "Quick Start",
          "Run Snakemake"
        ],
        "type": "Text_excerpt",
        "value": "After viewing the *unfiltered* results\u2014the taxonomy summary and taxa barplot, the representative sequence summary plot and table, or the list of unassigned and potential outlier representative sequences\u2014the user may wish to filter (remove) certain taxonomic groups or representative sequences. If so, the user should first check the following parameters and/or files:\n\n* copy `2-output-dada2-pe-unfiltered/02-alignment-tree/repseqs_to_filter_outliers.tsv` to `00-data/repseqs_to_filter_dada2-pe.tsv` to filter outliers, or manually include feature IDs in `00-data/repseqs_to_filter_dada2-pe.tsv` to filter those feature IDs (change \"dada2-pe\" to \"dada2-se\" or \"deblur-se\" as appropriate);\n*  `exclude_terms` in `config.yaml` \u2013 add taxa to exclude from representative sequences, if desired;\n*  `repseq_min_length` and `repseq_max_length` in `config.yaml` \u2013 set minimum and/or maximum lengths for filtering representative sequences, if desired;\n*  `repseq_min_abundance` and `repseq_min_prevalence` in `config.yaml` \u2013 set minimum abundance and/or prevalence values for filtering representative sequences, if desired.\n\nNow we are ready to filter the representative sequences and feature table, generate new summaries, and generate a new taxonomy bar plot, by running the *taxonomy* rule (for filtered data):\n\n```bash\nsnakemake --use-conda dada2_pe_taxonomy_filtered --cores 4\n```\n\nNext, run the *diversity* rule (for filtered data):\n\n```bash\nsnakemake --use-conda dada2_pe_diversity_filtered --cores 4\n```\n\nFinally, run the *report* rule (for filtered data):\n\n```bash\nsnakemake --use-conda dada2_pe_report_filtered --cores 1\n```\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    }
  ],
  "somef_missing_categories": [
    "acknowledgement",
    "download",
    "requirements",
    "contributors",
    "faq",
    "identifier"
  ],
  "somef_provenance": {
    "date": "2024-10-04 11:54:24",
    "somef_schema_version": "1.0.0",
    "somef_version": "0.9.5"
  },
  "stargazers_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 42
      },
      "technique": "GitHub_API"
    }
  ],
  "support": [
    {
      "confidence": 1,
      "result": {
        "original_header": "What QIIME 2 options does Tourmaline support?",
        "parent_header": [
          "Tourmaline"
        ],
        "type": "Text_excerpt",
        "value": "If you have used QIIME 2 before, you might be wondering which QIIME 2 commands Tourmaline uses and supports. All commands are specified as rules in `Snakefile`, and typical workflows without and with sequence filtering are shown as directed acyclic graphs in the folder `dags`.  The main analysis features and options supported by Tourmaline and specified by the Snakefile are as follows:\n\n* FASTQ sequence import using a manifest file, or use your pre-imported FASTQ .qza file\n* Denoising with [DADA2](https://doi.org/10.1038/nmeth.3869) (paired-end and single-end) and [Deblur](https://doi.org/10.1128/msystems.00191-16) (single-end)\n* Feature classification (taxonomic assignment) with options of [naive Bayes](https://doi.org/10.1186/s40168-018-0470-z), consensus [BLAST](https://doi.org/10.1186/1471-2105-10-421), and consensus [VSEARCH](https://doi.org/10.7717/peerj.2584)\n* Feature filtering by taxonomy, sequence length, feature ID, and abundance/prevalence\n* De novo multiple sequence alignment with [MUSCLE5](https://drive5.com/muscle5/), [Clustal Omega](https://doi.org/10.1007/978-1-62703-646-7_6), or [MAFFT](https://doi.org/10.1093/molbev/mst010) (with masking) and tree building with [FastTree](https://doi.org/10.1093/molbev/msp077)\n* Outlier detection with [odseq](https://doi.org/10.1186/s12859-015-0702-1)\n* Interactive taxonomy barplot\n* Tree visualization using [Empress](https://doi.org/10.1128/mSystems.01216-20)\n* Alpha diversity, alpha rarefaction, and alpha group significance with four metrics: Faith's phylogenetic diversity, observed features, Shannon diversity, and Pielou\u2019s evenness\n* Beta diversity distances, principal coordinates, [Emperor](https://doi.org/10.1186/2047-217x-2-16) plots, and beta group significance (one metadata column) with four metrics: unweighted and weighted [UniFrac](https://doi.org/10.1038/ismej.2010.133), Jaccard distance, and Bray\u2013Curtis distance\n* Robust Aitchison PCA and biplot ordination using [DEICODE](https://doi.org/10.1128/mSystems.00016-19)\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "View report and output files",
        "parent_header": [
          "Quick Start",
          "View output"
        ],
        "type": "Text_excerpt",
        "value": "Open your HTML report (e.g., `03-reports/report_dada2-pe_unfiltered.html`) in [Chrome](https://www.google.com/chrome/){target=\"_blank\"} or [Firefox](https://www.mozilla.org/en-US/firefox/new/){target=\"_blank\"}. To view the linked files: \n\n* QZV (QIIME 2 visualization): click to download, then drag and drop in [https://view.qiime2.org](https://view.qiime2.org){target=\"_blank\"}. Empress trees (e.g., `rooted_tree.qzv`) may take more than 10 minutes to load.\n* TSV (tab-separated values): click to download, then open in Microsoft Excel or Tabview (command line tool that comes with Tourmaline).\n* PDF (portable document format): click to open and view in new tab.\n\nDownloaded files can be deleted after viewing because they are already stored in your Tourmaline directory.\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    }
  ],
  "type": [
    {
      "confidence": 0.82,
      "result": {
        "type": "String",
        "value": "commandline-application"
      },
      "technique": "software_type_heuristics"
    }
  ],
  "usage": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Why should I use Tourmaline?",
        "parent_header": [
          "Tourmaline"
        ],
        "type": "Text_excerpt",
        "value": "Tourmaline has several features that enhance usability and interoperability:\n\n* **Portability.** Native support for Linux and macOS in addition to Docker containers.\n* **QIIME 2.** The core commands of Tourmaline, including the [DADA2](https://benjjneb.github.io/dada2/index.html) and [Deblur](https://github.com/biocore/deblur) packages, are all commands of QIIME 2, one of the most popular amplicon sequence analysis software tools available. You can print all of the QIIME 2 and other shell commands of your workflow before or while running the workflow.\n* **Snakemake.** Managing the workflow with Snakemake provides several benefits: \n  - **Configuration file** contains all parameters in one file, so you can see what your workflow is doing and make changes for a subsequent run.\n  - **Directory structure** is the same for every Tourmaline run, so you always know where your outputs are.\n  - **On-demand commands** mean that only the commands required for output files not yet generated are run, saving time and computation when re-running part of a workflow.\n* **Parameter optimization.** The configuration file and standard directory structure make it simple to test and compare different parameter sets to optimize your workflow. Included code helps choose read truncation parameters and identify outliers in representative sequences (ASVs).\n* **Visualizations and reports.** Every Tourmaline run produces an HTML report containing a summary of your metadata and outputs, with links to web-viewable QIIME 2 visualization files.\n* **Downstream analysis.** Analyze the output of single or multiple Tourmaline runs programmatically, with qiime2R in R or the QIIME 2 Artifact API in Python, using the provided R and Python notebooks or your own code.\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "How do I get started?",
        "parent_header": [
          "Tourmaline"
        ],
        "type": "Text_excerpt",
        "value": "If this is your first time using Tourmaline or Snakemake, you may want to browse through the [Wiki](https://github.com/aomlomics/tourmaline/wiki) for a detailed walkthrough. If you want to get started right away, check out the Quick Start below and follow along with the video tutorial on [YouTube](https://youtu.be/xKfOxrXBXYQ).\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Quick Start",
        "type": "Text_excerpt",
        "value": "Tourmaline provides Snakemake rules for DADA2 (single-end and paired-end) and Deblur (single-end). For each type of processing, there are four steps:\n\n1. the *denoise* rule imports FASTQ data and runs denoising, generating a feature table and representative sequences;\n2. the *taxonomy* rule assigns taxonomy to representative sequences;\n3. the *diversity* rule does representative sequence curation, core diversity analyses, and alpha and beta group significance; and\n4. the *report* rule generates an HTML report of the outputs plus metadata, inputs, and parameters. Also, the *report* rule can be run immediately to run the entire workflow.\n\nSteps 2\u20134 have *unfiltered* and *filtered* modes, the difference being that in the *taxonomy* step of *filtered* mode, undesired taxonomic groups or individual sequences from the representative sequences and feature table are removed. The *diversity* and *report* rules are the same for *unfiltered* and *filtered* modes, except the output goes into separate subdirectories.\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Apple Silicon Macs",
        "parent_header": [
          "Quick Start",
          "Install",
          "Option 1: Native installation"
        ],
        "type": "Text_excerpt",
        "value": "Follow these instructions for Macs with M1/M2 chips.  \n\n**First, set your Terminal application to run in [Rosetta mode](https://academy.bigbinary.com/learn-rubyonrails/setting-up-macos).**\n\n```bash\nwget https://data.qiime2.org/distro/core/qiime2-2023.5-py38-osx-conda.yml\nCONDA_SUBDIR=osx-64 conda env create -n qiime2-2023.5 --file qiime2-2023.5-py38-osx-conda.yml\nconda activate qiime2-2023.5\nconda config --env --set subdir osx-64\n```\n\nThen continue to install the other Conda- or PIP-installable dependencies.\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Option 2: Docker container",
        "parent_header": [
          "Quick Start",
          "Install"
        ],
        "type": "Text_excerpt",
        "value": "To run Tourmaline inside a Docker container:\n\n1. Install Docker Desktop (Mac, Windows, or Linux) from [Docker.com](https://docs.docker.com/get-docker/).\n2. Open Docker app.\n3. Increase the memory to 8 GB or more (Preferences -> Resources -> Advanced -> Memory).\n4. Download the Docker image from [DockerHub](https://hub.docker.com/r/aomlomics/tourmaline) (command below).\n5. Run the Docker image (command below).\n\n```bash\ndocker pull aomlomics/tourmaline\ndocker run -v $HOME:/data -it aomlomics/tourmaline\n```\n\nIf installing on a Mac with an Apple M1 chip, run the Docker image with the `--platform linux/amd64` command. It will take a few minutes for the image to load the first time it is run.\n\n```bash\ndocker run --platform linux/amd64 -v $HOME:/data -it aomlomics/tourmaline\n```\n\nThe `-v` (volume) flag above allows you to mount a local file system volume (in this case your home directory) to read/write from your container. Note that symbolic links in a mounted volume will not work.\n\nUse mounted volumes to:\n\n* copy metadata and manifest files to your container;\n* create symbolic links from your container to your FASTQ files and reference database;\n* copy your whole Tourmaline directory out of the container when the run is completed (alternatively, you can clone the Tourmaline directory inside the mounted volume).\n\nSee the [Install](https://github.com/aomlomics/tourmaline/wiki/2-Install#docker-container) page for more details on installing and running Docker.\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Unfiltered mode",
        "parent_header": [
          "Quick Start",
          "Run Snakemake"
        ],
        "type": "Text_excerpt",
        "value": "Continue the workflow without filtering (for now). If you are satisfied with your parameters and files, run the *taxonomy* rule (for unfiltered data):\n\n```bash\nsnakemake --use-conda dada2_pe_taxonomy_unfiltered --cores 4\n```\n\nNext, run the *diversity* rule (for unfiltered data):\n\n```bash\nsnakemake --use-conda dada2_pe_diversity_unfiltered --cores 4\n```\n\nFinally, run the *report* rule (for unfiltered data):\n\n```bash\nsnakemake --use-conda dada2_pe_report_unfiltered --cores 4\n```\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Filtered mode",
        "parent_header": [
          "Quick Start",
          "Run Snakemake"
        ],
        "type": "Text_excerpt",
        "value": "After viewing the *unfiltered* results\u2014the taxonomy summary and taxa barplot, the representative sequence summary plot and table, or the list of unassigned and potential outlier representative sequences\u2014the user may wish to filter (remove) certain taxonomic groups or representative sequences. If so, the user should first check the following parameters and/or files:\n\n* copy `2-output-dada2-pe-unfiltered/02-alignment-tree/repseqs_to_filter_outliers.tsv` to `00-data/repseqs_to_filter_dada2-pe.tsv` to filter outliers, or manually include feature IDs in `00-data/repseqs_to_filter_dada2-pe.tsv` to filter those feature IDs (change \"dada2-pe\" to \"dada2-se\" or \"deblur-se\" as appropriate);\n*  `exclude_terms` in `config.yaml` \u2013 add taxa to exclude from representative sequences, if desired;\n*  `repseq_min_length` and `repseq_max_length` in `config.yaml` \u2013 set minimum and/or maximum lengths for filtering representative sequences, if desired;\n*  `repseq_min_abundance` and `repseq_min_prevalence` in `config.yaml` \u2013 set minimum abundance and/or prevalence values for filtering representative sequences, if desired.\n\nNow we are ready to filter the representative sequences and feature table, generate new summaries, and generate a new taxonomy bar plot, by running the *taxonomy* rule (for filtered data):\n\n```bash\nsnakemake --use-conda dada2_pe_taxonomy_filtered --cores 4\n```\n\nNext, run the *diversity* rule (for filtered data):\n\n```bash\nsnakemake --use-conda dada2_pe_diversity_filtered --cores 4\n```\n\nFinally, run the *report* rule (for filtered data):\n\n```bash\nsnakemake --use-conda dada2_pe_report_filtered --cores 1\n```\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Troubleshooting",
        "parent_header": [
          "Quick Start",
          "More tips"
        ],
        "type": "Text_excerpt",
        "value": "* The whole workflow with test data should take ~3\u20135 minutes to complete. A normal dataset may take several hours to complete.\n* If any of the above commands don't work, read the error messages carefully, try to figure out what went wrong, and attempt to fix the offending file. A common issue is the file paths in your FASTQ manifest file need to be updated.\n* If you are running in a Docker container and you get an error like \"Signals.SIGKILL: 9\", you probably need to give Docker more memory. See the Wiki section on [Installation options](https://github.com/aomlomics/tourmaline/wiki/2-Install#installation-options).\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Power tips",
        "parent_header": [
          "Quick Start",
          "More tips"
        ],
        "type": "Text_excerpt",
        "value": "* The whole workflow can be run with just the command `snakemake dada2_pe_report_unfiltered`  (without filtering representative sequences) or  `snakemake dada2_pe_report_filtered`  (after filtering representative sequences). Warning: If your parameters are not optimized, the results will be suboptimal (garbage in, garbage out).\n* If you want to make a fresh run and not save the previous output, simply delete the output directories (e.g., `02-output-{method}-{filter}` and `03-report`) generated in the previous run. If you want to save these outputs and rerun with different parameters, you can change the name of the output directories and report files to something informative and leave them in the Tourmaline directory.\n* You can always delete any file you want to regenerate. Then there are several ways to regenerate it: run `snakemake FILE` and Snakemake will determine which rules (commands) need to be run to generate that file; or, run `snakemake RULE` where the rule generates the desired file as output.\n* If you've run Tourmaline on your dataset before, you can speed up the setup process and initialize a new Tourmaline directory (e.g., `tourmaline-new`) with the some of the files and symlinks of the existing one (e.g., `tourmaline-existing`) using the command below:\n\n  ```bash\n  cd /path/to/tourmaline-new\n  scripts/initialize_dir_from_existing_tourmaline_dir.sh /path/to/tourmaline-existing\n  ```\n\n  You may get error messages if some files don't exist, but it should have copied the files that were there. The files that will be copied from the existing directory to the new directory are:\n\n  ```\n  config.yaml\n  00-data/manifest_pe.csv\n  00-data/manifest_se.csv\n  00-data/metadata.tsv\n  00-data/repseqs_to_filter_dada2-pe.tsv\n  00-data/repseqs_to_filter_dada2-se.tsv\n  00-data/repseqs_to_filter_deblur-se.tsv\n  01-imported/refseqs.qza\n  01-imported/reftax.qza\n  01-imported/classifier.qza\n  ```\n\n  Ensure you make any changes to your configuration file and (if necessary) delete any files you want to be regenerated before you run Snakemake. If you copy over output files from a previous Tourmaline run manually that you do not want to be regenerated (eg, `02-output-{method}-unfiltered`), you should use the `cp -p` flag to preserve timestamps. \n  \n  ```\n  cp -rp tourmaline-old/02-output-dada2-pe-unfiltered/ tourmaline-new/\n  ```\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Alternatives",
        "parent_header": [
          "Quick Start",
          "More tips"
        ],
        "type": "Text_excerpt",
        "value": "Some alternative pipelines for amplicon sequence analysis include the following:\n\n* Anacapa Toolkit from UCLA: https://github.com/limey-bean/Anacapa\n* Banzai from MBON: https://github.com/jimmyodonnell/banzai\n* Tagseq QIIME 2 Snakemake workflow: https://github.com/shu251/tagseq-qiime2-snakemake\n"
      },
      "source": "https://raw.githubusercontent.com/aomlomics/tourmaline/master/README.md",
      "technique": "header_analysis"
    }
  ]
}