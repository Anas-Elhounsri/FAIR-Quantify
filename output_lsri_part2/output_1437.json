{
  "acknowledgement": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Acknowledgments",
        "parent_header": [
          "<p align=\"center\">Systematic ProtEin AnnotatoR</p>"
        ],
        "type": "Text_excerpt",
        "value": "Primary SPEAR development is undertaken by [Matthew Crown](https://github.com/m-crown) project is led by [Matthew Bashton](https://twitter.com/mattbashton) and is developed in collaboration with the [Najmanovich Research Group](http://biophys.umontreal.ca/nrg/) specifically Nat\u00e1lia Teruel and Rafael Najmanovich. This work is funded by [COG-UK](https://www.cogconsortium.uk/).\n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "header_analysis"
    }
  ],
  "application_domain": [
    {
      "confidence": 19.5,
      "result": {
        "type": "String",
        "value": "Computer Vision"
      },
      "technique": "supervised_classification"
    }
  ],
  "citation": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Citation",
        "parent_header": [
          "<p align=\"center\">Systematic ProtEin AnnotatoR</p>"
        ],
        "type": "Text_excerpt",
        "value": "SPEAR is published in _Bioinformatics_, if you use SPEAR in your work please cite our paper:\n\nCrown M, Teruel N, Najmanovich R, Basthon M. SPEAR: Systematic ProtEin AnnotatoR _Bioinformatics_, btac391, [https://doi.org/10.1093/bioinformatics/btac391](https://doi.org/10.1093/bioinformatics/btac391)\n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "References",
        "parent_header": [
          "<p align=\"center\">Systematic ProtEin AnnotatoR</p>"
        ],
        "type": "Text_excerpt",
        "value": "1. [Teruel, N., Crown, M., Bashton, M. & Najmanovich, R. Computational analysis of the effect of SARS-CoV-2 variant Omicron Spike protein mutations on dynamics, ACE2 binding and propensity for immune escape. _Biorxiv_ 2021.12.14.472622 (2021) doi:10.1101/2021.12.14.472622.](https://doi.org/10.1101/2021.12.14.472622)\n2. [Barnes, C. O. _et al_. Structures of Human Antibodies Bound to SARS-CoV-2 Spike Reveal Common Epitopes and Recurrent Features of Antibodies. _Cell_ **182**, 828-842.e16 (2020).](https://doi.org/10.1016/j.cell.2020.06.025)\n3. [Starr, T. N. _et al_. Deep Mutational Scanning of SARS-CoV-2 Receptor Binding Domain Reveals Constraints on Folding and ACE2 Binding. _Cell_ **182**, 1295-1310.e20 (2020).](https://doi.org/10.1016/j.cell.2020.08.012)\n4. [Teruel, N., Mailhot, O. & Najmanovich, R. J. Modelling conformational state dynamics and its role on infection for SARS-CoV-2 Spike protein variants. _Plos Comput Biol_ **17**, e1009286 (2021)](https://doi.org/10.1371/journal.pcbi.1009286).\n5. [Greaney, A. J. _et al_. Comprehensive mapping of mutations in the SARS-CoV-2 receptor-binding domain that affect recognition by polyclonal human plasma antibodies. _Cell Host Microbe_ **29**, 463-476.e6 (2021)](https://doi.org/10.1016/j.chom.2021.02.003).\n6. [Dong, J. _et al_. Genetic and structural basis for SARS-CoV-2 variant neutralization by a two-antibody cocktail. _Nat Microbiol_ 6, 1233\u20131244 (2021)](https://doi.org/10.1038/s41564-021-00972-2).\n7. [https://github.com/jbloomlab/SARS-CoV-2-RBD_MAP_COV2-2955](https://github.com/jbloomlab/SARS-CoV-2-RBD_MAP_COV2-2955)\n8. [Greaney, A. J. _et al_. Mapping mutations to the SARS-CoV-2 RBD that escape binding by different classes of antibodies. _Nat Commun_ **12**, 4196 (2021)](https://doi.org/10.1038/s41467-021-24435-8).\n9. [Starr, T. N., Greaney, A. J., Dingens, A. S. & Bloom, J. D. Complete map of SARS-CoV-2 RBD mutations that escape the monoclonal antibody LY-CoV555 and its cocktail with LY-CoV016. _Cell Reports Medicine_ **2**, 100255 (2021)](https://doi.org/10.1016/j.xcrm.2021.100255).\n10. [Starr, T. N. _et al_. Prospective mapping of viral mutations that escape antibodies used to treat COVID-19. _Science_ **371**, 850\u2013854 (2021)](https://doi.org/10.1126/science.abf9302).\n11. [Starr, T. N. _et al_. SARS-CoV-2 RBD antibodies that maximize breadth and resistance to escape. _Nature_ **597**, 97\u2013102 (2021)](https://doi.org/10.1038/s41586-021-03807-6).\n12. [Tortorici, M. A. _et al_. Broad sarbecovirus neutralization by a human monoclonal antibody. _Nature_ **597**, 103\u2013108 (2021)](https://doi.org/10.1038/s41586-021-03817-4).\n13. [Greaney, A. J., Starr, T. N. & Bloom, J. D. An antibody-escape calculator for mutations to the SARS-CoV-2 receptor-binding domain. _Biorxiv_ 2021.12.04.471236 (2021) doi:10.1101/2021.12.04.471236](https://doi.org/10.1101/2021.12.04.471236).\n14. [Team, T. B. et al. Bioconda: sustainable and comprehensive software distribution for the life sciences. _Nat Methods_ **15**, 475\u2013476 (2018)](https://doi.org/10.1038/s41592-018-0046-7).\n15. [M\u00f6lder, F. _et a_. Sustainable data analysis with Snakemake. _F1000research_ **10**, 33 (2021)](https://doi.org/10.12688/f1000research.29032.2).\n16. [Edgar, R. C. MUSCLE: a multiple sequence alignment method with reduced time and space complexity. _Bmc Bioinformatics_ **5**, 113 (2004)](https://doi.org/10.1186/1471-2105-5-113).\n17. [Danecek, P. _et al_. Twelve years of SAMtools and BCFtools. _Gigascience_ **10**, giab008 (2021)](https://doi.org/10.1093/gigascience/giab008).\n18. [Cingolani, P. _et al_. A program for annotating and predicting the effects of single nucleotide polymorphisms, SnpEff: SNPs in the genome of Drosophila melanogaster strain w1118; iso-2; iso-3. _Fly_ **6**, 80\u201392 (2012)](https://doi.org/10.4161/fly.19695).\n19. [Cingolani, P. _et al_. Using Drosophila melanogaster as a Model for Genotoxic Chemical Mutational Studies with a New Program, SnpSift. _Frontiers Genetics_ **3**, 35 (2012)](https://doi.org/10.3389/fgene.2012.00035).\n20. [Pedersen, B. S., Layer, R. M. & Quinlan, A. R. Vcfanno: fast, flexible annotation of genetic variants. _Genome Biol_ **17**, 118 (2016)](https://doi.org/10.1186/s13059-016-0973-5).\n21. [Heng, L. Minimap2: pairwise alignment for nucleotide sequences. _Bioinformatics_ **34**, 3094-3100 (2018)](https://academic.oup.com/bioinformatics/article/34/18/3094/4994778).\n22. [W Shen, S Le, Y Li*, F Hu*. SeqKit: a cross-platform and ultrafast toolkit for FASTA/Q file manipulation. PLOS ONE.](https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0163962)\n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "header_analysis"
    }
  ],
  "code_repository": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/m-crown/SPEAR"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_created": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2021-10-22T00:04:41Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_updated": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2024-09-17T10:01:13Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "description": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "Systematic ProtEin AnnotatoR"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Summary of Changes (Version 1 to Version 2)",
        "parent_header": [
          "<p align=\"center\">Systematic ProtEin AnnotatoR</p>"
        ],
        "type": "Text_excerpt",
        "value": "- Improved single-core performance with faster annotation and scoring times - 1,000 consensus sequences in ~6 mins using a single CPU core and fastest operating mode (versus ~12 mins in v1.1.3) and ~2.5 mins with 8 CPU cores.\n- Added new functions: `utilities-representative` (to generate a representative VCF file from a set of same-lineage sequences) and `utilities-report` (to produce a SPEAR report after pipeline execution).\n- New input formats: spear consensus now takes a single fasta or multiple fasta file as input (can be gzipped), regardless of single or multiple file. spear vcf now takes a single vcf file as input, regardless of single or multiple samples. For spear alignment, you should still specify a single file for one sample, or a directory for multiple samples. For more details on preparing your samples for input to the SPEAR tool, please refer to the [preparing inputs](#preparing-inputs) section. A new `utilities-vcf-merge` function has been added to merge multiple VCF files into a single multi-sample VCF file.\n- Reduced size of example data set by combining consensus files into a single file and VCF files into a single file (according to new input formats).\n- These changes introduce new dependencies and input modalities, so SPEAR should be installed from scratch when updating (see the instructions below).\n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Introduction",
        "parent_header": [
          "<p align=\"center\">Systematic ProtEin AnnotatoR</p>"
        ],
        "type": "Text_excerpt",
        "value": "SPEAR is an annotation tool for SARS-CoV-2 genomes, it provides comprehensive annotation of all protein products, in particular, Spike (S) mutations are annotated with a range of scores that provide indications of their likely effects on ACE2 binding, and likely contribution to immune escape. The aim of SPEAR is to provide a lightweight genomic surveillance tool that can be run within a diagnostic lab, sequencing facility, or analysis pipeline providing quantitative scores at point of sequencing. Functional annotation and effect scoring are derived from protein structure, theoretical simulation, and omics' experiments. \n\nSPEAR accepts a range of standard inputs, FASTA consensus sequences `.fa`, sequences aligned to reference genome (NC_045512.2|MN908947.3) `.aln` and `.vcf` files. SPEAR will annotate and score 1,000 consensus input sequences in ~8 mins using a single CPU core and in ~3 mins with 8 cores.\n\nThe SPEAR scoring system identifies both the potential immune escape and reduced ACE2 binding consequences of variants in the Omicron RBD, as well as highlighting the potential increased stability of the open conformation of the Spike protein within Omicron, a more in-depth discussion of these matters can be found in our [preprint](https://doi.org/10.1101/2021.12.14.472622) Teruel _et al_[1].\n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Summary and multiple sample files",
        "parent_header": [
          "<p align=\"center\">Systematic ProtEin AnnotatoR</p>",
          "Output"
        ],
        "type": "Text_excerpt",
        "value": "- `all_samples.spear.vcf` - a multi sample VCF file with all annotations encoded in VCF format, header describes SPEAR fields.\n- `spear_annotation_summary.tsv` - a tab delimited file for all samples with SPEAR annotation and scores per variant, one row per variant.\n- `spear_score_summary.tsv` - a tab delimited file with total scores for each sample, one sample per row.\n- `spear_variant_summary.csv` - a comma delimited file, one row per sample listing all variants and their consequence type.\n- `qc.csv` - a comma delimited file with QC data, columns: `sample_id`, `global_n` (global N%), `s_n` (Spike N%), `s_n_contig` (longest Spike contig of N), `rbd_n` (RBD N nt count).\n- `report/` - this directory will contain an HTML `report.html` supporting files are also required within this directory tree.\n- `report/plots/` - this directory contains all standalone plots also found in the above report.\n- `lineage_report.csv` - output from Pangolin (if Pangolin is not run this file will be empty).\n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 0.9522872472368341,
      "result": {
        "original_header": "Terminal output",
        "type": "Text_excerpt",
        "value": "Scores for each sample along with highlights showing where these exceed the chosen baseline (defaults to `BA.2`) are produced in the SPEAR terminal output. This mirrors the SPEAR Per Sample Scores Summary table found in the HTML report. And is sorted by the column `Class Masked mAb escape`. \n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.8895695471420852,
      "result": {
        "original_header": "Baseline scoring comparison",
        "type": "Text_excerpt",
        "value": "All scores (as discussed below) can be compared to a baseline lineage or user-supplied sample, the default is to compare to BA.2, this means that any scores above the values in the baseline will be highlighted, potentially flagging samples with enhanced immune escape or ACE2 binding, these scores are discussed below.  To select an alternative baseline from the built-in options use: \nBaseline lineages VCFs, their composition and creation are discussed in [SPEAR-Reports](https://github.com/m-crown/SPEAR-Reports#spear-baseline).\n \n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9952106877217975,
      "result": {
        "original_header": "Quality Control (QC)",
        "type": "Text_excerpt",
        "value": "SPEAR will quality check and flag issues within any consensus or alignment inputs for: global N percentage (>25%), Spike N percentage (>5%), Spike dropout (contig of N >150nt), and Receptor Binding Domain (RBD) quality (>12nt N content). These QC checks do not work for VCF input. Dropout detection is critical as missing mutations in Spike can\u2019t be scored. These QC warnings are displayed in the final column of the terminal output and Per Sample Score Summary table: `!` - Spike N contig, `^` - Spike RBD N content, `*` - Global N percentage, `#` - Spike N percentage. These values are user configurable. **The end user should always check the quality of input data and underlying variant calls, as whilst steps are taken to alert the user to issues with input sequences these don't replace robust sequencing QC.**\n \n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.8811472239791759,
      "result": {
        "original_header": "Per sample files",
        "type": "Text_excerpt",
        "value": "- `final_vcfs/` - within this directory there will be a VCF file per sample, SPEAR fields format is as all sample file.\n- `per_sample_annotation/` - within this directory there will be a tab delimited file per sample with all SPEAR annotation and scores.\n- `reports/plots/product_plots/` - this directory contains a protein product plot per sample with individual mutations shown along with scores where appropriate.\n \n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.922536172645434,
      "result": {
        "original_header": "Column headings for annotation files",
        "type": "Text_excerpt",
        "value": "These columns are within both the per sample files and `spear_annotation_summary.tsv`: \n| Column ID | Description |\n| - | - |\n| `sample_id` | Input sample ID, taken from input file header in `.fa`, `.aln` and sample col in `.vcf`. |\n| `POS` | Position of variant as per VCF spec (1-based). |\n| `REF` | Reference genome base(s) as per VCF spec. |\n| `ALT` | Alternative base(s) as per VCF spec. |\n| `gene_name` | ORF1ab, S, ORF3a, E, M, ORF6, ORF7a, ORF7b, ORF8, N, variants between ORFs are flagged as intergenic. |\n| `HGVS.nt` | HGVS annotation for c. coding regions, or n. non-coding with nucleotide co-ordinates, _note_ our HGVS isa not 3' aligned as per HGVS standard, as this causes issues with incorrect consequence calling, as such all positions honour original VCF co-ordinates. |\n| `consequence_type` | The type of variant consequence, e.g. missense_variant, synonymous_variant, multiple consequences are possible here and will be & separated. |\n| `description`      | Free text description of product, ORF1ab is further broken down here into: leader protein (nsp1), nsp2, nsp3, nsp4, 3C-like proteinase (nsp5), nsp6, nsp7, nsp8, nsp9, nsp10, RNA-dependent RNA polymerase (RdRp, nsp12), helicase (nsp13), 3'-to-5' exonuclease (nsp14), endoRNAse (nsp15), and 2'-O-ribose methyltransferase (nsp16). |\n| `RefSeq_acc` | RefSeq accession for protein product, will be final cleaved polypotein product specific. |\n| `residues` | Amino acid residue changes in the format of N501Y (REF-AA residue ALT-AA), where the genomic events produces multiple changes these will be expressed like so: `G142D,del143,del144,del145` for G142D followed by deletion of 3 residues, or `R203K,G204R` exposing individual AA changes within a MNP. |\n| `region` | Currently only annotated for Spike: S1 or S2 and ORF3a transmembrane or cytosolic. |\n| `domain` | Annotated for protein where multiple domains are present, spike definitions, e.g. NTD, RBD, RBM, definitions can be found [here](/docs/S_domains.md). |\n| `feature` | Features possessed by residues distinct from domain annotation, such as active sites or ligand binding roles where each annotated residue contributes to the feature. |\n| `contact_type` | Takes the format for `molecule:bond_type_residue`, _e.g_. `ACE2:h-bond_E35+contact_K31_H34`, implies a ACE2 h-bond made by annotated residue to E35 within ACE2 as well as 4\u00c5 cut-off contact made to K31 and H34, `+` delimits additional contact types. `trimer:h-bond_707_709+contact` implies a contact in the trimer interface of Spike h-binding to residues 707 and 709 with an additional generic none residue specific contact. The bond type salt-bridge is also possible here. Currently only annotated for Spike. |\n| `NAb` | A list of bound neutralising antibodies, this list is `+` delimited, with `,` reserved to delimit multiple amino acid variant events as described in `residues`. Currently only annotated for Spike. |\n| `barnes_class` | If the residue is part of a Barnes epitope class as defined in Barnes _et al_.[2], annotated values are 1, 2, 3, 4 with a + delimiter, some classes are appended with a * where they were not part of formal epitope studies but that residue was found to be sensitive to biding of antibodies of that class via mutagenesis studies. | \n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9546263699462336,
      "result": {
        "original_header": "Scores",
        "type": "Text_excerpt",
        "value": "SPEAR uses a number of different scores to evaluate the likely impact of viral genomes, these can be found at the residue level in the `.spear.annotation.tsv` files within `per_sample_annotation/` directory and also in the `spear_annotation_summary.tsv` file for all samples in the run.  Some scores operate at a per residue level, such that any variant will get the same score, while others are mutation specific (accounting for individual amino acid change), and some operate at a whole sample level. \n| Column ID | Level | Description |\n| - | - | - |\n| `bloom_ace2_wuhan` | mutation | ACE2 binding value \u0394-log10(KD,app) relative to the \"wild-type\" (WT), data from Starr _et al_.[3] Higher positive values mean binding is stronger than WT, negative values mean binding is weaker than WT. |\n| `bloom_ace2_BA1` | mutation | ACE2 binding value \u0394-log10(KD,app) relative to BA.1. Higher positive values mean binding is stronger than WT, negative values mean binding is weaker than BA.1. |\n| `bloom_ace2_BA2` | mutation | ACE2 binding value \u0394-log10(KD,app) relative to BA.2. Higher positive values mean binding is stronger than WT, negative values mean binding is weaker than BA.2. |\n| `VDS` | mutation | Vibrational Difference Score (VDS), positive VDS values suggests mutation stabilises the open state of Spike and/or makes the closed state more flexible, favouring the open conformation relative to the WT. Negative values suggest mutation favours the closed state more than WT. Data from Teruel _et al_.[4]. |\n| `serum_escape` | mutation | Mean residue specific serum escape score from 7 individuals in Greaney _et al_.[5], larger values indicate more escape, (range 0-1). |\n| `mAb_escape` | mutation | Mean residue specific mAb escape score from 26 mAbs, larger values indicate more escape, (range 0-1). Data taken from Dong _et al_.[6], SARS-CoV-2-RBD\\_MAP\\_COV2-2955[7], Greaney _et al_.[8], Starr _et al_.[9], Starr _et al_.[10], Starr _et al_.[11] Tortorici _et al_.[12].                                                                                                                                                                                     |\n| `cm_mAb_escape` | mutation | As above, but calculated in a Barnes class mask specific way such that the mean is taken only from Barnes class mAbs that correspond to class of residue with mutation. |\n| `mAb_escape_class_1` | mutation | As above, mean residue specific mAb escape score from class 1 mAbs only, only applied to residues in Barnes class 1 epitope. |\n| `mAb_escape_class_2` | mutation | As above, mean residue specific mAb escape score from class 2 mAbs only, only applied to residues in Barnes class 2 epitope. |\n| `mAb_escape_class_3` | mutation | As above, mean residue specific mAb escape score from class 3 mAbs only, only applied to residues in Barnes class 3 epitope. |\n| `mAb_escape_class_4` | mutation | As above, mean residue specific mAb escape score from class 4 mAbs only, only applied to residues in Barnes class 4 epitope. |\n| `BEC_RES` | residue  | Bloom Escape Calculator Residue Escape Score, this residue specific number is generated from the full compliment of mutated residues in the sample using [`bindingcalculator.py`](https://github.com/jbloomlab/SARS2_RBD_Ab_escape_maps/blob/main/bindingcalculator.py) from [`jbloomlab/SARS2_RBD_Ab_escape_maps`](https://github.com/jbloomlab/SARS2_RBD_Ab_escape_maps) as described in Greaney _et al_.[13]. **Lower values here indicate more antibody escape**. |\n| `BEC_EF` | residue  | Bloom Escape Calculator Escape Factor, a fraction (0 to 1) of antibodies escaped by mutations at this residue. 0 = no antibodies escaped, 1 = all antibodies escaped. This value is calculated for individual mutations without contribution of other mutated residues. |\n| `BEC_sample_EF` | sample | Bloom Escape Calculator Escape Factor as `BEC_EF` but calculated using the full compliment of mutated residues in the sample, this score will be the same for every mutated residue in a sample. | \nThese scores are also summarised in `spear_score_summary.tsv` with a row for each sample. Some columns summarise values for multiple entities here and are internally `,` delimited. Documentation for this file is found in [Table 4](docs/Table4.md). \nSome of the scores employed here have been used to demonstrate the immune escape and ACE2 binding properties of Omicron and are discussed further in Teruel _et al_. [1].\n \n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9979787007979062,
      "result": {
        "original_header": "Advanced filtering options",
        "type": "Text_excerpt",
        "value": "There are known problematic sites in [SARS-CoV-2 sequencing](https://github.com/W-L/ProblematicSites_SARS-CoV2/), these sites are not filtered out by default, and their usages needs to be handled with **caution**. This list is maintained for a tree building usage case, and sites such as S:G142D which are informative from an annotation perspective may be masked if this list is used blindly, owing to the fact that this region is difficult to call on ARTIC v3 and other primers in Delta genomes. Thus considerations for building phylogenetic trees are not always ideal from an annotation perspective.  To get round this we expose the ability to filter sites flagged as \"mask\" with user defined granularity by invoking `--mask-problem-sites` along with one or more of the following two letter codes which indicate which of the tags described originally [here](https://github.com/W-L/ProblematicSites_SARS-CoV2/) and reproduced below will be filtered: \n| Code | Tag | Description |\n| - | - | - |\n| AB | ambiguous | Sites which show an excess of ambiguous basecalls relative to the number of alternative alleles, often emerging from a single country or sequencing laboratory. |\n| AM | amended | Previous sequencing errors which now appear to have been fixed in the latest versions of the GISAID sequences, at least in sequences from some of the sequencing laboratories. |\n| HA   | highly_ambiguous | Sites with a very high proportion of ambiguous characters, relative to the number of alternative alleles. |\n| HH   | highly_homoplasic | Positions which are extremely homoplasic - it is sometimes not necessarily clear if these are hypermutable sites or sequencing artefacts. |\n| HO   | homoplasic | Homoplasic sites, with many mutation events needed to explain a relatively small alternative allele count. |\n| IC   | interspecific_contamination | Cases (so far only one instance) in which the known sequencing issue is due to contamination from genetic material that does not have SARS-CoV-2 origin. |\n| NA   | nanopore_adapter | Cases in which the known sequencing issue is due to the adapter sequences in nanopore reads. |\n| NS   | narrow_src | Variants which are found in sequences from only a few sequencing labs (usually two or three), possibly as a consequence of the same artefact reproduced independently. |\n| NL   | neighbour_linked | Proximal variants displaying near perfect linkage. |\n| SS   | single_src | Only observed in samples from a single laboratory. |\n| AD   | amplicon\\_drop\\_or\\_primer\\_artefact | Amplicon dropout and/or failed primer trimming. |\n| BR   | back\\_to\\_ref | The alternate allele is sometimes not called for this position due to issues with amplicon dropout and/or primer trimming. |\n| all  | all of the above | Everything marked as mask. | \n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "supervised_classification"
    }
  ],
  "documentation": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/m-crown/SPEAR/tree/main/docs"
      },
      "technique": "file_exploration"
    }
  ],
  "download_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/m-crown/SPEAR/releases"
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 0
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/m-crown/SPEAR/forks"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "m-crown/SPEAR"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_title": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "Systematic ProtEin AnnotatoR"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "regular_expression"
    }
  ],
  "has_script_file": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/m-crown/SPEAR/main/scripts/run_pango.sh"
      },
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/m-crown/SPEAR/main/scripts/update_vcf_header.sh"
      },
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/m-crown/SPEAR/main/scripts/update_spear.sh"
      },
      "technique": "file_exploration"
    }
  ],
  "images": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/m-crown/SPEAR/main/images/terminal_table.png"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "regular_expression"
    }
  ],
  "installation": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Installation",
        "parent_header": [
          "<p align=\"center\">Systematic ProtEin AnnotatoR</p>"
        ],
        "type": "Text_excerpt",
        "value": "Clone this repo:\n\n`git clone https://github.com/m-crown/SPEAR.git`\n\nChange to downloaded directory:\n\n`cd SPEAR`\n\nRun the install script, (this requires a working conda install, we recommend [miniconda](https://docs.conda.io/en/latest/miniconda.html)):\n\n`install_spear`\n\nActivate the conda environment:\n\n`conda activate spear`\n\nRun spear:\n\n`spear`\n\nOnce installed SPEAR can be updated with the `spear update` command, where:\n\n- `spear update spear` - updates the core SPEAR code and SPEAR data from this repo.\n- `spear update data` - updates SPEAR data and external 3rd party datasets.\n- `spear update all` - updates everything and reinstalls the conda env as well as SPEAR.\n\nSPEAR has been tested on Intel Mac OS 10.5, 11.x, 12.x, RHEL clones 7/8 and Ubuntu 21.10, and should work on other Linux distributions.\n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Consensus FASTA",
        "parent_header": [
          "<p align=\"center\">Systematic ProtEin AnnotatoR</p>",
          "Preparing Inputs"
        ],
        "type": "Text_excerpt",
        "value": "In version 1 of SPEAR, consensus FASTA inputs were either a single file for a single sample, or a directory of files for multiple samples. In version 2, `seqkit` is used to parse input samples from a single FASTA file regardless of sample count. To prepare your samples for input to the SPEAR tool, simply combine all samples into a single FASTA file, which may be gzipped. For more help, refer to the following steps:\n\n``` bash\ncd <path_to_directory_with_samples>\ncat *.fa > all_samples.fasta\n```\n\nor if samples are gzipped:\n\n``` bash\ncd <path_to_directory_with_samples>\ncat *.fa.gz > all_samples.fasta.gz\n```\n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "VCF Input",
        "parent_header": [
          "<p align=\"center\">Systematic ProtEin AnnotatoR</p>",
          "Preparing Inputs"
        ],
        "type": "Text_excerpt",
        "value": "In version 1 of SPEAR, VCF files were input in the format one VCF file per sample, and the first step of analysis was to combine these input files into a single multi-sample VCF. In version 2, `spear vcf` expects a single multi-sample VCF file as input. This reduces storage overhead, as in version 1 each VCF file was preprocessed and copied to a location within the analysis directory, and now preprocessing can occur on a single file. If you need to combine multiple VCF inputs into a single VCF file, follow the guidance below:\n\n``` bash\nspear utilities-vcf-merge --input <path_to_vcf_directory>\n```\n\nBy default the tool will produce a file called `merged.vcf` in the current working directory - this can be controlled with the `--output` and `--out_dir` parameters.\n\nIf doing merge within your own pipeline, run the following commands:\n\n``` bash\ncd <path_to_directory_with_samples>\nfind . -type f -name \"*.vcf\" > merge_list.txt\nbcftools merge --no-index -m none -o all_samples.vcf -l merge_list.txt\n```\n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Alignment Files",
        "parent_header": [
          "<p align=\"center\">Systematic ProtEin AnnotatoR</p>",
          "Preparing Inputs"
        ],
        "type": "Text_excerpt",
        "value": "Input format for pre-aligned samples has not changed between version 1 and 2. For single sample, specify an alignment file, and for multiple samples specify the path to a directory containing pairwise alignment files, one per sample.\n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "header_analysis"
    }
  ],
  "invocation": [
    {
      "confidence": 0.8259375176931475,
      "result": {
        "original_header": "Per sample files",
        "type": "Text_excerpt",
        "value": "- `final_vcfs/` - within this directory there will be a VCF file per sample, SPEAR fields format is as all sample file.\n- `per_sample_annotation/` - within this directory there will be a tab delimited file per sample with all SPEAR annotation and scores.\n- `reports/plots/product_plots/` - this directory contains a protein product plot per sample with individual mutations shown along with scores where appropriate.\n \n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "supervised_classification"
    }
  ],
  "issue_tracker": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/m-crown/SPEAR/issues"
      },
      "technique": "GitHub_API"
    }
  ],
  "keywords": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "bioinformatics"
      },
      "technique": "GitHub_API"
    }
  ],
  "license": [
    {
      "confidence": 1,
      "result": {
        "name": "MIT License",
        "spdx_id": "MIT",
        "type": "License",
        "url": "https://api.github.com/licenses/mit",
        "value": "https://api.github.com/licenses/mit"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "type": "File_dump",
        "value": "MIT License\n\nCopyright (c) 2021 m-crown\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/LICENSE",
      "technique": "file_exploration"
    }
  ],
  "logo": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/m-crown/SPEAR/main/images/SPEAR.svg"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "regular_expression"
    }
  ],
  "name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "SPEAR"
      },
      "technique": "GitHub_API"
    }
  ],
  "owner": [
    {
      "confidence": 1,
      "result": {
        "type": "User",
        "value": "m-crown"
      },
      "technique": "GitHub_API"
    }
  ],
  "programming_languages": [
    {
      "confidence": 1,
      "result": {
        "name": "Python",
        "size": 250191,
        "type": "Programming_language",
        "value": "Python"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "Shell",
        "size": 10607,
        "type": "Programming_language",
        "value": "Shell"
      },
      "technique": "GitHub_API"
    }
  ],
  "readme_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md"
      },
      "technique": "file_exploration"
    }
  ],
  "related_documentation": [
    {
      "confidence": 1,
      "result": {
        "format": "readthedocs",
        "type": "Url",
        "value": "https://snakemake.readthedocs.io/"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "regular_expression"
    }
  ],
  "releases": [
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2024-09-17T10:01:07Z",
        "date_published": "2024-09-17T10:02:18Z",
        "description": "* Add pandemic scale baseline scores for comparison.\r\n* Fix issue with single sample input processing.\r\n* Update spike region calculation for scoring.\r\n\r\n**Full Changelog**: https://github.com/m-crown/SPEAR/compare/v2.0.0...v2.0.1",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v2.0.1",
        "name": "v2.0.1",
        "release_id": 175417002,
        "tag": "v2.0.1",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v2.0.1",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/175417002",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/175417002",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v2.0.1"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2024-08-13T07:37:59Z",
        "date_published": "2024-08-13T07:39:59Z",
        "description": "## What's Changed\r\nThis version provides a major speedup to SPEAR (6mins for 1000 samples on a single core) and includes the following:\r\n\r\n-Adds SPEAR utilities module, including utilities-report to run reports on past flat file outputs, and utilities-representative to produce representative VCF files for samples from the same Pango Lineage quickly (like those used in SPEAR-Reports repo).\r\n-Utilises Seqkit to process input fasta files, necessitating a change in fa input. All samples should be combined into a single file, which can now be gzipped to reduce overhead.\r\n-Similarly, VCF files can now be passed to the pipeline as a single multi-sample VCF file. A helped function, utilities-vcf-merge is provided to do this merging on a directory of VCF files.\r\n-Fixes https://github.com/m-crown/SPEAR/issues/45 by adding the force-single flag to bcftools merge in the pipeline.\r\n\r\n\r\n**Full Changelog**: https://github.com/m-crown/SPEAR/compare/v1.1.3...v2.0.0",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v2.0.0",
        "name": "v2.0.0",
        "release_id": 169907800,
        "tag": "v2.0.0",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v2.0.0",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/169907800",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/169907800",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v2.0.0"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2023-05-30T11:06:08Z",
        "date_published": "2023-05-30T11:09:37Z",
        "description": "# Version 1.1.3\r\n\r\n* Fixed installation issue related to bioconda grep\r\n* Fixed issue related to empty feature counts tables in convert_format.py and summary reports. \r\n\r\n\r\n**Full Changelog**: https://github.com/m-crown/SPEAR/compare/v1.1.2...v1.1.3",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v1.1.3",
        "name": "v1.1.3",
        "release_id": 105345846,
        "tag": "v1.1.3",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v1.1.3",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/105345846",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/105345846",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v1.1.3"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2023-01-17T10:15:30Z",
        "date_published": "2023-01-17T11:23:59Z",
        "description": "# Version 1.1.2\r\n\r\n* Added new XBB variants to demo.\r\n* Changed SPEAR demo baseline from BA.5 to BQ.1  \r\n\r\n\r\n**Full Changelog**: https://github.com/m-crown/SPEAR/compare/v1.1.1...v1.1.2",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v1.1.2",
        "name": "v1.1.2",
        "release_id": 89224937,
        "tag": "v1.1.2",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v1.1.2",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/89224937",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/89224937",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v1.1.2"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2022-12-14T10:24:44Z",
        "date_published": "2022-12-14T10:33:17Z",
        "description": "Version 1.1.1\r\n\r\nRenames fields from Barns to Barnes and tidies up some example VCF file names. \r\n\r\n**Full Changelog**: https://github.com/m-crown/SPEAR/compare/v1.1.0...v1.1.1",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v1.1.1",
        "name": "v1.1.1",
        "release_id": 86006357,
        "tag": "v1.1.1",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v1.1.1",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/86006357",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/86006357",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v1.1.1"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2022-12-10T15:01:42Z",
        "date_published": "2022-12-10T15:05:07Z",
        "description": "## What's Changed in version 1.1.0\r\n* New BA.1 and BA.2 comparison ACE2 scoring measures integrated.\r\n* ACE2 scoring measure changed from sum to mean.\r\n* Updated log handling in ACE2 scoring measures for mean calculation.\r\n* Unified single and multi sample pipelines into single snakemake file.\r\n* Streamlined file downloads needed on install/update by integrating more data into SPEAR.\r\n* New BQ.1 and BQ.1.1 vcf files added.\r\n* Default baseline BA.5\r\n\r\n**Full Changelog**: https://github.com/m-crown/SPEAR/compare/v1.0.12...v1.1.0",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v1.1.0",
        "name": "v1.1.0",
        "release_id": 85629852,
        "tag": "v1.1.0",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v1.1.0",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/85629852",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/85629852",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v1.1.0"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2022-10-07T10:42:16Z",
        "date_published": "2022-10-07T10:47:08Z",
        "description": "## What's Changed\r\n* Made per sample outputs an option, improving SPEAR execution time. Enable per sample outputs using the new flag `--per_sample_outputs`\r\n* Added membrane protein annotation based on 7VGR/7VGS and Zhang et al. 2022 (https://doi.org/10.1038/s41467-022-32019-3)\r\n\r\n\r\n**Full Changelog**: https://github.com/m-crown/SPEAR/compare/v1.0.11...v1.0.12",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v1.0.12",
        "name": "v1.0.12",
        "release_id": 79256485,
        "tag": "v1.0.12",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v1.0.12",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/79256485",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/79256485",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v1.0.12"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2022-09-05T14:05:48Z",
        "date_published": "2022-09-05T14:06:59Z",
        "description": "Fixes issue in convert_format.py where incorrect dataframe grouping applied leading to error. ",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v1.0.11",
        "name": "v1.0.11",
        "release_id": 76295631,
        "tag": "v1.0.11",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v1.0.11",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/76295631",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/76295631",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v1.0.11"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2022-07-31T10:28:33Z",
        "date_published": "2022-07-31T10:41:30Z",
        "description": "Added new VCFs for emerging variants. Other minor bug fixes.",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v1.0.10",
        "name": "v1.0.10",
        "release_id": 73278946,
        "tag": "v1.0.10",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v1.0.10",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/73278946",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/73278946",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v1.0.10"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2022-06-17T14:06:33Z",
        "date_published": "2022-06-17T14:07:36Z",
        "description": "## What's Changed\r\n* Add new example VCFs and example FASTA for BA.4, BA.5 and BA.2.12.1\r\n\r\n**Full Changelog**: https://github.com/m-crown/SPEAR/compare/v1.0.7...v1.0.8",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v1.0.8",
        "name": "v1.0.8",
        "release_id": 69720931,
        "tag": "v1.0.8",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v1.0.8",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/69720931",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/69720931",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v1.0.8"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2022-06-03T08:31:57Z",
        "date_published": "2022-06-03T08:36:49Z",
        "description": "## What's Changed\r\n* Remove residues missing in Bloom Calculator data to prevent errors after calculator update\r\n\r\n**Full Changelog**: https://github.com/m-crown/SPEAR/compare/v1.0.6...v1.0.7",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v1.0.7",
        "name": "v1.0.7",
        "release_id": 68526869,
        "tag": "v1.0.7",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v1.0.7",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/68526869",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/68526869",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v1.0.7"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2022-05-18T09:58:22Z",
        "date_published": "2022-05-18T10:00:10Z",
        "description": "## What's Changed\r\n* Added example fasta files for testing SPEAR alongside SPEAR demo functionality.\r\n* Fixed bug in get_indels rule preventing VCF completion in some cases.\r\n\r\n**Full Changelog**: https://github.com/m-crown/SPEAR/compare/v1.0.5...v1.0.6",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v1.0.6",
        "name": "v1.0.6",
        "release_id": 67159004,
        "tag": "v1.0.6",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v1.0.6",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/67159004",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/67159004",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v1.0.6"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2022-05-09T11:37:04Z",
        "date_published": "2022-05-09T12:11:17Z",
        "description": "## What's Changed\r\n* Updated NSP1 SPEAR data.\r\n* Minor bug fixes.\r\n\r\n**Full Changelog**: https://github.com/m-crown/SPEAR/compare/v1.0.4...v1.0.5",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v1.0.5",
        "name": "v1.0.5",
        "release_id": 66362096,
        "tag": "v1.0.5",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v1.0.5",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/66362096",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/66362096",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v1.0.5"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2022-04-25T13:40:12Z",
        "date_published": "2022-04-25T13:41:23Z",
        "description": "## What's Changed\r\n* Added back pangolin lineage heatmap sorting when pangolin is run.\r\n* Minor changes to report outputs in tables and heatmaps to make them easier to read.\r\n\r\n\r\n**Full Changelog**: https://github.com/m-crown/SPEAR/compare/v1.0.3...v1.0.4",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v1.0.4",
        "name": "v1.0.4",
        "release_id": 65239333,
        "tag": "v1.0.4",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v1.0.4",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/65239333",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/65239333",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v1.0.4"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2022-04-22T16:34:02Z",
        "date_published": "2022-04-22T22:36:38Z",
        "description": "Removed lineage sorting on heatmap. \r\n\r\n**Full Changelog**: https://github.com/m-crown/SPEAR/compare/v1.0.2...v1.0.3",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v1.0.3",
        "name": "v1.0.3",
        "release_id": 65128870,
        "tag": "v1.0.3",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v1.0.3",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/65128870",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/65128870",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v1.0.3"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2022-04-21T10:48:46Z",
        "date_published": "2022-04-21T10:49:53Z",
        "description": "Updated run_pango.sh script to work on all systems. Updated version in report and CLI",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v1.0.2",
        "name": "v1.0.2",
        "release_id": 64945428,
        "tag": "v1.0.2",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v1.0.2",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/64945428",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/64945428",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v1.0.2"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2022-04-21T09:35:29Z",
        "date_published": "2022-04-21T09:38:34Z",
        "description": "Added fix for missing installer and upate scripts. \r\n\r\n**Full Changelog**: https://github.com/m-crown/SPEAR/compare/v1.0.0...v1.0.1",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v1.0.1",
        "name": "v1.0.1",
        "release_id": 64939343,
        "tag": "v1.0.1",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v1.0.1",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/64939343",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/64939343",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v1.0.1"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2022-04-20T16:56:13Z",
        "date_published": "2022-04-20T16:57:57Z",
        "description": "## What's Changed\r\n\r\n- Added pangolin lineage assignment to SPEAR. Default operation mode UShER. \r\n- Added optional pangolin conda environment installation to 'install_spear' \r\n- Added NTD loop regions (N1-N5) as features for annotation in SPEAR. \r\n- Added NTD mutations summary table to HTML report, which also highlights indels occurring in loop regions N1-N5.\r\n\r\n**Full Changelog**: https://github.com/m-crown/SPEAR/compare/v0.8.2...v1.0.0",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v1.0.0",
        "name": "v1.0.0",
        "release_id": 64868667,
        "tag": "v1.0.0",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v1.0.0",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/64868667",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/64868667",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v1.0.0"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2022-04-01T14:25:09Z",
        "date_published": "2022-04-01T14:25:55Z",
        "description": "Minor bug fixes. ",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v0.8.2",
        "name": "v0.8.2",
        "release_id": 63385137,
        "tag": "v0.8.2",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v0.8.2",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/63385137",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/63385137",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v0.8.2"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2022-04-01T07:20:15Z",
        "date_published": "2022-04-01T08:12:30Z",
        "description": "Fixes issue with single input execution where snakemake would fail due to missing double braces. ",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v0.8.1",
        "name": "v0.8.1",
        "release_id": 63354290,
        "tag": "v0.8.1",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v0.8.1",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/63354290",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/63354290",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v0.8.1"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2022-03-31T10:05:19Z",
        "date_published": "2022-03-31T10:09:08Z",
        "description": "## What's Changed\r\n* Added alternative minimap2/gofasta alignment option for consensus inputs, this is the new default.  Using minimap2/gofasta mode provides a 16X speedup versus MUSCLE on single thread, and 8X speedup on 8 threads. \r\n* Added annotation of furin cleavage site and new furin cleavage table summarising mutations in this region to report. \r\n* Added \"Mutated Interacting Residues\" table, summarising mutations in protein-protein interaction and ligand binding residues. \r\n* Various minor tweaks and bugfixes. \r\n\r\n\r\n**Full Changelog**: https://github.com/m-crown/SPEAR/compare/v0.7.0...v0.8.0",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v0.8.0",
        "name": "v0.8.0",
        "release_id": 63157723,
        "tag": "v0.8.0",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v0.8.0",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/63157723",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/63157723",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v0.8.0"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2022-03-11T16:19:28Z",
        "date_published": "2022-03-11T17:13:01Z",
        "description": "## What's Changed\r\n* Execution speedup for all input types (consensus, alignment, VCF) - speed up ranges from 1.33x (single core) to 2x (8 cores) depending on number of threads.\r\n* Added new feature field to SPEAR annotation, includes annotation such as `active_site`, `substrate_binding_loop`, `beta_hairpin` . \r\n* Added new domain and feature count tables to summary report for visualisation of new annotations and existing domain annotations across all samples.\r\n* Moved to a unified variant summary table in report. \r\n* Various minor bug fixes. \r\n\r\n**Full Changelog**: https://github.com/m-crown/SPEAR/compare/v0.6.0...v0.7.0",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v0.7.0",
        "name": "v0.7.0",
        "release_id": 61616858,
        "tag": "v0.7.0",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v0.7.0",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/61616858",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/61616858",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v0.7.0"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2022-02-18T16:02:38Z",
        "date_published": "2022-02-18T16:05:48Z",
        "description": "## What's Changed\r\n* Added Spike dropout detection and global/Spike QC metrics.\r\n* Additional ORF3a annotation. \r\n\r\n**Full Changelog**: https://github.com/m-crown/SPEAR/compare/v0.5.1...v0.6.0",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v0.6.0",
        "name": "v0.6.0",
        "release_id": 59921476,
        "tag": "v0.6.0",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v0.6.0",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/59921476",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/59921476",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v0.6.0"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2022-02-11T14:20:25Z",
        "date_published": "2022-02-16T13:17:12Z",
        "description": "## What's Changed\r\n* Fixed MUSCLE version in conda yml.\r\n* Other minor bugfixes.\r\n\r\n**Full Changelog**: https://github.com/m-crown/SPEAR/commits/v0.5.1",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v0.5.1",
        "name": "v0.5.1",
        "release_id": 59700139,
        "tag": "v0.5.1",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v0.5.1",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/59700139",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/59700139",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v0.5.1"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "m-crown",
          "type": "User"
        },
        "date_created": "2022-02-08T14:38:33Z",
        "date_published": "2022-02-08T14:42:51Z",
        "description": "## What's Changed\r\n* Full product/ORF annotation added.\r\n* Summary report feature added.\r\n* Various bug fixes and improvements. \r\n\r\n**Full Changelog**: https://github.com/m-crown/SPEAR/commits/v0.5.0",
        "html_url": "https://github.com/m-crown/SPEAR/releases/tag/v0.5.0",
        "name": "v0.5.0",
        "release_id": 59018563,
        "tag": "v0.5.0",
        "tarball_url": "https://api.github.com/repos/m-crown/SPEAR/tarball/v0.5.0",
        "type": "Release",
        "url": "https://api.github.com/repos/m-crown/SPEAR/releases/59018563",
        "value": "https://api.github.com/repos/m-crown/SPEAR/releases/59018563",
        "zipball_url": "https://api.github.com/repos/m-crown/SPEAR/zipball/v0.5.0"
      },
      "technique": "GitHub_API"
    }
  ],
  "requirements": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Software dependencies used",
        "parent_header": [
          "<p align=\"center\">Systematic ProtEin AnnotatoR</p>",
          "Acknowledgments"
        ],
        "type": "Text_excerpt",
        "value": "Spear makes use of the following:\n\n- [conda](https://docs.conda.io/en/latest/index.html)\n- [bioconda](https://bioconda.github.io/) Team _et al_.[14]\n- [snakemake](https://snakemake.readthedocs.io/en/stable/index.html) M\u00f6lder _et al_.[15]\n- [muscle](https://drive5.com/muscle/downloads_v3.htm) Edgar [16]\n- [bcftools](https://samtools.github.io/bcftools/howtos/index.html) Danecek _et al_.[17]\n- [SnpEff and SnpSift](http://pcingola.github.io/SnpEff/) Cingolani _et al_.[18],Cingolani _et al_.[19]\n- [UCSC faToVCF](https://hgdownload.cse.ucsc.edu/admin/exe/)\n- [vcfanno](https://github.com/brentp/vcfanno) Pedersen _et al_.[20]\n- [Binding Calculator](https://github.com/jbloomlab/SARS2_RBD_Ab_escape_maps/blob/main/bindingcalculator.py) Greaney _et al_.[13]\n- [Minimap2](https://github.com/lh3/minimap2) Heng Li [21]\n- [gofasta](https://github.com/virus-evolution/gofasta)\n- [pangolin](https://github.com/cov-lineages/pangolin)\n- [Plotly](https://plot.ly)\n- [Bootstrap](https://getbootstrap.com/)\n- [Rich](https://github.com/Textualize/rich)\n- [seqkit](https://bioinf.shenwei.me/seqkit/) Shen _et al_.[22]\n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "header_analysis"
    }
  ],
  "somef_missing_categories": [
    "run",
    "download",
    "contact",
    "contributors",
    "faq",
    "identifier",
    "has_build_file",
    "executable_example"
  ],
  "somef_provenance": {
    "date": "2024-10-04 14:25:21",
    "somef_schema_version": "1.0.0",
    "somef_version": "0.9.5"
  },
  "stargazers_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 19
      },
      "technique": "GitHub_API"
    }
  ],
  "support": [
    {
      "confidence": 1,
      "result": {
        "original_header": "HTML report",
        "parent_header": [
          "<p align=\"center\">Systematic ProtEin AnnotatoR</p>",
          "Output"
        ],
        "type": "Text_excerpt",
        "value": "This is an interactive report, with sortable tables of variants, residues, scores, and interactive heatmaps of scores for the Spike protein. An example report can be found [here](https://m-crown.github.io/SPEAR-Reports/spear_reports/example_vcfs/report.html). ORF plots for each individual samples showing mutations placed on to ORFs/products are also found at the bottom of this report.\n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "header_analysis"
    }
  ],
  "usage": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Usage",
        "parent_header": [
          "<p align=\"center\">Systematic ProtEin AnnotatoR</p>"
        ],
        "type": "Text_excerpt",
        "value": "SPEAR is driven by input modality so your first argument to it should reflect the type of input files you are providing, `spear consensus` for analysis of `.fa` genome consensus files, `spear alignment` for analysis of pre-aligned consensuses in multiple FASTA format `.aln`.  And `spear vcf` for the analysis of `.vcf` files.  The reference genome used should be either [NC_045512.2](https://www.ncbi.nlm.nih.gov/nuccore/1798174254) or [MN908947.3](https://www.ncbi.nlm.nih.gov/nuccore/MN908947.3).\n\n``` bash\nusage: spear [-h] {consensus,alignment,vcf,update,utilities-representative,demo,utilities-report,utilities-vcf-merge} ...\n\npositional arguments:\n  {consensus,alignment,vcf,update,utilities-representative,demo,utilities-report,utilities-vcf-merge}\n    consensus           Run SPEAR on consensus FASTA sequence (align first).\n    alignment           Run SPEAR on alignment in FASTA format (skip alignment).\n    vcf                 Run SPEAR on existing VCF file(s) - skip alignment and SNP/indel identification and ambiguous SNP filtering.\n    update              Update [spear,data,all]\n    utilities-representative\n                        Obtain representative mutations for a given set of sequences (requires SPEAR annotation file)\n    demo                Run SPEAR demo on lineage VCFs\n    utilities-report    Generate HTML report from SPEAR output (requires SPEAR annotation file)\n    utilities-vcf-merge\n                        Merge VCFs from different lineages into a single VCF\n\noptions:\n  -h, --help            show this help message and exit\n```\n\nFurther options are then available depending on the type of input file, e.g. `spear consensus --help`:\n\n``` bash\nusage: spear alignment [-h] [--debug] [--dag] [--no-report] [--tmp] [--extension]\n                       [--mask-problem-sites AB AM HA [AB AM HA ...]] [--threads] [--aligner] [--cutoff] [--global_n]\n                       [--s_n] [--s_contig] [--rbd_n] [--window] [--baseline_scores] [--baseline]\n                       [--no-product-plot]\n                       [--input] [--output]\n\noptions:\n  -h, --help            show this help message and exit\n  --input               Input directory of alignments, consensus fasta sequences or VCF files.\n  --output              Destination dir for SPEAR annotated VCFs\n  --debug               Verbose snakemake execution\n  --dag                 Display DAG and exit\n  --no-report           Do not produce HTML report\n  --tmp                 Preserve intermediate output files for debugging.\n  --extension           Suffix and extension for input files\n  --mask-problem-sites AB AM HA [AB AM HA ...]\n                        Filter problematic sites with these codes: [AB AM HA HH HO IC NA NS NL SS AD BR all]\n  --threads             Max number of threads for snakemake job execution.\n  --aligner             Alignment method to use for alignment to SARS-CoV-2 reference, 'minimap2' or 'muscle', default minimap2\n  --cutoff              Percentage N cutoff for input sequences. Default 50\n  --global_n            Minimum percentage of N in sample to flag as poor coverage. Default half of cutoff.\n  --s_n                 Minimum percentage of N in S gene to flag as poor coverage. Default 5.\n  --s_contig            Minimum length of contig to flag sample as potential S gene dropout. Default 150nt\n  --rbd_n               Number of N's in sample spike RBD to flag as poor. Default 12nt\n  --window              Maximum number of flanking N's around deletion, default 2\n  --baseline_scores     Custom baseline scores file for use in summary report\n  --baseline            Baseline sample to use, either from pre-loaded baseline scores or user-supplied custom\n                        baseline file. Default BA.2. Built-in options: BA.1 BA.1.1 BA.2 Omicron Delta Alpha\n  --no-product-plot     Do not produce individual sample product plots (for fastest operation)\n  --pangolin PANGOLIN   Pangolin operation mode: accurate (UShER), fast (pangolearn), none (don't run pangolin)\n```\n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Usage examples",
        "parent_header": [
          "<p align=\"center\">Systematic ProtEin AnnotatoR</p>"
        ],
        "type": "Text_excerpt",
        "value": "To check installation was successful and view an example SPEAR run and report, run the built-in demo:\n\n`spear demo`\n\nThis will save output including the HTML report to the `demo_out/` directory within your current working directory.\n\nTo use spear on a single `.fa` consensus file:\n\n`spear consensus --input sample1.fa --output output`\n\nThis will launch spear analyse `sample1.fa` and write the output to a directory tree contained within `output/`.\n\nTo run on multiple input files replace the input file name with a directory:\n\n`spear consensus --input consensus_files --output output`\n\nYou can also use `.` as input directory to use files in the current working directory.\n\nBy default consensus files are assumed to have the extension `.fa`, alignments `.aln` and vcf files `.vcf`, if you have a different extension then specify the suffix with `--extension`. This also allows you to remove a suffix from the sample ID used in output, so if all your input alignments conform to `<sample_id>.muscle.aln` specifying: `--extension .muscle.aln` will ensure only the sample id/name makes it into the output. Note that running on multiple input files may require you to increase the maximum number of open file handles on your system if your number of input samples starts to approach this limit, check this with `ulimit -n`.\n\nConsensus inputs can be aligned to reference using either MUSCLE v3.8 or minimap2, specified using `--aligner`. From version 0.8 onwards the default alignment method is minimap2, due to the significant speed improvements - 15.7X speedup on single thread, 9.9X speedup on quad thread and 8.8X speedup on eight threads. Users should be aware that small differences, particularly in resolution of indels can occur between MUSCLE and minimap2 alignments where the alignment solution is ambiguous - these cases are rare, and the vast majority of alignments should agree.\n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Expected alignment format",
        "parent_header": [
          "<p align=\"center\">Systematic ProtEin AnnotatoR</p>",
          "Usage examples"
        ],
        "type": "Text_excerpt",
        "value": "If using spear alignment please make sure your samples are aligned to [NC_045512.2](https://www.ncbi.nlm.nih.gov/nuccore/1798174254) or [MN908947.3](https://www.ncbi.nlm.nih.gov/nuccore/MN908947.3), and that the multiple FASTA format is used, (expected file extension `.aln`) with the reference sequence being the fist one within the alignment.\n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "VCF considerations",
        "parent_header": [
          "<p align=\"center\">Systematic ProtEin AnnotatoR</p>",
          "Usage examples"
        ],
        "type": "Text_excerpt",
        "value": "Make sure you VCF file uses [NC_045512.2](https://www.ncbi.nlm.nih.gov/nuccore/1798174254) or [MN908947.3](https://www.ncbi.nlm.nih.gov/nuccore/MN908947.3) as its reference and that all variants are co-ordinate sorted.\n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Default filtering",
        "parent_header": [
          "<p align=\"center\">Systematic ProtEin AnnotatoR</p>",
          "Usage examples"
        ],
        "type": "Text_excerpt",
        "value": "By default SPEAR will filter out the variants occurring in \"genomic scraggly ends\" the very most 5' 1-55 nucleotides and final 3' end of the genome 29,804-29,903. Input consensus FASTA will also be filtered to exclude samples that are more than 50% N before they are aligned to the reference.  Percentage N filtering can be tuned with `--cutoff`.  Further filtering options are discussed in [Advanced filtering options](https://github.com/m-crown/SPEAR#advanced-filtering-options) below.\n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Pangolin",
        "parent_header": [
          "<p align=\"center\">Systematic ProtEin AnnotatoR</p>",
          "Usage examples"
        ],
        "type": "Text_excerpt",
        "value": "Pangolin lineage assignment will be run by default on all samples, (including VCF), this enables grouping of sample by lineage in the output report. There are three pangolin operation modes in spear: `accurate (UShER)`, `fast (pangolearn)`, `none (don't run pangolin)`. Please note that with VCF inputs consensus fasta sequences will be reconstructed from VCF and all other bases are assumed to be reference. We recommend conducting appropriate QC outside of SPEAR on these samples. Where possible please use sequence inputs so that SPEAR can assess dropouts, %N, (See QC section below) and pass ambiguous base calls to pangolin.\n"
      },
      "source": "https://raw.githubusercontent.com/m-crown/SPEAR/main/README.md",
      "technique": "header_analysis"
    }
  ],
  "workflows": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/m-crown/SPEAR/main/scripts/pipeline.smk"
      },
      "technique": "file_exploration"
    }
  ]
}