{
  "citation": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Citation",
        "parent_header": [
          "SomatoSim"
        ],
        "type": "Text_excerpt",
        "value": "Hawari, M.A., Hong, C.S. & Biesecker, L.G. SomatoSim: precision simulation of somatic single nucleotide variants. BMC Bioinformatics 22, 109 (2021). https://doi.org/10.1186/s12859-021-04024-8\n"
      },
      "source": "https://raw.githubusercontent.com/BieseckerLab/SomatoSim/master/README.md",
      "technique": "header_analysis"
    }
  ],
  "code_repository": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/BieseckerLab/SomatoSim"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_created": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2020-04-16T03:18:38Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_updated": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2024-04-03T09:33:49Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "description": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "Precision Simulation of Somatic Single Nucleotide Variants"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Description",
        "parent_header": [
          "SomatoSim"
        ],
        "type": "Text_excerpt",
        "value": "SomatoSim is a tool that simulates single nucleotide variants at any variant allele fraction and depth of coverage.\nSomatoSim takes an analysis ready BAM file as input and SomatoSim outputs a BAM file containing simulated variants.\nUse SomatoSim to evaluate variant calling tools, algorithms, and pipelines.\n"
      },
      "source": "https://raw.githubusercontent.com/BieseckerLab/SomatoSim/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 0.989539599479635,
      "result": {
        "original_header": "Attribution",
        "type": "Text_excerpt",
        "value": "This is software was developed by Marwan A. Hawari, Celine S. Hong, and Leslie G. Biesecker at the National Human Genome Research Institute (NHGRI), National Institutes of Health (NIH). Please include proper attribution of the NHGRI as the developer of this program and include a link to the following [https://github.com/BieseckerLab/SomatoSim] in all publications and other public disclosures that reference the program and/or include data or research results that were generated utilizing the program.\n \n"
      },
      "source": "https://raw.githubusercontent.com/BieseckerLab/SomatoSim/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9793545187612956,
      "result": {
        "original_header": "Public Domain Notice",
        "type": "Text_excerpt",
        "value": "This software is a United States Government Work. Anyone may use the software on a worldwide and royalty-free basis for any purpose and anyone may reproduce and prepare derivative works without restriction. Although all reasonable efforts have been taken to ensure the accuracy and reliability of the software, the National Human Genome Research Institute (NHGRI), National Institutes of Health (NIH) and the U.S. Government do not and cannot warrant the performance or any results that may be obtained by using this software. NHGRI, NIH and the U.S. Government disclaim all warranties as to performance, merchantability or fitness for any particular purpose. No indemnification is intended or provided by the US government. \n"
      },
      "source": "https://raw.githubusercontent.com/BieseckerLab/SomatoSim/master/README.md",
      "technique": "supervised_classification"
    }
  ],
  "documentation": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/BieseckerLab/SomatoSim/tree/master/docs"
      },
      "technique": "file_exploration"
    }
  ],
  "download_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/BieseckerLab/SomatoSim/releases"
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 0
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/BieseckerLab/SomatoSim/forks"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "BieseckerLab/SomatoSim"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_title": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "SomatoSim"
      },
      "source": "https://raw.githubusercontent.com/BieseckerLab/SomatoSim/master/README.md",
      "technique": "regular_expression"
    }
  ],
  "installation": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Installation",
        "parent_header": [
          "SomatoSim"
        ],
        "type": "Text_excerpt",
        "value": "```text\n$ git clone https://github.com/BieseckerLab/SomatoSim.git\n$ cd SomatoSim\n$ python3 -m pip install . \n```\n"
      },
      "source": "https://raw.githubusercontent.com/BieseckerLab/SomatoSim/master/README.md",
      "technique": "header_analysis"
    }
  ],
  "issue_tracker": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/BieseckerLab/SomatoSim/issues"
      },
      "technique": "GitHub_API"
    }
  ],
  "keywords": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": ""
      },
      "technique": "GitHub_API"
    }
  ],
  "name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "SomatoSim"
      },
      "technique": "GitHub_API"
    }
  ],
  "owner": [
    {
      "confidence": 1,
      "result": {
        "type": "User",
        "value": "BieseckerLab"
      },
      "technique": "GitHub_API"
    }
  ],
  "programming_languages": [
    {
      "confidence": 1,
      "result": {
        "name": "Python",
        "size": 82150,
        "type": "Programming_language",
        "value": "Python"
      },
      "technique": "GitHub_API"
    }
  ],
  "readme_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/BieseckerLab/SomatoSim/master/README.md"
      },
      "technique": "file_exploration"
    }
  ],
  "related_documentation": [
    {
      "confidence": 1,
      "result": {
        "format": "readthedocs",
        "type": "Url",
        "value": "https://pysam.readthedocs.io/"
      },
      "source": "https://raw.githubusercontent.com/BieseckerLab/SomatoSim/master/README.md",
      "technique": "regular_expression"
    }
  ],
  "requirements": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Dependencies",
        "parent_header": [
          "SomatoSim"
        ],
        "type": "Text_excerpt",
        "value": "1. Python version 3.6.8 (https://www.python.org/downloads/)\n2. Numpy version 1.16.2 (https://numpy.org/)\n3. Pandas version 0.25.1 (https://pandas.pydata.org/)\n4. Matplotlib version 3.1.1 (https://matplotlib.org/)\n5. Pysam version 0.15.0 (https://pysam.readthedocs.io/en/latest/)\n6. SAMtools version 1.9 (http://www.htslib.org/)\n\n"
      },
      "source": "https://raw.githubusercontent.com/BieseckerLab/SomatoSim/master/README.md",
      "technique": "header_analysis"
    }
  ],
  "somef_missing_categories": [
    "acknowledgement",
    "run",
    "download",
    "contact",
    "contributors",
    "license",
    "faq",
    "support",
    "identifier",
    "has_build_file",
    "executable_example"
  ],
  "somef_provenance": {
    "date": "2024-10-06 03:38:54",
    "somef_schema_version": "1.0.0",
    "somef_version": "0.9.5"
  },
  "stargazers_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 7
      },
      "technique": "GitHub_API"
    }
  ],
  "type": [
    {
      "confidence": 0.82,
      "result": {
        "type": "String",
        "value": "commandline-application"
      },
      "technique": "software_type_heuristics"
    }
  ],
  "usage": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Usage",
        "parent_header": [
          "SomatoSim"
        ],
        "type": "Text_excerpt",
        "value": "```text\n# The following are the command line options for SomatoSim\n$ somatosim \\\n  -i <input bam file path> \\\n  -b <input bed file path> \\\n  -o <output directory path> \\\n  --vaf-low <number> \\\n  --vaf-high <number> \\\n  --output-prefix <output files prefix> \\\n  --number-snv <number> \\\n  --random-seed <number> \\\n  --down-sample <number> \\\n  --target-coverage <number> \\\n  --coverage-tolerance <number> \\\n  --coverage-MQ <number> \\\n  --coverage-BQ <number> \\\n  --minimum-separation <number> \\\n  <--verbose> \\\n  --read-min-MQ <number> \\\n  --position-min-BQ <number>\n```\n"
      },
      "source": "https://raw.githubusercontent.com/BieseckerLab/SomatoSim/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Tutorial",
        "parent_header": [
          "SomatoSim"
        ],
        "type": "Text_excerpt",
        "value": "1. Download and install dependencies:\n\nMake sure you have the latest version of SAMtools and pip installed.\n\nRefer to the SAMtools documentation (http://www.htslib.org/download/) for SAMtools installation instructions.\n\nWhen you install SomatoSim, pip will also automatically download and install any Python packages you need to use SomatoSim. You can upgrade your current version of pip using the following command:\n\n```text\n$ python3 -m pip install --upgrade pip\n```\n\n2. Download and install SomatoSim:\n\n\n```text\n$ git clone https://github.com/BieseckerLab/SomatoSim.git\n$ cd SomatoSim\n$ python3 -m pip install .\n```\n\n3. Run SomatoSim:\n\nHere we will simulate 100 SNVs with VAFs between 0.01 and 0.05. The input BAM and BED files are supplied in this SomatoSim repository. \n\n```text\n$ somatosim \\\n  -i test_data/test_BAM.bam \\\n  -b test_data/test_BED.bed \\\n  -o ./output_dir \\\n  --vaf-low 0.01 \\\n  --vaf-high 0.05 \\\n  --number-snv 100 \\\n  --random-seed 0\n```\n\n4. Explore SomatoSim's outputs\n\nThe output_dir directory should contain 4 files: \n* A new BAM file: `test_BAM.somatosim.bam`\n* A new BAM index file: `test_BAM.somatosim.bam.bai`\n* A results file: `simulation_output.txt`\n* A log file: `simulation_log.txt`\n\nBelow is an example of the first 10 lines of the results file. The first 3 columns are the SNV coordinates, the `input_VAF` column is the target VAF, the `input_coverage` column is the original coverage at the position, the `output_VAF` column is the VAF calculated after making the mutations, the `output_coverage` column is the coverage after making the mutations (and should be the same as the `input_coverage` column), the `ref_allele` column is the original allele at the position, and the `alt_allele` is the new allele introduced by SomatoSim.\n\n```text\nchromosome position position input_VAF input_coverage output_VAF output_coverage ref_allele alt_allele\n1           109898015   109898016   0.05        329         0.04863     329         C           A          \n1           211571650   211571651   0.05        285         0.04912     285         C           T          \n1           14042085    14042086    0.04        380         0.03947     380         C           T          \n1           156127891   156127892   0.05        269         0.04833     269         G           T          \n1           198222215   198222216   0.05        399         0.05013     399         G           C          \n1           197009494   197009495   0.02        335         0.0209      335         A           G          \n1           153148814   153148815   0.01        289         0.01038     289         T           A          \n1           92729264    92729265    0.03        425         0.03059     425         T           G          \n2           89999382    89999383    0.03        242         0.02893     242         T           G \n```\n\nBelow is an example of the log file. It reports which versions of the dependencies are currently in use, the user's input parameters, and metrics related to the three stages (variant selection, variant simulation, and variant evaluation) of SomatoSim. \n\n```text\n  ____                        _       ____  _        \n / ___|  ___  _ __ ___   __ _| |_ ___/ ___|(_)_ __ ___  \n \\___ \\ / _ \\| '_ ` _ \\ / _` | __/ _ \\___ \\| | '_ ` _ \\ \n  ___) | (_) | | | | | | (_| | || (_) |__) | | | | | | | \n |____/ \\___/|_| |_| |_|\\__,_|\\__\\___/____/|_|_| |_| |_| \n \nMon Oct 26 16:43:06 2020\n \nSomatoSim version 1.0.0\nPython version 3.6.10\nNumpy version 1.19.2\nPandas version 1.1.3\nMatplotlib version 3.3.2\nPysam version 0.16.0.1\nSamtools version 1.11\n \nLog file for: test_BAM\n \nSimulation run parameters:\n--------------------------\nBAM file path: test_data/test_BAM.bam\nBED file path: test_data/test_BED.bed\nBED file input contains no pre-defined VAF or alternate allele\n \nVAF range: 0.01 - 0.05\nOutput directory: ./output_dir\nUsing default output prefix\nNumber of positions to mutate: 100\nRandom seed: 0\nSamtools mpileup coverage calculation using mapping quality (MQ) = 20 and base quality (BQ) = 20\nMinimum base pair separation = 1\nVerbose mode: Off\n \nVariant selection stage set-up:\n-------------------------------\nUsing input BED format\n \nAverage coverage of original BAM file: 289.784\n \n \nVariant selection stage metrics: \n--------------------------------\nTotal number of genomic positions in the BED file: 159709\nNumber of genomic ranges in the BED file: 288\nTotal number of genomic positions iterated through: 137\nFinal number of input positions selected to mutate: 100\nAverage coverage of the final selected input positions: 284.2\n \nVAF distribution (input):\n[[ 0.    9.  ]\n [ 0.01 20.  ]\n [ 0.02 17.  ]\n [ 0.03 26.  ]\n [ 0.04 20.  ]\n [ 0.05  8.  ]\n [ 0.06  0.  ]]\n \nAlternate allele distribution (input):\n[['T' '26']\n ['G' '27']\n ['A' '24']\n ['C' '23']]\n \nVariant selection stage runtime: 9.046 seconds\n \nVariant simulation stage metrics:\n---------------------------------\nMinimum mapping quality for reads to mutate: 20\nMinimum base quality for variant allele: 20\n \nNumber of mutations expected from the variant selection stage: 880\nNumber of reads selected for variant simulation: 880\nTotal number of mutations: 880\nTotal reads in the input BAM file: 341240\n \nVariant simulation stage runtime: 44.823 seconds\n \nVariant evaluation stage metrics:\n-------------------------------\nFinal number of unique spike-in positions inside the target VAF value range: 100\nFinal mean coverage at spike-in positions inside the target VAF value range: 284.2\n \nVAF distribution (output):\n[[ 0.    9.  ]\n [ 0.01 20.  ]\n [ 0.02 17.  ]\n [ 0.03 26.  ]\n [ 0.04 20.  ]\n [ 0.05  8.  ]\n [ 0.06  0.  ]]\n \nAlternate allele distribution (output):\n[['T' '26']\n ['G' '27']\n ['A' '24']\n ['C' '23']]\n \n####################\nSimulation complete!\n####################\n \nVariant evaluation stage runtime: 1.814 seconds\n \nTotal runtime: 55.684 seconds\n```\n"
      },
      "source": "https://raw.githubusercontent.com/BieseckerLab/SomatoSim/master/README.md",
      "technique": "header_analysis"
    }
  ]
}