{
  "code_repository": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/ruggleslab/blackSheep"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_created": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2019-07-16T21:58:12Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_updated": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2023-08-16T23:37:51Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "documentation": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Documentation",
        "parent_header": [
          "BlackSheep"
        ],
        "type": "Text_excerpt",
        "value": "https://blacksheep.readthedocs.io/en/master/\n"
      },
      "source": "https://raw.githubusercontent.com/ruggleslab/blackSheep/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "format": "readthedocs",
        "type": "Url",
        "value": "https://blacksheep.readthedocs.io/"
      },
      "source": "https://raw.githubusercontent.com/ruggleslab/blackSheep/master/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "format": "wiki",
        "type": "Url",
        "value": "https://github.com/ruggleslab/blackSheep/wiki"
      },
      "source": "https://raw.githubusercontent.com/ruggleslab/blackSheep/master/README.md",
      "technique": "regular_expression"
    }
  ],
  "download_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/ruggleslab/blackSheep/releases"
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 4
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/ruggleslab/blackSheep/forks"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "ruggleslab/blackSheep"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_title": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "BlackSheep"
      },
      "source": "https://raw.githubusercontent.com/ruggleslab/blackSheep/master/README.md",
      "technique": "regular_expression"
    }
  ],
  "installation": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Installation",
        "parent_header": [
          "BlackSheep"
        ],
        "type": "Text_excerpt",
        "value": "With pip\n```bash\npip install blksheep\n```\nWith conda\n```bash\nconda install -c bioconda blksheep\n```\n"
      },
      "source": "https://raw.githubusercontent.com/ruggleslab/blackSheep/master/README.md",
      "technique": "header_analysis"
    }
  ],
  "issue_tracker": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/ruggleslab/blackSheep/issues"
      },
      "technique": "GitHub_API"
    }
  ],
  "keywords": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": ""
      },
      "technique": "GitHub_API"
    }
  ],
  "license": [
    {
      "confidence": 1,
      "result": {
        "name": "MIT License",
        "spdx_id": "MIT",
        "type": "License",
        "url": "https://api.github.com/licenses/mit",
        "value": "https://api.github.com/licenses/mit"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "type": "File_dump",
        "value": "MIT License\n\nCopyright (c) 2019 Ruggles Lab\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
      },
      "source": "https://raw.githubusercontent.com/ruggleslab/blackSheep/master/LICENSE",
      "technique": "file_exploration"
    }
  ],
  "name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "blackSheep"
      },
      "technique": "GitHub_API"
    }
  ],
  "owner": [
    {
      "confidence": 1,
      "result": {
        "type": "Organization",
        "value": "ruggleslab"
      },
      "technique": "GitHub_API"
    }
  ],
  "programming_languages": [
    {
      "confidence": 1,
      "result": {
        "name": "Python",
        "size": 89290,
        "type": "Programming_language",
        "value": "Python"
      },
      "technique": "GitHub_API"
    }
  ],
  "readme_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/ruggleslab/blackSheep/master/README.md"
      },
      "technique": "file_exploration"
    }
  ],
  "requirements": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Requirements (automatically taken care of with pip and conda)",
        "parent_header": [
          "BlackSheep"
        ],
        "type": "Text_excerpt",
        "value": "pandas  \nnumpy  \nmatplotlib  \nseaborn  \nscipy  \nscikit-learn  \nstatsmodels  \n"
      },
      "source": "https://raw.githubusercontent.com/ruggleslab/blackSheep/master/README.md",
      "technique": "header_analysis"
    }
  ],
  "somef_missing_categories": [
    "citation",
    "acknowledgement",
    "run",
    "download",
    "contact",
    "description",
    "contributors",
    "faq",
    "support",
    "identifier",
    "has_build_file",
    "executable_example"
  ],
  "somef_provenance": {
    "date": "2024-10-06 06:04:49",
    "somef_schema_version": "1.0.0",
    "somef_version": "0.9.5"
  },
  "stargazers_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 10
      },
      "technique": "GitHub_API"
    }
  ],
  "type": [
    {
      "confidence": 0.82,
      "result": {
        "type": "String",
        "value": "commandline-application"
      },
      "technique": "software_type_heuristics"
    }
  ],
  "usage": [
    {
      "confidence": 1,
      "result": {
        "original_header": "In python",
        "parent_header": [
          "BlackSheep",
          "Usage"
        ],
        "type": "Text_excerpt",
        "value": "```python\nimport blacksheep\n\n# Read in data\nvalues_file = '' #insert values file here\nannotations_file = '' #insert annotations file here\nvalues = deva.read_in_values(values_file)\nannotations = deva.read_in_values(annotations_file)\n\n# Binarize annotation columns\nannotations = blacksheep.binarize_annotations(annotations)\n\n# Run outliers comparative analysis\noutliers, qvalues = blacksheep.deva(\n    values, annotations,\n    save_outlier_table=True,\n    save_qvalues=True,\n    save_comparison_summaries=True\n)\n\n# Pull out results\nqvalues_table = qvalues.df\nvis_table = outliers.frac_table\n\n# Make heatmaps for significant genes\nfor col in annotations.columns:\n    axs = blacksheep.plot_heatmap(annotations, qvalues_table, col, vis_table, savefig=True)\n\n# Normalize values\nphospho = blacksheep.read_in_values('') #Fill in file here\nprotein = blacksheep.read_in_values('') #Fill in file here\n\n\n```\n"
      },
      "source": "https://raw.githubusercontent.com/ruggleslab/blackSheep/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Command line interface",
        "parent_header": [
          "BlackSheep",
          "Usage"
        ],
        "type": "Text_excerpt",
        "value": "*Example*\n```bash\nblacksheep binarize annotations.tsv --output_prefix annotations_test\nblacksheep deva values.csv annotations_test.binarized.tsv --output_prefix test \\\n--write_outlier_table --write_comparison_summaries --write_gene_list \\\n--make_heatmaps\n```\n\n*Full help*  \nJust make the outliers table:\n```bash\nusage: blacksheep outliers_table [-h] [--output_prefix OUTPUT_PREFIX] [--iqrs IQRS]\n                           [--up_or_down {up,down}] [--ind_sep IND_SEP]\n                           [--do_not_aggregate] [--write_frac_table]\n                           values\n\nTakes a table of values and converts to a table of outlier counts.\n\npositional arguments:\n  values                File path to input values. Columns must be samples,\n                        genes must be sites or genes. Only .tsv and .csv\n                        accepted.\n\noptional arguments:\n  -h, --help            show this help message and exit\n  --output_prefix OUTPUT_PREFIX\n                        Output prefix for writing files. Default outliers.\n  --iqrs IQRS           Number of interquartile ranges (IQRs) above or below\n                        the median to consider a value an outlier. Default is\n                        1.5 IQRs.\n  --up_or_down {up,down}\n                        Whether to look for up or down outliers. Choices are\n                        up or down. Default up.\n  --ind_sep IND_SEP     If site labels have a parent molecule (e.g. a gene\n                        name such as ATM) and a site identifier (e.g. S365)\n                        this is the delimiter between the two elements.\n                        Default is -\n  --do_not_aggregate    Use flag if you do not want to sum outliers based on\n                        site prefixes.\n  --write_frac_table    Use flag if you want to write a table with fraction of\n                        values per site, per sample that are outliers. Will\n                        not be written by default. Useful for visualization.\n```\n\nBinarize the columns in an annotations table.   \n**Warning: do not include non-categorical columns, or columns you don't want binarized. You'll\n end up with a huge un-wieldly table. **\n```bash\nusage: blacksheep binarize [-h] [--output_prefix OUTPUT_PREFIX] annotations\n\nTakes an annotation table where some columns may have more than 2 possible\nvalues (not including empty/null values) and outputs an annotation table with\nonly two values per annotation. Propagates null values.\n\npositional arguments:\n  annotations           Annotation table with samples as rows and annotation\n                        labels as columns.\n\noptional arguments:\n  -h, --help            show this help message and exit\n  --output_prefix OUTPUT_PREFIX\n                        Output prefix for writing files. Default outliers.\n```\n\nCompare all the groups described in columns of an annotation table using outlier counts\n```bash\nusage: blacksheep compare_groups [-h] [--output_prefix OUTPUT_PREFIX]\n                           [--frac_filter FRAC_FILTER]\n                           [--write_comparison_summaries] [--iqrs IQRS]\n                           [--up_or_down {up,down}] [--write_gene_list]\n                           [--make_heatmaps] [--fdr FDR]\n                           [--red_or_blue {red,blue}]\n                           [--annotation_colors ANNOTATION_COLORS]\n                           outliers_table annotations\n\nTakes an annotation table and outlier count table (output of outliers_table)\nand outputs qvalues from a statistical test that looks for enrichment of\noutlier values in each group in the annotation table. For each value in each\ncomparison, the qvalue table will have 1 column, if there are any genes in\nthat comparison.\n\npositional arguments:\n  outliers_table        Table of outlier counts (output of outliers_table).\n                        Must be .tsv or .csv file, with outlier and non-\n                        outlier counts as columns, and genes/sites as rows.\n  annotations           Table of annotations. Must be .csv or .tsv. Samples as\n                        rows and comparisons as columns. Comparisons must have\n                        only unique values (not including missing values). If\n                        there are more options than that, you can use binarize\n                        to prepare the table.\n\noptional arguments:\n  -h, --help            show this help message and exit\n  --output_prefix OUTPUT_PREFIX\n                        Output prefix for writing files. Default outliers.\n  --frac_filter FRAC_FILTER\n                        The minimum fraction of samples per group that must\n                        have an outlier in a gene toconsider that gene in the\n                        analysis. This is used to prevent a high number of\n                        outlier values in 1 sample from driving a low qvalue.\n                        Default 0.3\n  --write_comparison_summaries\n                        Use flag to write a separate file for each column in\n                        the annotations table, with outlier counts in each\n                        group, p-values and q-values in each group.\n  --iqrs IQRS           Number of IQRs used to define outliers in the input\n                        count table. Optional.\n  --up_or_down {up,down}\n                        Whether input outlier table represents up or down\n                        outliers. Needed for output file labels. Default up\n  --write_gene_list     Use flag to write a list of significantly enriched\n                        genes for each value in each comparison. If used, need\n                        an fdr threshold as well.\n  --make_heatmaps       Use flag to draw a heatmap of signficantly enriched\n                        genes for each value in each comparison. If used, need\n                        an fdr threshold as well.\n  --fdr FDR             FDR cut off to use for signficantly enriched gene\n                        lists and heatmaps. Default 0.05\n  --red_or_blue {red,blue}\n                        If --make_heatmaps is called, color of values to draw\n                        on heatmap. Default red.\n  --annotation_colors ANNOTATION_COLORS\n                        File with color map to use for annotation header if\n                        --make_heatmaps is used. Must have a 'value color'\n                        format for each value in annotations. Any value not\n                        represented will be assigned a new color.\n```\n\nMake heatmaps visualizing enriched genes for each group in an annotation table\n```bash\nusage: blacksheep visualize [-h] [--output_prefix OUTPUT_PREFIX]\n                      [--annotations_to_show ANNOTATIONS_TO_SHOW [ANNOTATIONS_TO_SHOW ...]]\n                      [--fdr FDR] [--red_or_blue {red,blue}]\n                      [--annotation_colors ANNOTATION_COLORS]\n                      [--write_gene_list]\n                      comparison_qvalues annotations visualization_table\n                      comparison_of_interest\n\nUsed to make custom heatmaps from significant genes.\n\npositional arguments:\n  comparison_qvalues    Table of qvalues, output from compare_groups. Must be\n                        .csv or .tsv. Has genes/sites as rows and comparison\n                        values as columns.\n  annotations           Table of annotations used to generate qvalues.\n  visualization_table   Values to visualize in heatmap. Samples as columns and\n                        genes/sites as rows. Using outlier fraction table is\n                        recommended, but original values can also be used if\n                        no aggregation was used.\n  comparison_of_interest\n                        Name of column in qvalues table from which to\n                        visualize significant genes.\n\noptional arguments:\n  -h, --help            show this help message and exit\n  --output_prefix OUTPUT_PREFIX\n                        Output prefix for writing files. Default outliers.\n  --annotations_to_show ANNOTATIONS_TO_SHOW [ANNOTATIONS_TO_SHOW ...]\n                        Names of columns from the annotation table to show in\n                        the header of the heatmap. Default is all columns.\n  --fdr FDR             FDR threshold to use to select genes to visualize.\n                        Default 0.05\n  --red_or_blue {red,blue}\n                        Color of values to draw on heatmap. Default red.\n  --annotation_colors ANNOTATION_COLORS\n                        File with color map to use for annotation header. Must\n                        have a line with 'value color' format for each value\n                        in annotations. Any value not represented will be\n                        assigned a new color.\n  --write_gene_list     Use flag to write a list of significantly enriched\n                        genes for each value in each comparison.\n```\n\nRun the whole pipeline: call outliers, perform comparisons on all groups in an annotation table\n, optionally make heatmaps for each group.\n```bash\nusage: blacksheep deva [-h] [--output_prefix OUTPUT_PREFIX] [--iqrs IQRS]\n                     [--up_or_down {up,down}] [--do_not_aggregate]\n                     [--write_outlier_table] [--write_frac_table]\n                     [--ind_sep IND_SEP] [--frac_filter FRAC_FILTER]\n                     [--write_comparison_summaries] [--fdr FDR]\n                     [--write_gene_list] [--make_heatmaps]\n                     [--red_or_blue {red,blue}]\n                     [--annotation_colors ANNOTATION_COLORS]\n                     values annotations\n\nRuns whole outliers pipeline. Has options to output every possible output.\n\npositional arguments:\n  values                File path to input values. Samples are columns and\n                        genes/sites are rows. Only .tsv and .csv accepted.\n  annotations           File path to annotation values. Rows are sample names,\n                        header is different annotations. e.g. mutation status.\n\noptional arguments:\n  -h, --help            show this help message and exit\n  --output_prefix OUTPUT_PREFIX\n                        Output prefix for writing files. Default outliers.\n  --iqrs IQRS           Number of inter-quartile ranges (IQRs) above or below\n                        the median to consider a value an outlier. Default is\n                        1.5.\n  --up_or_down {up,down}\n                        Whether to look for up or down outliers. Choices are\n                        up or down. Default up.\n  --do_not_aggregate    Use flag if you do not want to sum outliers based on\n                        site prefixes.\n  --write_outlier_table\n                        Use flag to write a table of outlier counts.\n  --write_frac_table    Use flag if you want to write a table with fraction of\n                        values per site per sample that are outliers. Useful\n                        for custom visualization.\n  --ind_sep IND_SEP     If site labels have a parent molecule (e.g. a gene\n                        name such as ATM) and a site identifier (e.g. S365)\n                        this is the delimiter between the two elements.\n                        Default is -\n  --frac_filter FRAC_FILTER\n                        The minimum fraction of samples per group that must\n                        have an outlier in a gene toconsider that gene in the\n                        analysis. This is used to prevent a high number of\n                        outlier values in 1 sample from driving a low qvalue.\n                        Default 0.3\n  --write_comparison_summaries\n                        Use flag to write a separate file for each column in\n                        the annotations table, with outlier counts in each\n                        group, p-values and q-values in each group.\n  --fdr FDR             FDR threshold to use to select genes to visualize.\n                        Default 0.05\n  --write_gene_list     Use flag to write a list of significantly enriched\n                        genes for each value in each comparison.\n  --make_heatmaps       Use flag to draw a heatmap of significantly enriched\n                        genes for each value in each comparison. If used, need\n                        an fdr threshold as well.\n  --red_or_blue {red,blue}\n                        Color of values to draw on heatmap. Default red.\n  --annotation_colors ANNOTATION_COLORS\n                        File with color map to use for annotation header. Must\n                        have a line with 'value color' format for each value\n                        in annotations. Any value not represented will be\n                        assigned a new color.\n```\n\nFor finding the value differences that cannot be explained by a different data level. For example\n, this can be used to find out variation due to differential phosphorylation (phospho as\n target_values) not due to protein abundance variation (protein as normalizer_values).   \n**Warning: Row IDs between the two tables must match**  \n```bash\nusage: blacksheep normalize [-h] [--ind_sep IND_SEP] [--output_prefix OUTPUT_PREFIX]\n                      target_values normalizer_values\n\nTakes a target table and a normalizer table, and returns a normalized target\ntable. Builds a regularized linear model for each line in the target table\nusing the matching row ID in the normalizer table, and finds the residuals of\nthat model for each value. for example, this could be used to normalize\nphospho-peptide data by protein abundance data; resulting values will reflect\nonly abundance differences due to phosphorylation changes, not peptide\nabundances. Another use could be normalizing RNA by CNA.\n\npositional arguments:\n  target_values         Table of values to be normalized. Sites/genes as rows,\n                        samples as columns. Row identifiers must be unique.\n  normalizer_values     Table of values to use for normalization. Sites/genes\n                        as rows, samples as columns. Row identifiers must be\n                        unique, and must match the pre-ind_sep part of the\n                        target values identifiers.\n\noptional arguments:\n  -h, --help            show this help message and exit\n  --ind_sep IND_SEP     Separator used in index if target is site specific.\n                        Row IDs before ind_sep in the target must match the\n                        row IDs in normalizer_values. If row IDs already\n                        match, leave blank.\n  --output_prefix OUTPUT_PREFIX\n                        Prefix for output file. Suffix will be\n                        '.normalized.tsv'\n\n```\n\nFor a more thorough vignette, refer to our [supplementary notebooks](https://github.com/ruggleslab/blacksheep_supp)\n"
      },
      "source": "https://raw.githubusercontent.com/ruggleslab/blackSheep/master/README.md",
      "technique": "header_analysis"
    }
  ]
}