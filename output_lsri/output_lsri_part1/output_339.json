{
  "citation": [
    {
      "confidence": 1,
      "result": {
        "original_header": "How to cite",
        "parent_header": [
          "About"
        ],
        "type": "Text_excerpt",
        "value": "Hao, C., Elias, J.E., Lee, P.K.H. et al. metaSpectraST: an unsupervised and database-independent analysis workflow for metaproteomic MS/MS data using spectrum clustering. Microbiome 11, 176 (2023). https://doi.org/10.1186/s40168-023-01602-1\n[https://microbiomejournal.biomedcentral.com/articles/10.1186/s40168-023-01602-1#citeas](https://microbiomejournal.biomedcentral.com/articles/10.1186/s40168-023-01602-1#citeas)\n\n"
      },
      "source": "https://raw.githubusercontent.com/bravokid47/metaSpectraST/main/README.md",
      "technique": "header_analysis"
    }
  ],
  "code_repository": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/bravokid47/metaSpectraST"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_created": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2022-04-09T13:34:17Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_updated": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2023-12-17T05:54:01Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "description": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "An unsupervised and database-independent analysis tools for metaproteomic MS/MS data using spectrum clustering."
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 0.9425535063972703,
      "result": {
        "original_header": "metaSpectraST",
        "type": "Text_excerpt",
        "value": "metaSpectraST is an unsupervised and database-independent analysis tools for metaproteomic MS/MS data using spectrum clustering. It clusters all experimentally observed MS/MS spectra based on their spectral similarity and create a representative consensus spectrum for each cluster by using the spectrum clustering algorithm implemented in the spectral library search engine, [SpectraST](http://tools.proteomecenter.org/wiki/index.php?title=Software:SpectraST).  \nSpectrally similar MS/MS spectra that are grouped in one spectral cluster are presumed to originate from the same peptide sequence, and therefore metaSpecraST treats them as replicate spectra and quantitatively profiles samples by counting the number (spectral count, SC) or intensity (spectral index, SI<sub>N</sub>) of replicate spectra in each spectral cluster. \nThe metaSpectraST spectral clusters also offer a portal to integrate and reconcile multiple peptide identification approaches, including database search, open modification search, and *de novo* sequencing. For each spectral cluster, sequences of raw spectra and their cosnensus spectrum assigned by different identification methods vote for the consensus peptide sequence of the spectral cluster through a heuristic reconciliation scheme and the majority rule. \nWith metaSpectraST you can, \n1. Fast profile and compare the microbial communities of your sample;\n2. Classify your metaproteomic (or proteomic) samples;\n3. Validate biological/technical replicates;\n4. Integrate and reconcile multiple peptide/protein identification approaches for further taxonomic or functional studies.\n \n"
      },
      "source": "https://raw.githubusercontent.com/bravokid47/metaSpectraST/main/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.8748040785773621,
      "result": {
        "original_header": "About",
        "type": "Text_excerpt",
        "value": "Principle Investigators: Henry H. N. Lam (HKUST), Patrick K. H. Lee (CityU), and Joshua Elias (CZ Biohub).\n \n"
      },
      "source": "https://raw.githubusercontent.com/bravokid47/metaSpectraST/main/README.md",
      "technique": "supervised_classification"
    }
  ],
  "download_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/bravokid47/metaSpectraST/releases"
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 1
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/bravokid47/metaSpectraST/forks"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "bravokid47/metaSpectraST"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_title": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "metaSpectraST"
      },
      "source": "https://raw.githubusercontent.com/bravokid47/metaSpectraST/main/README.md",
      "technique": "regular_expression"
    }
  ],
  "has_script_file": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/bravokid47/metaSpectraST/main/bin/runSpectraST.sh"
      },
      "technique": "file_exploration"
    }
  ],
  "images": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/bravokid47/metaSpectraST/main/fig/fig3_reconciliation_scheme.png"
      },
      "source": "https://raw.githubusercontent.com/bravokid47/metaSpectraST/main/README.md",
      "technique": "regular_expression"
    }
  ],
  "installation": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Installing metaSpectraST",
        "parent_header": [
          "Installation"
        ],
        "type": "Text_excerpt",
        "value": "1. Download or clone the repository:\n\n```shell\ngit clone https://github.com/bravokid47/metaSpectraST.git\n```\n\n2. Make metaSpectraST executable by adding the directory ```yourpath/metaspectrast/``` to the environment variable ```$PATH```, or just copy the following line to the ```~/.bashrc``` or ```~/.bash_profile``` file and ```source``` the file.\n\n```shell\nexport PATH=\"$PATH:yourpath/metaspectrast\";\n```"
      },
      "source": "https://raw.githubusercontent.com/bravokid47/metaSpectraST/main/README.md",
      "technique": "header_analysis"
    }
  ],
  "issue_tracker": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/bravokid47/metaSpectraST/issues"
      },
      "technique": "GitHub_API"
    }
  ],
  "keywords": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": ""
      },
      "technique": "GitHub_API"
    }
  ],
  "license": [
    {
      "confidence": 1,
      "result": {
        "name": "MIT License",
        "spdx_id": "MIT",
        "type": "License",
        "url": "https://api.github.com/licenses/mit",
        "value": "https://api.github.com/licenses/mit"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "type": "File_dump",
        "value": "MIT License\n\nCopyright (c) 2022 bravokid47\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
      },
      "source": "https://raw.githubusercontent.com/bravokid47/metaSpectraST/main/LICENSE",
      "technique": "file_exploration"
    }
  ],
  "logo": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/bravokid47/metaSpectraST/main/fig/metaSpectraST_logo.png"
      },
      "source": "https://raw.githubusercontent.com/bravokid47/metaSpectraST/main/README.md",
      "technique": "regular_expression"
    }
  ],
  "name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "metaSpectraST"
      },
      "technique": "GitHub_API"
    }
  ],
  "owner": [
    {
      "confidence": 1,
      "result": {
        "type": "User",
        "value": "bravokid47"
      },
      "technique": "GitHub_API"
    }
  ],
  "programming_languages": [
    {
      "confidence": 1,
      "result": {
        "name": "Python",
        "size": 23551,
        "type": "Programming_language",
        "value": "Python"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "Shell",
        "size": 3586,
        "type": "Programming_language",
        "value": "Shell"
      },
      "technique": "GitHub_API"
    }
  ],
  "readme_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/bravokid47/metaSpectraST/main/README.md"
      },
      "technique": "file_exploration"
    }
  ],
  "requirements": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Dependencies",
        "parent_header": [
          "Installation"
        ],
        "type": "Text_excerpt",
        "value": "- **Python version >= 3.7, R version 4.1.3**\n- **SpectraST (v5.0)**\n\n[SpectraST](http://tools.proteomecenter.org/wiki/index.php?title=Software:SpectraST) is an integral component of the [Trans Proteomic Pipeline suite (TPP)](http://tools.proteomecenter.org/wiki/index.php?title=Software:TPP) of software. A compiled executable file is included here, which can be used alone without other TPP components.\n\nWe encourage users to download and install the entire TPP suite, which provides other useful functionalities such as raw data importation, automatic validation of search results, protein inference, and quantification and visualization. Please refer to the guides for [TPP Linux installation](http://tools.proteomecenter.org/wiki/index.php?title=Linux_Installation_Guides), and the official download site for [Windows installer](http://tools.proteomecenter.org/wiki/index.php?title=TPP:5.2_Installation).\n\n- **edgeR (v3.34.0)**\n\nmetaSpectraST normalizes the data using the trimmed mean of M-values (TMM) normalization method implemented in the edgeR package. edgeR is not necessary if you would like to normalize the data with other methods. Please refer to [Bioconductor-edgR](http://www.bioconductor.org/packages/release/bioc/html/edgeR.html) for further information.\n\nTo install the edgeR package, start R and enter:\n\n```R\nif (!require(\"BiocManager\", quietly = TRUE))\n    install.packages(\"BiocManager\")\n\nBiocManager::install(\"edgeR\")\n```\n\nYou may also need to install the **limma** (v3.48.1) package\n\n```R\nif (!require(\"BiocManager\", quietly = TRUE))\n    install.packages(\"BiocManager\")\n\nBiocManager::install(\"limma\")\n```\n"
      },
      "source": "https://raw.githubusercontent.com/bravokid47/metaSpectraST/main/README.md",
      "technique": "header_analysis"
    }
  ],
  "somef_missing_categories": [
    "acknowledgement",
    "run",
    "download",
    "contact",
    "contributors",
    "documentation",
    "faq",
    "support",
    "identifier",
    "has_build_file",
    "executable_example"
  ],
  "somef_provenance": {
    "date": "2024-10-04 00:21:28",
    "somef_schema_version": "1.0.0",
    "somef_version": "0.9.5"
  },
  "stargazers_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 7
      },
      "technique": "GitHub_API"
    }
  ],
  "usage": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Data format",
        "parent_header": [
          "Quick start"
        ],
        "type": "Text_excerpt",
        "value": "metaSpectraST can perform spectral clustering from the following data formats:\n- mzML format\n- mzXML format\n- mgf format\n\nPlease note that mgf format is required for computing the normalized spectral index (SI<sub>N</sub>). File formats can be converted with [msconvert](https://proteowizard.sourceforge.io/tools.shtml) or [ThermoRawFileParser](https://github.com/bravokid47/ThermoRawFileParser).\n"
      },
      "source": "https://raw.githubusercontent.com/bravokid47/metaSpectraST/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Modules of metaSpectraST",
        "parent_header": [
          "Quick start"
        ],
        "type": "Text_excerpt",
        "value": "There are 6 individual modules in metaSpectraST. Run the following command to get explanation of the 6 modules.\n\n```shell\nmetaspectrast -h\n```\n\nOutput\n```\n>>>\n_________ metaSpectraST by Hao, Chunlin _________\n\nmetaSpectraST v=0.0\nUsage: metaspectrast [module]\n\nModule:\n1  cluster          Clustering MS/MS spectra and create consensus spectra\n2  computesc        Spectral count-based (SC) sample profiling\n3  computesin       Normalized spectral index (SIn) based sample profiling\n4  normalize        Normlizing the data matrix of sample profiles (SC or SIn)\n5  classify         Hierarchically clustering and classifying samples\n6  reconcile        Reconciliation scheme\n```\nEach module is run separately. For example, to run the ```computesin``` module,\n\n```shell\nmetaspectrast computesin -h\n```\n\nOutput\n```\n>>>\nusage: metaSpectraST_SIn.py [-h] [-s [SPTXT]] -m MGF [MGF ...]\n\nmetaSpectraST (v0.0) by Hao, Chunlin.\nCompute normalized spectral index (SIn) of consensus spectra.\n\noptional arguments:\n  -h, --help        show this help message and exit\n  -s [SPTXT]        consensus spectra .sptxt file, grandConsensus.sptxt by default.\n  -m MGF [MGF ...]  raw spectra data sets in MGF format\n```\n"
      },
      "source": "https://raw.githubusercontent.com/bravokid47/metaSpectraST/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Step 1: performing spectral clustering",
        "parent_header": [
          "Quick start"
        ],
        "type": "Text_excerpt",
        "value": "Run the following command to perform spectral clustering:\n\n```shell\nmetaspectrast cluster <path/*mzML>\n```\n\nFragmentation type (ETD, HCD, CID-QTOF) of the spectra can be specified by the ```-i``` option. Default is off and the fragmentation type can be determined from the data files.\n\n```shell\nmetaspectrast cluster -i HCD <path/*mzML>\n```\n\nWhen this step is done, it produces three types of output file in the working directory. The file ```bar.splib``` is the spectra library in a binary format. The ```bar.sptxt``` is a human-readable version of the bar.splib. The files ```bar.spidx``` and ```bar.pepidx``` are indices on the precursor m/z value and peptide, respectively. The file ```grandConsensus.sptxt``` is the library of consensus spectra, which will be used in the subsequent steps. A library of consensus spectra in .mgf format is also produced, named as ```grandConsensus.mgf```.\n"
      },
      "source": "https://raw.githubusercontent.com/bravokid47/metaSpectraST/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Step 2: profiling samples",
        "parent_header": [
          "Quick start"
        ],
        "type": "Text_excerpt",
        "value": "Consensus spectrum created in step 1 can be quantified by counting the number (spectral count, SC) or intensity (spectral index, SI<sub>N</sub>) of the replicate spectra (raw spectra) in the corresponding spectral cluster in the sample. Quantified consensus spectra can then be used to profile the samples.\n\n**Spectral count-based (SC) profiling**\n\n```shell\nmetaspectrast computesc -s <path/grandConsensus.sptxt>\n```\n\nWhen it is done, it produces two CSV files, ```unnorm_consensusPep_SC.csv``` and ```consensusSpec_RawSpectra_idx.csv```. The file unnorm_consensusPep_SC.csv is unnormalized spectral count of consensus spectra in each sample, which can be normalized by the ```normalize``` module (see [Step 3](https://github.com/bravokid47/metaSpectraST#step-3-classifying-samples-and-visulization)) or simply normalized by the sum of the spectral count in each data set. The file consensusSpec_RawSpectra_idx.csv is the index of the correspondence of raw spectrum and its consensus spectrum.\n\n**Normalized spectral index-based (SI<sub>N</sub>) profiling**\n\n```shell\nmetaspectrast computesin -s <path/grandConsensus.sptxt> -m <path/*mgf>\n```\nNote that the .mgf file has to be named the same as the the corresponding input file in [Step 1](https://github.com/bravokid47/metaSpectraST#step-1-performing-spectral-clustering). \n\nWhen it is done, it produces three CSV files, ```unnorm_consensusPep_SI.csv```, ```consensusPep_SIn.csv``` and ```consensusSpec_RawSpectra_idx.csv```. Similar to SC profiling, the file unnorm_consensusPep_SI.csv is unnormalized spectral index of consensus spectra in each sample, which can be normalized by the ```normalize``` module (see [Step 3](https://github.com/bravokid47/metaSpectraST#step-3-classifying-samples-and-visulization)). The file consensusPep_SIn.csv is the same file as unnorm_consensusPep_SI.csv, but normalized by the sum of the spectral index in each data set. The file consensusSpec_RawSpectra_idx.csv is the index of the correspondence of raw spectrum and its consensus spectrum.\n"
      },
      "source": "https://raw.githubusercontent.com/bravokid47/metaSpectraST/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Step 3: classifying samples and visualization",
        "parent_header": [
          "Quick start"
        ],
        "type": "Text_excerpt",
        "value": "Hierarchical clustering of samples can be performed based on their SI<sub>N</sub> or SC profiles. But before that, SI<sub>N</sub> or SC profiles need to be normalized.\n"
      },
      "source": "https://raw.githubusercontent.com/bravokid47/metaSpectraST/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Normalization",
        "parent_header": [
          "Quick start",
          "Step 3: classifying samples and visualization"
        ],
        "type": "Text_excerpt",
        "value": "Normalization of the SI<sub>N</sub> or SC profiles can be performed by simply diving by the sum of the SI<sub>N</sub> or SC in each data set. Note that the file ``` consensusPep_SIn.csv``` can be used for hierarchical clustering directly as it has been normalized by the sum of the SI<sub>N</sub> in each data set already. Alternatively, run the following command to normalize the SI<sub>N</sub> or SC profiles. The ```normalize``` module normalizes the data using the trimmed mean of M-values (TMM) normalization method implemented in the edgeR package.\n\n```shell\nmetaspectrast normalize -u unnorm_consensusPep_SI.csv\n```\n\nThe normalized file is named as ```tmmNorm_consensusPep.csv```. The scaling factor of each data set can be found in the file ```tmm_scalingFactor.csv```.\n"
      },
      "source": "https://raw.githubusercontent.com/bravokid47/metaSpectraST/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Hierarchical clustering",
        "parent_header": [
          "Quick start",
          "Step 3: classifying samples and visualization"
        ],
        "type": "Text_excerpt",
        "value": "Run the following command to perform the hierarchical clustering on samples.\n\n```shell\nmetaspectrast classify -n tmmNorm_consensusPep.csv\n```\n\nIf you are working with microbial communities in or on a host organism, such as gut microbiome, you could exclude the consensus spectra of the host peptides by providing metaSpectraST a .txt file containing a single column of the full name of the consensus spectra that need to be excluded. Consensus spectra of host peptides can be identified by database search of the consensus spectra library (```grandConsensus.mgf```) against the host proteome database.\n\n```shell\nmetaspectrast classify -n tmmNorm_consensusPep.csv -r removal.txt\n```\n\nFurther refinement of the SI<sub>N</sub> or SC profiles can be conducted through the ```-o``` option, which specifies the minimum number of samples that a consensus spectrum has to be observed in. This option can help filter out the singly or rarely observed consensus spectra. Default is 1.\n\n```shell\nmetaspectrast classify -n tmmNorm_consensusPep.csv -r removal.txt -o 3\n```\n\nAt the end of the day, two figures are produced. One is the file ```hierarchicalHeatmap.png```, which is a heatmap with some decorations showing the clusters of the samples. The other is the file ```dendrogram.png```, which is a dendrogram of the clusters of the samples.\n"
      },
      "source": "https://raw.githubusercontent.com/bravokid47/metaSpectraST/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Reconciliation",
        "parent_header": [
          "Quick start"
        ],
        "type": "Text_excerpt",
        "value": "Peptide sequences of raw spectra and consensus spectra can be identified through multiple peptide identification methods, including database search, open modification search, and *de novo* sequencing. Replicate spectra and the consensus spectrum in one spectral cluster may be identified as conflicting peptide sequences by different identification methods. The ```reconcile``` module employs a heuristic reconciliation scheme to resolve the conflicts and correct sequence errors.\n\n**Reconciliation scheme**\n\n![reconcile](fig/fig3_reconciliation_scheme.png)\n\n**Preparing identification results**\n\nTo run the ```reconcile``` module, you need to prepare the identification results first. It's very simple. You just need to organize the identification results of raw spectra as CSV files containing at least two columns, ```RawSpectrum``` and ```peptide```. The 'RawSpectrum' column lists the recorded name of each raw spectrum, while the 'peptide' column lists the peptide sequence assigned to each raw spectrum. If the identification method provides protein information, you can add it as an additional column with the header of ```protein```. Identification results from different identification methods should be organized as separate CSV files. For identification results of consensus spectra, please change the header ```RawSpectrum``` to ```consensusSpec```.\n\nThen run the following command to start the reconciliation procedure.\n\n```shell\nmetaspectrast reconcile -d raw_DB.csv -t raw_taggraph.csv -n raw_denovo -c consensus_DB.csv -i consensusSpec_RawSpectra_idx.csv\n```\n\nOption arguments\n```\n  -d      Specifies the result of database search of raw spectra.\n  -t      Specifies the result of open modification of raw spectra.\n  -n      Specifies the result of de novo sequencing of raw spectra.\n  -c      Specifies the result of database search of consensus spectra.\n  -i      Specifies the index of correspondence of raw spectrum and its consensus spectrum.\n          By default, 'consensusSpec_RawSpectra_idx.csv' generated automatically by the 'computesc' or 'computesin' module will be used.\n```\n"
      },
      "source": "https://raw.githubusercontent.com/bravokid47/metaSpectraST/main/README.md",
      "technique": "header_analysis"
    }
  ]
}