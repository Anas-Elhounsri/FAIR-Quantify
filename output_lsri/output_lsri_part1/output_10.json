{
  "code_repository": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/TBLabFJD/DBofAFs"
      },
      "technique": "GitHub_API"
    }
  ],
  "contact": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Contact",
        "parent_header": [
          "DBofAFs",
          "Developers"
        ],
        "type": "Text_excerpt",
        "value": " - Gonzalo N\u00fa\u00f1ez Moreno (gonzalo.nunezm@quironsalud.es)\n\n[![Licencia de Creative Commons](https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png)](http://creativecommons.org/licenses/by-nc-sa/4.0/)\n"
      },
      "source": "https://raw.githubusercontent.com/TBLabFJD/DBofAFs/main/README.md",
      "technique": "header_analysis"
    }
  ],
  "date_created": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2022-07-11T14:46:26Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_updated": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2024-09-20T12:17:15Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "description": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "Pipeline for database creation of allele frequencies "
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Pipeline description",
        "parent_header": [
          "DBofAFs"
        ],
        "type": "Text_excerpt",
        "value": "This pipeline has the following steps:\n1. **First family filter and sample duplication management:** in this step known related samples (using the family ID of the metadata file) are discarded if any relative is already inside the database. If the same sample is introduced, a prefix is added and the sample with less coverage will be discarded during the second familiar relationship filter.\n2. **Merge:** All VCFs are merged into a single multi-sample VCF.\n3. **Imputation:** Coverage information is used to differentiate between a non covered position and a covered-non-variant position.\n4. **Second family filter:** Coefficient of  relationship is calculated using PLINK to discard related or duplicated samples samples. If samples are related, samples with more coverage are kept.\n5. **AF calculation:** The Python package Hail is used to calculate the general, subcohort (category) specific and pseudocontrol (all except the selected category) AF. \n"
      },
      "source": "https://raw.githubusercontent.com/TBLabFJD/DBofAFs/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 0.9963590557568388,
      "result": {
        "original_header": "DBofAFs",
        "type": "Text_excerpt",
        "value": "Pipeline for building a database of allele frequencies. The objective of this pipeline is to create and update a database of Allele Frequencies (AF) using vcf files. A metadata file in TSV must be provided with the sample id, family id and category (e.g. disease or phenotype)  to calculate the AF. The AF is calculated for the whole cohort, subcohorts defined by each category and for a subset of samples acting as pseudocontrols defined by the whole cohort but the selected category (e.g. non-related diseases).\n \n"
      },
      "source": "https://raw.githubusercontent.com/TBLabFJD/DBofAFs/main/README.md",
      "technique": "supervised_classification"
    }
  ],
  "download_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/TBLabFJD/DBofAFs/releases"
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 0
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/TBLabFJD/DBofAFs/forks"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "TBLabFJD/DBofAFs"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_title": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "DBofAFs"
      },
      "source": "https://raw.githubusercontent.com/TBLabFJD/DBofAFs/main/README.md",
      "technique": "regular_expression"
    }
  ],
  "has_script_file": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/TBLabFJD/DBofAFs/main/pipeline_BD_SNV.sh"
      },
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/TBLabFJD/DBofAFs/main/CLEANED_pipeline_BD_SNV.sh"
      },
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/TBLabFJD/DBofAFs/main/solo_hail.sh"
      },
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/TBLabFJD/DBofAFs/main/p2_part_pipeline.sh"
      },
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/TBLabFJD/DBofAFs/main/end_pipeline.sh"
      },
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/TBLabFJD/DBofAFs/main/part_pipeline.sh"
      },
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/TBLabFJD/DBofAFs/main/p3_part_pipeline.sh"
      },
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/TBLabFJD/DBofAFs/main/SPLIT_CLEANED_PIPELINE_BD_SNV.sh"
      },
      "technique": "file_exploration"
    }
  ],
  "images": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"
      },
      "source": "https://raw.githubusercontent.com/TBLabFJD/DBofAFs/main/README.md",
      "technique": "regular_expression"
    }
  ],
  "issue_tracker": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/TBLabFJD/DBofAFs/issues"
      },
      "technique": "GitHub_API"
    }
  ],
  "keywords": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": ""
      },
      "technique": "GitHub_API"
    }
  ],
  "license": [
    {
      "confidence": 1,
      "result": {
        "original_header": "License",
        "parent_header": [
          "DBofAFs"
        ],
        "type": "Text_excerpt",
        "value": "DBofAFs source code is provided under the [**Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)**](https://creativecommons.org/licenses/by-nc-sa/4.0/). DBofAFs includes several third party packages provided under other open source licenses, please check them for additional details.\n"
      },
      "source": "https://raw.githubusercontent.com/TBLabFJD/DBofAFs/main/README.md",
      "technique": "header_analysis"
    }
  ],
  "name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "DBofAFs"
      },
      "technique": "GitHub_API"
    }
  ],
  "owner": [
    {
      "confidence": 1,
      "result": {
        "type": "User",
        "value": "TBLabFJD"
      },
      "technique": "GitHub_API"
    }
  ],
  "programming_languages": [
    {
      "confidence": 1,
      "result": {
        "name": "Shell",
        "size": 157948,
        "type": "Programming_language",
        "value": "Shell"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "R",
        "size": 61812,
        "type": "Programming_language",
        "value": "R"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "Python",
        "size": 50610,
        "type": "Programming_language",
        "value": "Python"
      },
      "technique": "GitHub_API"
    }
  ],
  "readme_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/TBLabFJD/DBofAFs/main/README.md"
      },
      "technique": "file_exploration"
    }
  ],
  "requirements": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Dependencies",
        "parent_header": [
          "DBofAFs"
        ],
        "type": "Text_excerpt",
        "value": "**Programming languages:**\n- **Python 3.6.7**\n- **R v3.5.0**\n\n**Bioinformatic tools:**\n- **bcftools v1.3**\n- **bedtools v2.30.0** \n- **tabix (htslib) 1.9**\n- **bgzip (htslib) 1.9**\n- **GNU parallel 20210222**\n- **PLINK v1.90b6.9 64-bit (4 Mar 2019)**\n- **rename from util-linux 2.23.2** To run rename from perl package, please comment the lines where the util-linux is used and uncomment the ones where the perl one is used.\n\n\n**Python libraries**\n- **argparse**\n- **pandas**\n- **hail (0.2.30-2ae07d872f43)**\n- **time**\n- **gzip**\n- **ast**\n- **sys**\n- **glob**\n- **datetime**\n\n"
      },
      "source": "https://raw.githubusercontent.com/TBLabFJD/DBofAFs/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Requirements",
        "parent_header": [
          "DBofAFs"
        ],
        "type": "Text_excerpt",
        "value": "***Metadata*** \nA TSV file must be provided with information of all samples. This file must have a header with the following names: `SAMPLE`, `FAMILY` and `CATEGORY`. These column names must be in capital letters. The category can be a disease, phenotype or any feature that can be used to make subcohorts. \n***Directory structure***\nThe database directory must have the following directories created before running the pipeline:\nIMPORTANTISIMOOOO: hay que poner merged_vcf no merged_vcfs en el nombre de la carpeta (originalmente pone merged_vcfs y no es as\u00ed)\n```\n\u2514\u2500coverage\n\u2502   discarded_bed\n\u2502   incorporated_bed   \n\u2502   new_bed   \n\u2502\n\u2514\u2500db\n\u2514\u2500imputed_vcf\n\u2514\u2500individual_vcf\n\u2502   discarded_vcf\n\u2502   incorporated_vcf   \n\u2502   new_vcf   \n\u2502\n\u2514\u2500merged_vcf\n\u2514\u2500metadata\n```\nInput VCF files must be copied into `individual_vcf/new_vcf/` directory and BED files with coverage information for each sample in `coverage/new_bed/`. This coverage files can be created using mosdepth: `mosdepth --quantize 10: -n -x ${output_prefix} ${bamfile}` to create a bed file with the regions captured with a depth equal or higher than 10 reads. Samples names from the VCF are retrieved from the header of the file. BED file should follow this naming `[SAMPLEID]_*.bed or [SAMPLEID].*.bed` .\n"
      },
      "source": "https://raw.githubusercontent.com/TBLabFJD/DBofAFs/main/README.md",
      "technique": "header_analysis"
    }
  ],
  "somef_missing_categories": [
    "installation",
    "citation",
    "acknowledgement",
    "run",
    "download",
    "contributors",
    "documentation",
    "usage",
    "faq",
    "support",
    "identifier",
    "has_build_file",
    "executable_example"
  ],
  "somef_provenance": {
    "date": "2024-10-03 22:56:04",
    "somef_schema_version": "1.0.0",
    "somef_version": "0.9.5"
  },
  "stargazers_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 1
      },
      "technique": "GitHub_API"
    }
  ]
}