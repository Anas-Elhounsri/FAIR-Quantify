{
  "citation": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Canary Logo Credit",
        "parent_header": [
          "Canary",
          "User Guide"
        ],
        "type": "Text_excerpt",
        "value": "Canary logo was creating using an original image from <a href=\"https://www.vecteezy.com/free-vector/nature\">Nature Vectors by Vecteezy</a>.\n"
      },
      "source": "https://raw.githubusercontent.com/anb94/Canary/main/README.md",
      "technique": "header_analysis"
    }
  ],
  "code_repository": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/anb94/Canary"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_created": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2021-07-26T08:55:39Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_updated": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2023-12-13T07:55:25Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "description": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "Automated conversion tool for MaCH (mlinfo and mldose) dosage filse to PLINK files"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Introduction",
        "parent_header": [
          "Canary"
        ],
        "type": "Text_excerpt",
        "value": "Canary is a bioinformatics tool published in BMC Bioinformatics (https://rdcu.be/cSwXP) that allows for the automatic conversion of MaCH dosage files (mlinfo and mldose) into PLINK1 and PLINK2 compatible files. It also has other software that is essential for performing GWAS installed.\n\n\nThis repository provides a guide for using Canary for semi-automated preparation of both genotype and phenotype files for GWAS analyses using MaCH dosage  files, mlinfo and mldose format, such as those provided by dbGaP for the Women's Health Initiative (WHI).\n\n\n"
      },
      "source": "https://raw.githubusercontent.com/anb94/Canary/main/README.md",
      "technique": "header_analysis"
    }
  ],
  "download": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Step 2: Download Canary github repo",
        "parent_header": [
          "Canary",
          "User Guide"
        ],
        "type": "Text_excerpt",
        "value": "Download/clone the github repo to your local machine using the green 'Code' drop down menu at the top right of the Canary homepage.\n\nor use the following command:\n\n```bash\ngit clone https://github.com/anb94/Canary.git\n```\n"
      },
      "source": "https://raw.githubusercontent.com/anb94/Canary/main/README.md",
      "technique": "header_analysis"
    }
  ],
  "download_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/anb94/Canary/releases"
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 0
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/anb94/Canary/forks"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "anb94/Canary"
      },
      "technique": "GitHub_API"
    }
  ],
  "has_script_file": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/anb94/Canary/main/correct-plinkfiles.sh"
      },
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/anb94/Canary/main/combine-datasets-module.sh"
      },
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/anb94/Canary/main/single-dataset-correct-plinkfiles.sh"
      },
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/anb94/Canary/main/convert-mac-module.sh"
      },
      "technique": "file_exploration"
    }
  ],
  "installation": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Software Installed in Canary",
        "parent_header": [
          "Canary",
          "Introduction"
        ],
        "type": "Text_excerpt",
        "value": "The Canary container comes with software essential for performing GWAS analyses installed, including:\n\n- PLINK1\n- PLINK2\n- BCFTools\n- SRAToolkit\n- GCTA\n- Python3: \n    - Pandas\n    - NumPy\n- R:\n    - GWASTools (Biocondutor)\n    - Tidyverse\n\nUsers are recommended to familiarise themselves with terms of use of the above software before using.\n"
      },
      "source": "https://raw.githubusercontent.com/anb94/Canary/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Phenotype File Preparation",
        "parent_header": [
          "Canary"
        ],
        "type": "Text_excerpt",
        "value": "It is recommended that phenotype files are prepared first as these are required when preparing the genotype files. An overview of the phenotype file generation process can be seen in the image below:\n\n\n<p align=\"center\">\n    <img height=\"600\"  src=\"https://github.com/anb94/Canary/blob/a7add4d454b231a42804b168490c99c737df4c4e/canary-images/phenotype-file.png\">\n</p>\n\n\nAutomated preparation of the phenotype file is not supported by Canary. However, we do provide a detailed tutorial for preparing the phenotype file using Python3 in the script \"Tutorial-for-Phenotype-File.py\". Users are advised to edit a copy this file rather than edit it directly.\n\n"
      },
      "source": "https://raw.githubusercontent.com/anb94/Canary/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Genotype File Preparation",
        "parent_header": [
          "Canary"
        ],
        "type": "Text_excerpt",
        "value": "The main function of Canary is to convert mldose and mlinfo MaCH files into PLINK compatible files. This can be achieved using the scripts provided whilst using the Canary environment.\n\nAn overview of the modules available can be seen in the image below:\n\n<p align=\"center\">\n    <img height=\"400\"  src=\"https://github.com/anb94/Canary/blob/34f31779fab82712abb4dd021250f79f92772856/canary-images/canary-overview.png\">\n</p>\n\n\nAs described in the image above, the typical order of operations would be:\n- convert-mac-module.sh\n- combine-datasets-module.sh (Should be skipped if using single dataset/consent group)\n- correct-plinkfiles.sh (Should be skipped if used combine-datasets-module.sh, as it is automatically performed in this module)\n"
      },
      "source": "https://raw.githubusercontent.com/anb94/Canary/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "User Guide",
        "parent_header": [
          "Canary"
        ],
        "type": "Text_excerpt",
        "value": "Canary is a singularity container that comes preloaded with software and scripts that allows users to convert file formats and perform GWAS more easily on a local machine and/or HPC environment. To install and use Canary, please folow the steps below. \n\n"
      },
      "source": "https://raw.githubusercontent.com/anb94/Canary/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Step 1: Install singularity",
        "parent_header": [
          "Canary",
          "User Guide"
        ],
        "type": "Text_excerpt",
        "value": "In order to use Canary, you must first build it using singularity. Therefore, you must install singularity on your local machine, following the instructions provided at https://docs.sylabs.io/guides/latest/user-guide/quick_start.html#quick-installation-steps before attempting to build the container.\n\nOnce singularity is installed, you can follow the user guide at https://docs.sylabs.io/guides/latest/user-guide/index.html for detailed instructions on how to use singularity.\n\nNOTE: System Administrators can consult the Admin guide for singularity at https://sylabs.io/guides/latest/admin-guide/.\n"
      },
      "source": "https://raw.githubusercontent.com/anb94/Canary/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Step 3: Build the Canary container",
        "parent_header": [
          "Canary",
          "User Guide"
        ],
        "type": "Text_excerpt",
        "value": "To build the Canary container, you should do so using singularity (installed in step 1). As this first step requires sudo permissions, it is reccomended that you build the container on your local machine, rather than a HPC as users often do not have permission to use sudo.\n\nFor example:\n\n```bash\nsudo singularity build ~/Canary/Canary.sif ~/Canary/canary-container.def\n```\n\nIn the example above, the first argument is the path where you wish to save the Canary container (in this case inside the Canary folder downloaded in step 1) and the second argumet is the Canary definition file that is in this repo. \n\n\nFor help with this step or more detailed instructions on how to use singularity please consult the singularity user guide at https://docs.sylabs.io/guides/latest/user-guide/index.html.\n\n"
      },
      "source": "https://raw.githubusercontent.com/anb94/Canary/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Optional Step: Copying the container to HPC",
        "parent_header": [
          "Canary",
          "User Guide"
        ],
        "type": "Text_excerpt",
        "value": "If you wish to use this container on an HPC, you should first copy the Canary folder and the Canary.sif to the HPC. One way to do this is to use the command scp, such as in the below example:\n\n```bash\nscp -r ~/Canary HPC-username@10.10.0.2:/usr/Canary\n```\nNote: Spped of the\n\nFor help with this step you can read this article https://linuxize.com/post/how-to-use-scp-command-to-securely-transfer-files/.\n\nIt is important to note that if you plan to use Canary on an HPC, singularity must be installed on the HPC. If your HPC system does not have singularity installed, contact a system administrator and provide them with the guide at https://sylabs.io/guides/latest/admin-guide/.\n\n"
      },
      "source": "https://raw.githubusercontent.com/anb94/Canary/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Step 4: Using the Canary container",
        "parent_header": [
          "Canary",
          "User Guide"
        ],
        "type": "Text_excerpt",
        "value": "Once you have built the container, you can run the container with:\n\n```bash\nsingularity shell ~/Canary/Canary.sif\n```\n\n"
      },
      "source": "https://raw.githubusercontent.com/anb94/Canary/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Step 5: Using Canary's automated scripts",
        "parent_header": [
          "Canary",
          "User Guide"
        ],
        "type": "Text_excerpt",
        "value": "Once inside the container (step 4), you can run the script you desire to use. \n\n"
      },
      "source": "https://raw.githubusercontent.com/anb94/Canary/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Final Steps",
        "parent_header": [
          "Canary",
          "User Guide",
          "Step 5: Using Canary's automated scripts"
        ],
        "type": "Text_excerpt",
        "value": "Once you have followed the above steps, you need to update the sex information in the genotype files. You can perform this step using the phenotype file generated earlier and PLINK's update-sex command.\n"
      },
      "source": "https://raw.githubusercontent.com/anb94/Canary/main/README.md",
      "technique": "header_analysis"
    }
  ],
  "issue_tracker": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/anb94/Canary/issues"
      },
      "technique": "GitHub_API"
    }
  ],
  "keywords": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": ""
      },
      "technique": "GitHub_API"
    }
  ],
  "license": [
    {
      "confidence": 1,
      "result": {
        "name": "MIT License",
        "spdx_id": "MIT",
        "type": "License",
        "url": "https://api.github.com/licenses/mit",
        "value": "https://api.github.com/licenses/mit"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "type": "File_dump",
        "value": "MIT License\n\nCopyright (c) 2022 Adam Bennett\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
      },
      "source": "https://raw.githubusercontent.com/anb94/Canary/main/LICENSE",
      "technique": "file_exploration"
    }
  ],
  "name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "Canary"
      },
      "technique": "GitHub_API"
    }
  ],
  "owner": [
    {
      "confidence": 1,
      "result": {
        "type": "User",
        "value": "anb94"
      },
      "technique": "GitHub_API"
    }
  ],
  "programming_languages": [
    {
      "confidence": 1,
      "result": {
        "name": "Shell",
        "size": 27811,
        "type": "Programming_language",
        "value": "Shell"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "Python",
        "size": 14660,
        "type": "Programming_language",
        "value": "Python"
      },
      "technique": "GitHub_API"
    }
  ],
  "readme_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/anb94/Canary/main/README.md"
      },
      "technique": "file_exploration"
    }
  ],
  "requirements": [
    {
      "confidence": 1,
      "result": {
        "original_header": "System Requirements",
        "parent_header": [
          "Canary"
        ],
        "type": "Text_excerpt",
        "value": "In order to use Canary you must have singularity installed on your system. To install, please follow the installation guide at https://docs.sylabs.io/guides/latest/user-guide/quick_start.html#quick-installation-steps.  \n\nAny operating system that has singularity installed can run Canary. This is because Canary utilises container technology and therefore does not need any other software installed on the system as it is installed in the container. The Canary container uses Ubuntu 20.04\n\nHowever, we do recommend using a Linux environment if possible as it is the most simple and reliable option for installing and using singularity.\n\nBuilding the container should take approximately 30 minutes and will occupy approximately 1.2GB of space.\n\nTotal time from installation of singularity, building the container and moving it to a HPC environment is approximately 1 hour, depending on upload and download speeds. \n"
      },
      "source": "https://raw.githubusercontent.com/anb94/Canary/main/README.md",
      "technique": "header_analysis"
    }
  ],
  "somef_missing_categories": [
    "acknowledgement",
    "run",
    "contact",
    "contributors",
    "documentation",
    "faq",
    "support",
    "identifier",
    "has_build_file",
    "executable_example"
  ],
  "somef_provenance": {
    "date": "2024-10-04 13:44:20",
    "somef_schema_version": "1.0.0",
    "somef_version": "0.9.5"
  },
  "stargazers_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 3
      },
      "technique": "GitHub_API"
    }
  ],
  "type": [
    {
      "confidence": 0.82,
      "result": {
        "type": "String",
        "value": "commandline-application"
      },
      "technique": "software_type_heuristics"
    }
  ],
  "usage": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Module 1: Convert MaCH Example",
        "parent_header": [
          "Canary",
          "User Guide",
          "Step 5: Using Canary's automated scripts"
        ],
        "type": "Text_excerpt",
        "value": "The convert-mac-module.sh allows conversion of mlinfo and mldose MaCH files into PLINK compatible files.\n\n```bash\n-c    Directories containing consent data, pass once per directory.\n-n    dataset output naming prefix for the files.\n-o    Output directory of the converted files.\n-h    Print help.\n ```\n\nExample:\n ```bash\n ~/Canary/convert-mac-module.sh -c ~/dbgap/WHI/SHARE_dataset/consentgroup1 -c ~/dbgap/WHI/SHARE_dataset/consentgroup2 -n SHARE -o ~/dbgap/WHI/SHARE_dataset\n ```\n    "
      },
      "source": "https://raw.githubusercontent.com/anb94/Canary/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Module 2: Combine Consent Groups Example",
        "parent_header": [
          "Canary",
          "User Guide",
          "Step 5: Using Canary's automated scripts"
        ],
        "type": "Text_excerpt",
        "value": "The combine-datasets-module.sh allows the user to combine harmoinzed consent groups of a study.\n\nCommand line arguments:\n ```bash\n-d    Directories of datasets to combine, pass once per directory.\n-o    Output directory.\n-n    dataset output naming prefix.\n-h    Print help.\n ```\n\nExample:\n\n```bash\n~/Canary/combine-datasets-module.sh -d ~/dbgap/WHI/SHARE_dataset -d ~/dbgap/WHI/SHARE_dataset -n WHI-SHARE-CB -o ~/processed_data/dbgap/WHI/SHARE-CB\n```\n"
      },
      "source": "https://raw.githubusercontent.com/anb94/Canary/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Module 3: Correct PLINK files Example",
        "parent_header": [
          "Canary",
          "User Guide",
          "Step 5: Using Canary's automated scripts"
        ],
        "type": "Text_excerpt",
        "value": "The correct-plinkfiles.sh module corrects plink files if combine-datasets-module.sh was not used.\n\n\nCommand line arguments:\n```bash\n-d    Directories containing the dataset, pass once per directory.\n-n    dataset output naming prefix\n-h    Print help.\n```\n\nExample:\n```bash\n~/Canary/correct-plinkfiles.sh -d ~/dbgap/WHI/SHARE_dataset -d ~/dbgap/WHI/SHARE_dataset -n SHARE -o ~/dbgap/WHI/SHARE_dataset\n```"
      },
      "source": "https://raw.githubusercontent.com/anb94/Canary/main/README.md",
      "technique": "header_analysis"
    }
  ]
}