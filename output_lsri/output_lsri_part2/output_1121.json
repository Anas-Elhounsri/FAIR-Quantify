{
  "code_repository": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/asliboyraz/PMGs"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_created": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2022-01-25T06:32:38Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_updated": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2023-04-19T08:44:58Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "description": [
    {
      "confidence": 0.9320892629188493,
      "result": {
        "original_header": "PMGs",
        "type": "Text_excerpt",
        "value": "*Principal Microbial Groups : a new way to explore microbiome data* \n***\nPMG = Principal Microbial Groups.\nThis R package provides functions for the analysis of compositional data (e.g., data representing proportions of different variables/parts). Specifically, this package allows analysis of microbiome data where the OTUs can be grouped through a SBP (sequential binary partitioning) and provides a balance of OTU groups to be utilized for for the search of biomarkers in human microbiota. \n \n"
      },
      "source": "https://raw.githubusercontent.com/asliboyraz/PMGs/main/README.md",
      "technique": "supervised_classification"
    }
  ],
  "download_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/asliboyraz/PMGs/releases"
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 1
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/asliboyraz/PMGs/forks"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "asliboyraz/PMGs"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_title": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "PMGs"
      },
      "source": "https://raw.githubusercontent.com/asliboyraz/PMGs/main/README.md",
      "technique": "regular_expression"
    }
  ],
  "images": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/asliboyraz/PMGs/main/README-plot-1.png"
      },
      "source": "https://raw.githubusercontent.com/asliboyraz/PMGs/main/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/asliboyraz/PMGs/main/README-table-1.png"
      },
      "source": "https://raw.githubusercontent.com/asliboyraz/PMGs/main/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/asliboyraz/PMGs/main/README-boxplot.png"
      },
      "source": "https://raw.githubusercontent.com/asliboyraz/PMGs/main/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/asliboyraz/PMGs/main/README-plot-2.png"
      },
      "source": "https://raw.githubusercontent.com/asliboyraz/PMGs/main/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/asliboyraz/PMGs/main/result1.png"
      },
      "source": "https://raw.githubusercontent.com/asliboyraz/PMGs/main/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/asliboyraz/PMGs/main/result2.png"
      },
      "source": "https://raw.githubusercontent.com/asliboyraz/PMGs/main/README.md",
      "technique": "regular_expression"
    }
  ],
  "installation": [
    {
      "confidence": 0.9828386976055207,
      "result": {
        "original_header": "Bugs/Feature requests",
        "type": "Text_excerpt",
        "value": "I appreciate bug reports and feature requests. Please post to the github issue tracker [here](https://github.com/asliboyraz/pmgs/issues).  \n"
      },
      "source": "https://raw.githubusercontent.com/asliboyraz/PMGs/main/README.md",
      "technique": "supervised_classification"
    }
  ],
  "issue_tracker": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/asliboyraz/PMGs/issues"
      },
      "technique": "GitHub_API"
    }
  ],
  "keywords": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": ""
      },
      "technique": "GitHub_API"
    }
  ],
  "name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "PMGs"
      },
      "technique": "GitHub_API"
    }
  ],
  "owner": [
    {
      "confidence": 1,
      "result": {
        "type": "User",
        "value": "asliboyraz"
      },
      "technique": "GitHub_API"
    }
  ],
  "programming_languages": [
    {
      "confidence": 1,
      "result": {
        "name": "HTML",
        "size": 679399,
        "type": "Programming_language",
        "value": "HTML"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "R",
        "size": 29785,
        "type": "Programming_language",
        "value": "R"
      },
      "technique": "GitHub_API"
    }
  ],
  "readme_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/asliboyraz/PMGs/main/README.md"
      },
      "technique": "file_exploration"
    }
  ],
  "somef_missing_categories": [
    "citation",
    "acknowledgement",
    "run",
    "download",
    "requirements",
    "contact",
    "contributors",
    "documentation",
    "license",
    "faq",
    "support",
    "identifier",
    "has_build_file",
    "executable_example"
  ],
  "somef_provenance": {
    "date": "2024-10-04 13:15:51",
    "somef_schema_version": "1.0.0",
    "somef_version": "0.9.5"
  },
  "stargazers_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 3
      },
      "technique": "GitHub_API"
    }
  ],
  "usage": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Quick Start",
        "parent_header": [
          "PMGs"
        ],
        "type": "Text_excerpt",
        "value": "`PMGs` procedure is illustrated on a cirrhosis study data. Data is obtained from the https://github.com/knights-lab/MLRepo.\n\nLoad Cirrhosis Data\n``` r\nlibrary(readr)\ntax_otu <- read.table('data/processed_taxatable.txt', sep=\"\\t\",header = TRUE) \ntax<-tax_otu[,1:7]\notu<-tax_otu[,-(1:7)]\nlabels <- read.table('data/task-healthy-cirrhosis.txt', sep=\"\\t\",header = FALSE) \n```\n\nLoad PMG library\n``` r\nsource(\"lib/PMG_lib.R\")\n```\n\nCreate a Phyloseq object. Data is filtered and 0's are replaced. TAX table and Sampledata are organized.\n\n```{r}\nlibrary(phyloseq)\nOTU<-otu_table(otu, taxa_are_rows=TRUE) # taxas x samples\nTAX<-tax_table(as.matrix(tax))\nSAMPLEDATA<-sample_data(as.data.frame(labels))\ntaxa_names(OTU)<-taxa_names(TAX)\nsample_names(OTU)<-sample_names(SAMPLEDATA)\ncir<- phyloseq(OTU,TAX,SAMPLEDATA)\n#Taxa that were not seen with more than 20 counts in at least 30% of samples are filtered.\ncir2 <-  filter_taxa(cir, function(x) sum(x > 20) > (0.3*length(x)), TRUE)\nOTU<-t(as.data.frame(otu_table(cir2)))\nlibrary(zCompositions)\notu.no0<-cmultRepl(OTU)\nTAX<-as.data.frame(tax_table(cir))\nTAX$otuid<-rownames(TAX)\nSAMPLEDATA$Label<-ifelse(grepl(\"Cirrhosis\", SAMPLEDATA$V2), 1, 0)\nnames(SAMPLEDATA)<-c(\"sampleID\",\"Status\",\"Label\")\n```\n\nBefore `PMGs` construction, the analyst should decide the minimum number of groups to construct. \nWe chose 25 as minimum number for the demo dataset. It means that minimum 24 principal balances will be used for PMG construction. \n```{r}\nV<- mPBclustvar(X) #\ncoord<-milr(X,V)\nplot(diag(var(coord)),xlab=\"number of coordinates\",ylab=\"Explained Variance\")\n```\n![](README-plot-1.png)\n\nOptimal number of groups is calculated by the method findOptimalNumOfGroups(otu,min). This method uses logistic regression for each number of `PMGs` and determines the best number of `PMG` choosing the best accuracy measure.  \n```{r}\nminimumNumOfGroups<-25\nnumberofgroup<-findOptimalNumOfGroups(otu.no0,minimumNumOfGroups)\n[#] \"Optimal Number of group is:27\"\n```\nOnce optimal number is decided, then it is easy to construct PMGs on otu table.\nThe otuput is a PMG table and a OGT(OtuID|Group|Taxa) dataframe. PMG table is the new variables for each samples. OGT table is a table with the OTUs in each PMGs.\n\n```{r}\nPMGs<-createPMGs(otu.no0,numberofgroup)  \nhead(OGT)\n```\n![](README-table-1.png)\n\nThe taxonomical content of PMGs can be visualized by a boxplot. Input \"g\" for genus level content. \n```{r}\ndraw_PMGTaxa_boxPlot(OGT,\"g\",27) \n```\n![](README-boxplot.png)\n\nDraw a CODA Dendrogram on `PMGs`. Red and green horizontal bars represent the cirrhosis and\nnon-cirrhosis samples respectively.\n\n```{r}\nPMGs_labels<-cbind(PMGs,SAMPLEDATA$Status)\nnames(PMGs_labels)[ncol(PMGs_labels)]<-\"label\"\nPMGs_labels$label<-as.factor(PMGs_labels$label)\nW<- mPBclustvar(PMGs)\nlibrary(compositions)\nCoDaDendrogram(X=acomp(PMGs),V=W,type=\"lines\",range=c(-10,10))\nCoDaDendrogram(X=acomp(PMGs[PMGs_labels$label==\"Cirrhosis\",]), col=\"red\",add=TRUE,V=E,type=\"lines\",range=c(-7,7))\nCoDaDendrogram(X=acomp(PMGs[PMGs_labels$label==\"Healthy\",]), col=\"green\",add=TRUE,V=E,type=\"lines\",range=c(-7,7))\n```\n\n![](README-plot-2.png)\n\n\nFind Compositional Biomarkers via Distal `PMG` Balances\n\n```{r}\nlibrary(caret)\nlibrary(balance)\n\nfit.control <- trainControl(method = \"repeatedcv\", number = 10, repeats = 5,\n                            summaryFunction = twoClassSummary, classProbs = TRUE, allowParallel = F, savePredictions = T)\n\nsbp <- sbp.fromADBA(PMGs, SAMPLEDATA$Status) # get discriminant balances\nsbp <- sbp.subset(sbp) # get distal balances only\n\ncompBiomarkers <- as.data.frame(balance.fromSBP(x=PMGs, y = sbp)) \ncompBiomarkers.labeled <- addLabel(data.distalBal.pmg,SAMPLEDATA$Status)\n\n\nset.seed(123)\nfit <- train(label ~ ., data = compBiomarkers.labeled, method = \"glm\", \n                          family = \"binomial\", trControl = fit.control)\nfit$results\nhead(compBiomarkers,c((ncol(compBiomarkers.labeled)-3):ncol(compBiomarkers.labeled))))\n```\n![](result1.png)\n\nFirst 3 Compositional Biomarkers : G14/G26 , G23/G3, G24/G27\n\n![](result2.png)\n"
      },
      "source": "https://raw.githubusercontent.com/asliboyraz/PMGs/main/README.md",
      "technique": "header_analysis"
    }
  ]
}