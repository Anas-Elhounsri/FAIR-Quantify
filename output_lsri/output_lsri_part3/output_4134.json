{
  "code_repository": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/mathiaskalxdorf/IceR"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_created": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2020-06-09T12:54:54Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_updated": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2024-03-12T18:28:19Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "description": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "Quantitative proteomics workflow"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Description",
        "parent_header": [
          "IceR - Quantitative Label-Free Proteomics Workflow"
        ],
        "type": "Text_excerpt",
        "value": "Label-free proteomics enables the unbiased quantification of thousands of proteins across large sample cohorts. Commonly used mass spectrometry-based proteomic workflows rely on data dependent acquisition (DDA). However, its stochastic selection of peptide features for fragmentation-based identification inevitably results in high rates of missing values, which prohibits the integration of larger cohorts as the number of recurrently detected peptides is a limiting factor. Peptide identity propagation (PIP) can mitigate this challenge, allowing to transfer sequencing information between samples. However, despite the promise of these approaches, current methods remain limited either in sensitivity or reliability and there is a lack of robust and widely applicable software. To address this, we here present IceR, an efficient and user-friendly quantification workflow introducing a hybrid PIP approach with superior quantification precision, accuracy, reliability and data completeness. IceR is available as an easy to-use R-package incorporating a graphical user interface and comprehensive quality control measures.\n\nPlease consider looking into the `development` branch of the repository for IceR with some more functionality.\n"
      },
      "source": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR/master/README.md",
      "technique": "header_analysis"
    }
  ],
  "download_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/mathiaskalxdorf/IceR/releases"
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 4
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/mathiaskalxdorf/IceR/forks"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "mathiaskalxdorf/IceR"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_title": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "IceR - Quantitative Label-Free Proteomics Workflow"
      },
      "source": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR/master/README.md",
      "technique": "regular_expression"
    }
  ],
  "images": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR//master/images/IceR_gui.jpg"
      },
      "source": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR/master/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR//master/images/IceR_gui_QC_alignment.jpg"
      },
      "source": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR/master/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR//master/images/IceR_gui_QC_quantification.jpg"
      },
      "source": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR/master/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR//master/images/Normalization.jpg"
      },
      "source": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR/master/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR//master/images/General_numbers.jpg"
      },
      "source": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR/master/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR//master/images/CV_quant.jpg"
      },
      "source": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR/master/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR//master/images/DE_results.jpg"
      },
      "source": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR/master/README.md",
      "technique": "regular_expression"
    }
  ],
  "installation": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Win10",
        "parent_header": [
          "IceR - Quantitative Label-Free Proteomics Workflow",
          "Installation"
        ],
        "type": "Text_excerpt",
        "value": "The following installations are required for Windows 10:\n\n - [R](https://cran.r-project.org/bin/windows/base/) (Version between 3.63 and 4.2.1)\n - Optional: [Rtools](https://cran.r-project.org/bin/windows/Rtools/history.html) (select required version)\n - Optional: [ProteoWizard](http://proteowizard.sourceforge.net/download.html)\n - Optional: [RStudio](https://rstudio.com/products/rstudio/download/)\n \nDuring installation, please keep default settings and follow respective instructions.\n\nIf an error occurs during installation of the package rJava, it could indicate that Java is not properly installed. Please follow the installation instructions for Java and rJava (installing suitable JDK version should solve the issue) \n\nNext, we install the IceR package from GitHub\n```r\ninstall.packages(\"devtools\")\ndevtools::install_github(\"mathiaskalxdorf/IceR\")\n```\nIf everything wents fine, IceR should be installed and can be used (e.g. with the GUI) with the following lines:\n```r\nlibrary(IceR)\nrunIceR()\n```\n"
      },
      "source": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Ubuntu",
        "parent_header": [
          "IceR - Quantitative Label-Free Proteomics Workflow",
          "Installation"
        ],
        "type": "Text_excerpt",
        "value": "Sorry for potentially unclear and/or amateurish installation instructions for Ubuntu\n\nThe following steps have to be done using the terminal:\n\n```t\nsudo apt-get update\nsudo apt-get install r-base\nsudo apt install build-essential libcurl4-gnutls-dev libxml2-dev libssl-dev libgit2-dev libv8-dev\nsudo apt-get install r-base-dev default-jdk\n```\n\nOpen R in administrator mode:\n\n```t\nsudo -i R\n```\n\nIn the R console trigger installation of R packages:\n\n```r\ninstall.packages('devtools')\ndevtools::install_github(\"mathiaskalxdorf/IceR\")\n```\n\nIf successful, close and restart R (not in administrator mode):\n\n```t\nR\n```\n\n... and try running IceR:\n\n```r\nlibrary(IceR)\nrunIceR()\n```\n\nProteoWizard and its related msCovert is currently (to my knowledge) not available for Ubuntu. Hence, processing of TIMS-ToF pro data is currently not supported on Ubuntu. In case of Thermo MS data, the conversion into required mzXML files using msConvert can not be triggered automatically but have to be manually converted. Resulting mzXML files have to be manually located in the folder \"mzXML\" within the same folder which contains the raw files.\n"
      },
      "source": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "macOS",
        "parent_header": [
          "IceR - Quantitative Label-Free Proteomics Workflow",
          "Installation"
        ],
        "type": "Text_excerpt",
        "value": "Sorry for potentially unclear and/or amateurish installation instructions for macOS.\n\nThe following installations are required for macOS:\n\n - [R](https://cran.r-project.org/bin/macosx/) (Version 4.0.4)\n - [RStudio](https://rstudio.com/products/rstudio/download/)\n \nIn case of macOS (tested for macOS Big Sur 11.1.0) it is important to install and use RStudio as currently a bug in tctlk package prevents IceR from running properly when started directly from R console (tested for R 4.0.4).\n\nFurthermore, please check that a latest version of [Java](https://www.java.com/de/download/) is installed.\n\nIn case of macOS, we additionally have to install [XQuartz](https://www.xquartz.org/)\n\nStart RStudio in administrator/superuser mode and install IceR from GitHub using devtools:\n\n\n```r\ninstall.packages('devtools')\ndevtools::install_github(\"mathiaskalxdorf/IceR\")\n```\n\nIf an error occurs while installing package utf8, please follow the displayed instructions.\n\nIf installation worked successfully, try running IceR:\n\n```r\nlibrary(IceR)\nrunIceR()\n```\n\nProteoWizard and its related msCovert is currently (to my knowledge) not available for macOS. Hence, processing of TIMS-ToF pro data is currently not supported on macOS. In case of Thermo MS data, the conversion into required mzXML files using msConvert can not be triggered automatically but have to be manually converted. Resulting mzXML files have to be manually located in the folder \"mzXML\" within the same folder which contains the raw files.\n"
      },
      "source": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR/master/README.md",
      "technique": "header_analysis"
    }
  ],
  "invocation": [
    {
      "confidence": 0.815686945065471,
      "result": {
        "original_header": "IceR - Quantitative Label-Free Proteomics Workflow",
        "type": "Text_excerpt",
        "value": "<p align=\"center\"> \n<img src=\"images/IceR.jpg\" style=\"width: 50%; height: 50%\"/>\n</p>\n \n"
      },
      "source": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR/master/README.md",
      "technique": "supervised_classification"
    }
  ],
  "issue_tracker": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/mathiaskalxdorf/IceR/issues"
      },
      "technique": "GitHub_API"
    }
  ],
  "keywords": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": ""
      },
      "technique": "GitHub_API"
    }
  ],
  "logo": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR//master/images/IceR.jpg"
      },
      "source": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR/master/README.md",
      "technique": "regular_expression"
    }
  ],
  "name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "IceR"
      },
      "technique": "GitHub_API"
    }
  ],
  "owner": [
    {
      "confidence": 1,
      "result": {
        "type": "User",
        "value": "mathiaskalxdorf"
      },
      "technique": "GitHub_API"
    }
  ],
  "programming_languages": [
    {
      "confidence": 1,
      "result": {
        "name": "R",
        "size": 588942,
        "type": "Programming_language",
        "value": "R"
      },
      "technique": "GitHub_API"
    }
  ],
  "readme_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR/master/README.md"
      },
      "technique": "file_exploration"
    }
  ],
  "releases": [
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "mathiaskalxdorf",
          "type": "User"
        },
        "date_created": "2022-09-30T17:57:17Z",
        "date_published": "2022-09-30T18:27:16Z",
        "description": "New version using timsr for increased speed during timstof pro raw data preparation",
        "html_url": "https://github.com/mathiaskalxdorf/IceR/releases/tag/1.3.0",
        "name": "IceR V1.3.0",
        "release_id": 78723757,
        "tag": "1.3.0",
        "tarball_url": "https://api.github.com/repos/mathiaskalxdorf/IceR/tarball/1.3.0",
        "type": "Release",
        "url": "https://api.github.com/repos/mathiaskalxdorf/IceR/releases/78723757",
        "value": "https://api.github.com/repos/mathiaskalxdorf/IceR/releases/78723757",
        "zipball_url": "https://api.github.com/repos/mathiaskalxdorf/IceR/zipball/1.3.0"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "mathiaskalxdorf",
          "type": "User"
        },
        "date_created": "2021-03-29T05:46:26Z",
        "date_published": "2021-03-29T05:51:53Z",
        "description": "Final stable release V0.9.9",
        "html_url": "https://github.com/mathiaskalxdorf/IceR/releases/tag/0.9.9",
        "name": "IceR V0.9.9",
        "release_id": 40614530,
        "tag": "0.9.9",
        "tarball_url": "https://api.github.com/repos/mathiaskalxdorf/IceR/tarball/0.9.9",
        "type": "Release",
        "url": "https://api.github.com/repos/mathiaskalxdorf/IceR/releases/40614530",
        "value": "https://api.github.com/repos/mathiaskalxdorf/IceR/releases/40614530",
        "zipball_url": "https://api.github.com/repos/mathiaskalxdorf/IceR/zipball/0.9.9"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "mathiaskalxdorf",
          "type": "User"
        },
        "date_created": "2021-03-15T07:55:32Z",
        "date_published": "2021-03-29T06:02:17Z",
        "description": "Pre-release of IceR enabling processing of SILAC data.",
        "html_url": "https://github.com/mathiaskalxdorf/IceR/releases/tag/1.1.0",
        "name": "IceR V1.1.0",
        "release_id": 40614818,
        "tag": "1.1.0",
        "tarball_url": "https://api.github.com/repos/mathiaskalxdorf/IceR/tarball/1.1.0",
        "type": "Release",
        "url": "https://api.github.com/repos/mathiaskalxdorf/IceR/releases/40614818",
        "value": "https://api.github.com/repos/mathiaskalxdorf/IceR/releases/40614818",
        "zipball_url": "https://api.github.com/repos/mathiaskalxdorf/IceR/zipball/1.1.0"
      },
      "technique": "GitHub_API"
    }
  ],
  "requirements": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Prerequisites",
        "parent_header": [
          "IceR - Quantitative Label-Free Proteomics Workflow"
        ],
        "type": "Text_excerpt",
        "value": "IceR was so far tested on Windows 10, Ubuntu 20.04.1, and macOS 11.1.0.\n\nThe current version of IceR requires raw MS files (from Thermo Mass Spectrometers or from Bruker TIMS-ToF pro) to be preprocessed with MaxQuant (tested for Versions 1.5.1.2, 1.6.12 and 1.6.14, versions in between should work as well). \n\nImportant notes: \n\n - File paths and files should, if possible, not contain blank spaces.\n - File paths and files should not contain special letters like e.g. any of the following: !\"\u00a7$%&/()=?#*~+-,.\n - Fasta file should be parsed correctly. In this case the column \"Gene names\" can be found in the proteinGroups.txt.\n - IceR was yet only tested for the analysis of single-shot sample data but not for fractionated sample data.\n \nRaw Orbitrap files are required in the mzXML format and raw TIMS-ToF data has to be converted into a readable format. If msconvert from ProteoWizard is installed (Windows-only), IceR triggers conversion automatically. Otherwise, the user has to place the converted files in the folder \"mzXML\" in case of Orbitrap data within the folder containing the raw files. Conversion of Bruker TIMS-ToF pro data is currently only possible if msConvert is installed. \n\nGenerally, the more ressources are available the faster the data analysis can be performed. Still, IceR can run reasonably well even on a normal PC/Laptop. However, in case of TIMS-ToF data a potent machine will be required due to the huge file sizes. Here it is recommended to at least allocate 128 gb of RAM to enable at maximum 3 samples to be processed in parallel. Furthermore, TIMS-ToF raw data currently has to be converted (automatically triggered by IceR, requires msConvert to be installed) into a readable format which requires several hours per sample and at least 50 gb of space on the machines home drive. A future version of IceR will implement a faster conversion method.\n"
      },
      "source": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR/master/README.md",
      "technique": "header_analysis"
    }
  ],
  "somef_missing_categories": [
    "citation",
    "acknowledgement",
    "run",
    "download",
    "contact",
    "contributors",
    "documentation",
    "license",
    "faq",
    "support",
    "identifier",
    "has_build_file",
    "executable_example"
  ],
  "somef_provenance": {
    "date": "2024-10-06 15:17:00",
    "somef_schema_version": "1.0.0",
    "somef_version": "0.9.5"
  },
  "stargazers_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 14
      },
      "technique": "GitHub_API"
    }
  ],
  "usage": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Example (Windows 10)",
        "parent_header": [
          "IceR - Quantitative Label-Free Proteomics Workflow"
        ],
        "type": "Text_excerpt",
        "value": "For this example, we will require [ProteoWizard](http://proteowizard.sourceforge.net/download.html) to be installed as raw files will have to be converted.\n\nThe example data set is stored [here](https://drive.google.com/drive/folders/1te8awhyliY4vKCCxjUdwJNJD_YlYjHJf?usp=sharing).\n\nPlease download the raw files and (to speed things up) the corresponding MaxQuant results. This example data set consists of 4 tool MS files representing 2 replicates of human lysate spiked with 3 % E. coli lysate and 2 replicates of human lysate spiked with 9 % E. coli lysate. This data was acquired on a Q-Exactive HF machine. Supplied MaxQuant results were generated using MaxQuant V1.5.1.2. Used search database from UniProt is supplied.\n\nAfter running ...\n```r\nlibrary(IceR)\nrunIceR()\n```\n... the GUI opens.\n<p align=\"center\"> \n<img src=\"images/IceR_gui.jpg\" style=\"width: 50%; height: 50%\"/>\n</p>\n\nIt allows setting up the IceR run. Among others, the following parameters can be modified:\n\n - Paths to raw files, MaxQuant results files and IceR output folder\n - MassSpec Mode switching between Orbitrap and TIMS-ToF data (with or without using TIMS dimension)\n - Minimal retention (RT) and m/z feature alignment windows\n - Kernel density estimation (KDE) resolution (grid points per dimension, increasing resolution increases computation workload but also increases resolution of peak detections) \n - Number of threads to be used during IceR workflow (please check on your system specifications. Should not be higher than numbers of samples to be analyzed. Number of threads should be also adapted to available RAM. In case of TIMS-ToF data, a single 2h gradient acquisition run will require ~ 40 gb of RAM, hence, number of threads will be automatically limited in this case to 3 parallel threads)\n\nWe can keep all settings at default but reduce number of threads to 4. \n\nPlease specify the path to the downloaded raw files and MaxQuant results by clicking on the respective \"Choose directory\" buttons. Similarly, please specify a folder where IceR results should be stored.\n\nAfter clicking on \"Run\", the IceR workflow will start. A detailed description of the individual steps can be found in the original publication [IceR](https://www.biorxiv.org/content/10.1101/2020.11.01.363101v1.full)\n\nA recent computational system should be able to complete the IceR workflow for the example data set within 2 - 3 hours.\n\nWhen IceR finished, some quality control plots for the alignment and quantification can be visualized by clicking on the tap \"QC\" and subsequently on the respective button:\n\n<p align=\"center\"> \n<img src=\"images/IceR_gui_QC_alignment.jpg\" style=\"width: 50%; height: 50%\"/>\n</p>\n\n<p align=\"center\"> \n<img src=\"images/IceR_gui_QC_quantification.jpg\" style=\"width: 50%; height: 50%\"/>\n</p>\n\nSubsequently, we can investigate results in more detail and compare results to MaxQuant outputs.\n\nWe need 3 additional R-packages to be installed for the following steps.\n```{r}\ninstall.packages(\"BiocManager\")\nBiocManager::install(c(\"PECA\",\"limma\",\"vsn\"))\n```\nNow we load IceR library.\n```{r}\nlibrary(IceR)\n```\n\nNext, we load IceR and MaxQ data using the respective functions supplyed by the IceR package. A file-choose box will open to specify the location of the respective data. \n\n```{r}\nIceR <- load_Requant_data()\nMaxQ <- load_MaxQ_data()\n```\nAdd annotation information to both data sets. The first two samples correspond to two replicates of 3 % E.coli lysate spiked into constant human background. The second two samples correspond to 9 % E.coli spike-in conditions.\n```{r}\nanno <- data.frame(Spike = c(3,3,9,9))\nIceR <- add_annotations(IceR,anno)\nMaxQ <- add_annotations(MaxQ,anno)\n```\nNext, perform median normalization of protein- and peptide-level data based on background proteome (human proteins).\n```{r}\nIceR$Protein_level$Quant_data_norm <- normalize_data(IceR$Protein_level$Quant_data,method = \"median\",main = \"IceR - Protein-level data\",norm_on_subset = which(IceR$Protein_level$Meta_data$Organism == \"Homo sapiens\"))\nIceR$Peptide_level$Quant_data_norm <- normalize_data(IceR$Peptide_level$Quant_data,method = \"median\",main = \"IceR - Peptide-level data\",norm_on_subset = which(IceR$Peptide_level$Meta_data$Organism == \"Homo sapiens\"))\nMaxQ$Protein_level$Quant_data_norm <- normalize_data(MaxQ$Protein_level$Quant_data,method = \"median\",main = \"MaxQ - Protein-level data\",norm_on_subset = which(MaxQ$Protein_level$Meta_data$Organism == \"Homo sapiens\"))\nMaxQ$Peptide_level$Quant_data_norm <- normalize_data(MaxQ$Peptide_level$Quant_data,method = \"median\",main = \"MaxQ - Peptide-level data\",norm_on_subset = which(MaxQ$Peptide_level$Meta_data$Organism == \"Homo sapiens\"))\n```\n<p align=\"center\"> \n<img src=\"images/Normalization.jpg\" style=\"width: 50%; height: 50%\"/>\n</p>\n\nWe continue with a look on general numbers per data set.\n```{r}\nMaxQ <- determine_general_numbers(MaxQ)\nIceR <- determine_general_numbers(IceR)\n\ncompare_general_numbers(list(MaxQ=MaxQ,IceR=IceR),colors = c(\"darkgrey\",\"chocolate2\"))\n```\n<p align=\"center\"> \n<img src=\"images/General_numbers.jpg\" style=\"width: 50%; height: 50%\"/>\n</p>\n\nWe see a clear reduction of missing values.\n\nCheck CVs of quantification in both data sets.\n```{r}\nplot_accuracy(list(MaxQ=MaxQ,IceR=IceR),inset = c(0,0),Legendpos = \"topright\",colors = c(\"chocolate2\",\"darkgrey\"))\n```\n<p align=\"center\"> \n<img src=\"images/CV_quant.jpg\" style=\"width: 50%; height: 50%\"/>\n</p>\n\nWe see similar CVs in MaxQuant and IceR data, however, more data points are available especially on peptide level in case of IceR data.\n\nFinally, we perform differential expression (DE) analysis. Perform DE on protein-level in case of MaxQ data and on peptide-level (using PECA) in case of IceR data to make use of the highly increased amount of available data for IceR results. As IceR robustly infers protein abundances e.g. using the MaxLFQ algorithm, DE analyses could be of course also performed on protein-level.\n\n```{r}\nDE_MaxQ <- LIMMA_analysis(MaxQ$Protein_level$Quant_data_norm,assignments = MaxQ$Annotations$Spike,contrast = \"9_vs_3\")\nDE_IceR <- PECA_analysis(IceR$Peptide_level$Quant_data_norm,ids = IceR$Peptide_level$Meta_data$Gene_name,anno = IceR$Annotations$Spike,group1_name = \"9\",group2_name = \"3\")\n```\n\nNow plot Volcano plots with significance cutoffs (dashed black lines) at adj.pval < 0.05 and abs. logfc >= 1. Shape data points based on organism. Indicate true ratio (dashed red line). Add barchart representing number of detected true positives and false positives.\n\n```{r}\nplot(DE_MaxQ$logFC,-log10(DE_MaxQ$P.Value),xlab=\"Ratio, log2\",ylab=\"-log10 pval\",main=\"MaxQ - 9 % vs 3 % spike-in\",col=ifelse(abs(DE_MaxQ$logFC)>=1 & DE_MaxQ$adj.P.Val < 0.05,\"red\",\"black\"),pch=ifelse(rownames(DE_MaxQ) != toupper(rownames(DE_MaxQ)),19,1),xlim=c(-3,3))\nabline(h=-log10(0.05),lty=2)\nabline(v=1,lty=2)\nabline(v=-1,lty=2)\nabline(v=log2(9/3),lty=3,col=\"red\")\nlegend(\"top\",legend = c(\"significant\",\"not significant\",\"Spiked\",\"Background\"),title = \"Legend\",col=c(\"red\",\"black\",\"black\",\"black\"),pch=c(15,15,19,1))\n\nplot(DE_IceR$logFC,-log10(DE_IceR$P.Value),xlab=\"Ratio, log2\",ylab=\"-log10 pval\",main=\"IceR - 9 % vs 3 % spike-in\",col=ifelse(abs(DE_IceR$logFC)>=1 & DE_IceR$adj.P.Val < 0.05,\"red\",\"black\"),pch=ifelse(rownames(DE_IceR) != toupper(rownames(DE_IceR)),19,1),xlim=c(-4,4))\nabline(h=-log10(0.05),lty=2)\nabline(v=1,lty=2)\nabline(v=-1,lty=2)\nabline(v=log2(9/3),lty=3,col=\"red\")\nlegend(\"top\",legend = c(\"significant\",\"not significant\",\"Spiked\",\"Background\"),title = \"Legend\",col=c(\"red\",\"black\",\"black\",\"black\"),pch=c(15,15,19,1))\n\nMaxQ_TP <- length(which(DE_MaxQ$logFC>=1 & DE_MaxQ$adj.P.Val < 0.05 & rownames(DE_MaxQ) != toupper(rownames(DE_MaxQ))))\nMaxQ_FP <- length(which(abs(DE_MaxQ$logFC)>=1 & DE_MaxQ$adj.P.Val < 0.05 & rownames(DE_MaxQ) == toupper(rownames(DE_MaxQ))))\nIceR_TP <- length(which(DE_IceR$logFC>=1 & DE_IceR$adj.P.Val < 0.05 & rownames(DE_IceR) != toupper(rownames(DE_IceR))))\nIceR_FP <- length(which(abs(DE_IceR$logFC)>=1 & DE_IceR$adj.P.Val < 0.05 & rownames(DE_IceR) == toupper(rownames(DE_IceR))))\nplot_Data <- data.frame(MaxQ=c(MaxQ_TP,MaxQ_FP),IceR=c(IceR_TP,IceR_FP))\np <- Barplotsstacked(plot_Data,AvgLine = F,col=c(\"lightblue\",\"grey\"),margins = c(4,4,4,12),Legends = c(\"true positives\",\"false positives\"),Legendpos = \"top\",inset = c(0,0),main=\"Comparison of DE results\",ylab=\"Count\")\n```\n\n<p align=\"center\"> \n<img src=\"images/DE_results.jpg\" style=\"width: 100%; height: 100%\"/>\n</p>\n\nWe see an increase in true positives by +17 % in case of the IceR analysis. Number of false positives is comparable.\n\n"
      },
      "source": "https://raw.githubusercontent.com/mathiaskalxdorf/IceR/master/README.md",
      "technique": "header_analysis"
    }
  ]
}