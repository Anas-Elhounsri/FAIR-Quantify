{
  "acknowledgement": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Acknowledgements",
        "type": "Text_excerpt",
        "value": "Thanks a lot to Anna Turbelin for her help in correcting mistakes in\nthis tutorial, and to Phillip Haubrock for agreeing to be the \u201cGuinea\npig\u201d of various test versions of the invacost R package!\n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "header_analysis"
    }
  ],
  "citation": [
    {
      "confidence": 1,
      "result": {
        "format": "bibtex",
        "type": "File_dump",
        "value": "citHeader(\"To cite invacost in publications use:\")\n\nbibentry(bibtype = \"Article\",\n         title        = \"Analysing economic costs of invasive alien species with the invacost R package.\",\n         author       = c(\"Boris Leroy\",\n                          \"Andrew M Kramer\",\n                          \"Anne-Charlotte Vaissi\u00e8re\",\n                          \"Melina Kourantidou\",\n                          \"Franck Courchamp\",\n                          \"Christophe Diagne\"),\n         journal      = \"Methods in Ecology and Evolution\",\n         year         = \"2022\",\n         volume       = \"13\",\n         number       = \"9\",\n         pages        = \"1930-1937\",\n         url          = \"https://doi.org/10.1111/2041-210X.13929\"\n)"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/inst/CITATION",
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Citation",
        "type": "Text_excerpt",
        "value": "If you found the package and/or the tutorial useful, please do not\nhesitate to cite the package (in addition to the papers) as an\nacknowledgement for the time spent in writing the package and this\ntutorial. Like all R packages, to know how to cite it, type:\n\n``` r\ncitation(\"invacost\")\n```\n\n    ## \n    ## To cite invacost in publications use:\n    ## \n    ##   Leroy Boris, Kramer Andrew M, Vaissi\u00e8re Anne-Charlotte, Kourantidou\n    ##   Melina Courchamp Franck & Diagne Christophe (2022). Analysing\n    ##   economic costs of invasive alien species with the invacost R package.\n    ##   Methods in Ecology and Evolution 13(9), 1930-1937\n    ##   https://doi.org/10.1111/2041-210X.13929\n    ## \n    ## Une entr\u00e9e BibTeX pour les utilisateurs LaTeX est\n    ## \n    ##   @Article{,\n    ##     title = {Analysing economic costs of invasive alien species with the invacost R package.},\n    ##     author = {Boris Leroy and Andrew M Kramer and Anne-Charlotte Vaissi\u00e8re and Melina Kourantidou and Franck Courchamp and Christophe Diagne},\n    ##     journal = {Methods in Ecology and Evolution},\n    ##     year = {2022},\n    ##     volume = {13},\n    ##     number = {9},\n    ##     pages = {1930-1937},\n    ##     url = {https://doi.org/10.1111/2041-210X.13929},\n    ##   }\n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "header_analysis"
    }
  ],
  "code_repository": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/Farewe/invacost"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_created": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2019-11-27T17:07:55Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_updated": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2024-08-30T03:19:57Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "description": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Introduction",
        "type": "Text_excerpt",
        "value": "The invacost R package provides the InvaCost database in R with several\nfunctions to analyse monetary costs of invasive species.\n\nThere are two main methods developed in this package to estimate the\ncosts associated to biological invasions.\n\n- *Approach based on available estimates*: the first approach consists\n  in using cost estimates, as they appear in the collected materials,\n  that occurred over specific intervals of time. From this approach you\n  can obtain the cumulative and average annual costs of biological\n  invasions for different time intervals.  \n  This approach is generalisable to any subset of the InvaCost database,\n  regardless of data quantity. However, it does not account for the\n  temporal dynamics of costs, and may thus underestimate the costs of\n  invasions, especially for recent years for which we likely have\n  incomplete data.\n\n- *Modelling approach*: the second approach consists in **estimating**\n  the long-term trend in annual cost values with a statistical modelling\n  approach. Because it includes the dynamic nature of cost values, it is\n  probably the most robust approach to estimate average annual costs.\n  However, it requires more data and for data-poor cases it will not\n  work or provide inadequate results. We fit several models because the\n  trend of costs over time is not necessarily linear. This approach\n  requires decisions about models to keep or remove, on the basis of the\n  quality of model fit, and/or of our *a priori* assumptions. Note that\n  this modelling approach is not designed for extrapolations because\n  there is no certainty that the underlying factors of costs will have\n  similar trends in the future.\n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Including model summary in your paper",
        "parent_header": [
          "Modelling approach: estimating the average annual cost of invasions"
        ],
        "type": "Text_excerpt",
        "value": "It may be difficult to report these vastly different model summaries in\nyour paper, so we have made a convenient function to summarize the\nimportant aspects of model summaries into a single table. You can then\nwrite this table as a CSV file for example, and format it to include in\nyour paper.\n\n<details>\n<summary>\n<b> Click here to see the pretty summary</b>\n</summary>\n\n``` r\nsummarized.summary <- prettySummary(global.trend)\n\nsummarized.summary\n```\n\n    ##                                               1                           2\n    ## 1     Ordinary Least Square regression - Linear                            \n    ## 2                                                                  Estimate\n    ## 3                                     Intercept           -101.150308960208\n    ## 4                                          Year          0.0527665525610601\n    ## 5                                                                          \n    ## 6                                                               Adjusted R\u00b2\n    ## 7                                                         0.746116829908515\n    ## 8                             _________________           _________________\n    ## 9  Ordinary Least Square regression - Quadratic                            \n    ## 10                                                                 Estimate\n    ## 11                                    Intercept           -3474.27788494414\n    ## 12                                         Year            3.43958478585112\n    ## 13                                                                         \n    ## 14                                                              Adjusted R\u00b2\n    ## 15                                                        0.767617998463832\n    ## 16                            _________________           _________________\n    ## 17                   Robust regression - Linear                            \n    ## 18                                                                 Estimate\n    ## 19                                    Intercept           -97.8924224482889\n    ## 20                                         Year          0.0511148066658185\n    ## 21                                                                         \n    ## 22                                                              Adjusted R\u00b2\n    ## 23                                                        0.760853788954423\n    ## 24                                                                         \n    ## 25                     Summary of model weights                            \n    ## 26                                                                      Min\n    ## 27                                                        0.335499022021999\n    ## 28                                                       Number of outliers\n    ## 29                                                                        0\n    ## 30                            _________________           _________________\n    ## 31                Robust regression - Quadratic                            \n    ## 32                                                                 Estimate\n    ## 33                                    Intercept           -3184.16167652699\n    ## 34                                         Year            3.15003560073983\n    ## 35                                                                         \n    ## 36                                                              Adjusted R\u00b2\n    ## 37                                                        0.801667183408142\n    ## 38                                                                         \n    ## 39                     Summary of model weights                            \n    ## 40                                                                      Min\n    ## 41                                                        0.177658959793101\n    ## 42                                                       Number of outliers\n    ## 43                                                                        0\n    ## 44                            _________________           _________________\n    ## 45     Multivariate Adaptive Regression Splines                            \n    ## 46                                                                         \n    ## 47                                                              (Intercept)\n    ## 48                                                             h(Year-2004)\n    ## 49                                                             h(2004-Year)\n    ## 50                                                             h(Year-2007)\n    ## 51                                                             h(Year-1998)\n    ## 52                                                             h(Year-1983)\n    ## 53                                                                         \n    ## 54                                                           Generalized R\u00b2\n    ## 55                                                        0.806032280438797\n    ## 56                                                                         \n    ## 57                               Variance model                            \n    ## 58                                                                 Estimate\n    ## 59                                    Intercept           0.168061555451942\n    ## 60                                    Intercept          0.0426171414162973\n    ## 61                                                                         \n    ## 62                                                    R\u00b2 for last iteration\n    ## 63                                                       0.0186096758012664\n    ## 64                            _________________           _________________\n    ## 65                  Generalized Additive Models                            \n    ## 66                      Parametric coefficients                            \n    ## 67                                                                 Estimate\n    ## 68                             Intercept (mean)            3.94611226991459\n    ## 69                               Intercept (sd)           -1.91376979204241\n    ## 70                                                                         \n    ## 71                                 Smooth terms                            \n    ## 72                                              Estimated degree of freedom\n    ## 73                                smooth (mean)            7.73639911703753\n    ## 74                                  smooth (sd)            4.93963852655895\n    ## 75                                                                         \n    ## 76                                                   Explained deviance (%)\n    ## 77                                                         96.0104294126275\n    ## 78                            _________________           _________________\n    ## 79                          Quantile regression                            \n    ## 80                                                Coefficients quantile 0.1\n    ## 81                                    Intercept            -93.225917163601\n    ## 82                                         Year          0.0485863617529972\n    ## 83                            _________________           _________________\n    ##                                  3                            4\n    ## 1                                                              \n    ## 2                   Standard error                      t value\n    ## 3                 15.1791457916757            -6.66376819541971\n    ## 4              0.00763118007061347             6.91459932445523\n    ## 5                                                              \n    ## 6                               R\u00b2                             \n    ## 7                0.751886901956048                             \n    ## 8                _________________            _________________\n    ## 9                                                              \n    ## 10                  Standard error                      t value\n    ## 11                1433.00281302652            -2.42447387636764\n    ## 12                1.43712087030103             2.39338587096759\n    ## 13                                                             \n    ## 14                              R\u00b2                             \n    ## 15               0.778180816715476                             \n    ## 16               _________________            _________________\n    ## 17                                                             \n    ## 18                  Standard error                      t value\n    ## 19                 9.1759858901569            -10.6683274822053\n    ## 20             0.00461678221685379             11.0715221695365\n    ## 21                                                             \n    ## 22                              R\u00b2                             \n    ## 23                0.76628893011455                             \n    ## 24                                                             \n    ## 25                                                             \n    ## 26                             25%                          50%\n    ## 27               0.895670436528713            0.956019699528369\n    ## 28                                                             \n    ## 29                                                             \n    ## 30               _________________            _________________\n    ## 31                                                             \n    ## 32                  Standard error                      t value\n    ## 33                1363.27362844504            -2.33567319875385\n    ## 34                1.36871457010139             2.30145544553272\n    ## 35                                                             \n    ## 36                              R\u00b2                             \n    ## 37               0.810682311435045                             \n    ## 38                                                             \n    ## 39                                                             \n    ## 40                             25%                          50%\n    ## 41                0.88634816123236            0.959271809231269\n    ## 42                                                             \n    ## 43                                                             \n    ## 44               _________________            _________________\n    ## 45                                                             \n    ## 46                     log10(cost)                             \n    ## 47                5.65126924403362                             \n    ## 48              -0.571982482897516                             \n    ## 49              -0.093023338690205                             \n    ## 50               0.538819002464273                             \n    ## 51               0.205762521670089                             \n    ## 52             -0.0652015313579102                             \n    ## 53                                                             \n    ## 54                              R\u00b2 Generalized Cross-Validation\n    ## 55               0.884180431914902            0.126719461656006\n    ## 56                                                             \n    ## 57                                                             \n    ## 58 Standard error (last iteration) Standard error/coefficient %\n    ## 59               0.183529228880037             109.203576264959\n    ## 60              0.0471956063501824             110.743247392314\n    ## 61                                                             \n    ## 62                                                             \n    ## 63                                                             \n    ## 64               _________________            _________________\n    ## 65                                                             \n    ## 66                                                             \n    ## 67                  Standard error                      z value\n    ## 68              0.0423343998291378             93.2129021750905\n    ## 69               0.125012322835418            -15.3086491686259\n    ## 70                                                             \n    ## 71                                                             \n    ## 72      Residual degree of freedom                         Chi\u00b2\n    ## 73                8.39487487405042              709.75752477817\n    ## 74                5.77179891754859             44.9023870768453\n    ## 75                                                             \n    ## 76                                                             \n    ## 77                                                             \n    ## 78               _________________            _________________\n    ## 79                                                             \n    ## 80       Coefficients quantile 0.5    Coefficients quantile 0.9\n    ## 81               -97.4302440051591            -136.077903611359\n    ## 82              0.0508731406728786           0.0706267199892667\n    ## 83               _________________            _________________\n    ##                       5                 6\n    ## 1                                        \n    ## 2               p-value                  \n    ## 3  3.95619697838276e-08                  \n    ## 4  1.71083633805238e-08                  \n    ## 5                                        \n    ## 6                                        \n    ## 7                                        \n    ## 8     _________________ _________________\n    ## 9                                        \n    ## 10              p-value                  \n    ## 11   0.0197132375501187                  \n    ## 12   0.0212394090704008                  \n    ## 13                                       \n    ## 14                                       \n    ## 15                                       \n    ## 16    _________________ _________________\n    ## 17                                       \n    ## 18              p-value                  \n    ## 19 1.16827395366409e-13                  \n    ## 20 3.59444670091593e-14                  \n    ## 21                                       \n    ## 22                                       \n    ## 23                                       \n    ## 24                                       \n    ## 25                                       \n    ## 26                  75%               Max\n    ## 27     0.99464173225777 0.999854195759557\n    ## 28                                       \n    ## 29                                       \n    ## 30    _________________ _________________\n    ## 31                                       \n    ## 32              p-value                  \n    ## 33   0.0243578368219106                  \n    ## 34   0.0263953065497605                  \n    ## 35                                       \n    ## 36                                       \n    ## 37                                       \n    ## 38                                       \n    ## 39                                       \n    ## 40                  75%               Max\n    ## 41    0.982954510119562 0.999977209664879\n    ## 42                                       \n    ## 43                                       \n    ## 44    _________________ _________________\n    ## 45                                       \n    ## 46                                       \n    ## 47                                       \n    ## 48                                       \n    ## 49                                       \n    ## 50                                       \n    ## 51                                       \n    ## 52                                       \n    ## 53                                       \n    ## 54  Root Sum of Squares                  \n    ## 55     3.25528217054095                  \n    ## 56                                       \n    ## 57                                       \n    ## 58                                       \n    ## 59                                       \n    ## 60                                       \n    ## 61                                       \n    ## 62                                       \n    ## 63                                       \n    ## 64    _________________ _________________\n    ## 65                                       \n    ## 66                                       \n    ## 67              p-value                  \n    ## 68                    0                  \n    ## 69 6.69397903977677e-53                  \n    ## 70                                       \n    ## 71                                       \n    ## 72              p-value                  \n    ## 73                    0                  \n    ## 74                    0                  \n    ## 75                                       \n    ## 76                                       \n    ## 77                                       \n    ## 78    _________________ _________________\n    ## 79                                       \n    ## 80                                       \n    ## 81                                       \n    ## 82                                       \n    ## 83    _________________ _________________\n\n</details>\n\n## Customising graphs\n\nCustomising plots for the modelling approach similar to the approach\nbased on available estimates: there are two options.\n\n- The first one is to use the standard ggplot produced by the package\n  and adding things or changing parameters. This method is easy to\n  implement but you cannot change everything (e.g.\u00a0adjust the\n  colors/shapes of points is not possible). This is what we will see\n  here. See the help here: `?plot.invacost.costmodel`\n\n- The second one is to make your own ggplot from the output object. It\n  is more difficult to implement if you are not familiar with graphs in\n  R - but it will be fully customisable. [Take a look at the scripts\n  from our main\n  paper](http://borisleroy.com/invacost/global_invasion_costs_scripts.html)\n  to see how to that.\n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "header_analysis"
    },
    {
      "confidence": 0.981095363699725,
      "result": {
        "original_header": "The invacost R Package: Global Costs of Biological Invasions",
        "type": "Text_excerpt",
        "value": "- <a href=\"#introduction\" id=\"toc-introduction\">Introduction</a>\n- <a href=\"#acknowledgements\"\n  id=\"toc-acknowledgements\">Acknowledgements</a>\n- <a href=\"#installation\" id=\"toc-installation\">Installation</a>\n- <a href=\"#recent-changes\" id=\"toc-recent-changes\">Recent changes</a>\n- <a href=\"#basic-steps-to-get-started\"\n  id=\"toc-basic-steps-to-get-started\">Basic steps to get started</a>\n  - <a href=\"#how-to-load-the-data-in-r\"\n    id=\"toc-how-to-load-the-data-in-r\">How to load the data in R?</a>\n  - <a\n    href=\"#how-to-distinguish-between-invacost-v1-and-subsequent-versions\"\n    id=\"toc-how-to-distinguish-between-invacost-v1-and-subsequent-versions\">How\n    to distinguish between invacost v1 and subsequent versions?</a>\n  - <a href=\"#where-are-the-monetary-values-i-should-use\"\n    id=\"toc-where-are-the-monetary-values-i-should-use\">Where are the\n    monetary values I should use?</a>\n  - <a href=\"#how-do-we-filter-out-unreliable-costs\"\n    id=\"toc-how-do-we-filter-out-unreliable-costs\">How do we filter out\n    unreliable costs?</a>\n  - <a href=\"#costtime\" id=\"toc-costtime\">How do I know when costs\n    occurred?</a>\n  - <a href=\"#how-complete-are-our-monetary-data\"\n    id=\"toc-how-complete-are-our-monetary-data\">How complete are our\n    monetary data?</a>\n- <a\n  href=\"#approach-based-on-available-estimates-cumulative-and-average-costs-of-invasions\"\n  id=\"toc-approach-based-on-available-estimates-cumulative-and-average-costs-of-invasions\">Approach\n  based on available estimates: cumulative and average costs of\n  invasions</a>\n  - <a href=\"#basic-usage\" id=\"toc-basic-usage\">Basic usage</a>\n  - <a href=\"#customising-parameters\"\n    id=\"toc-customising-parameters\">Customising parameters</a>\n  - <a href=\"#customising-graphs\" id=\"toc-customising-graphs\">Customising\n    graphs</a>\n- <a\n  href=\"#modelling-approach-estimating-the-average-annual-cost-of-invasions\"\n  id=\"toc-modelling-approach-estimating-the-average-annual-cost-of-invasions\">Modelling\n  approach: estimating the average annual cost of invasions</a>\n  - <a href=\"#correction-for-data-incompleteness-due-to-publication-lag\"\n    id=\"toc-correction-for-data-incompleteness-due-to-publication-lag\">Correction\n    for data incompleteness due to publication lag</a>\n  - <a href=\"#assumptions\" id=\"toc-assumptions\">Assumptions</a>\n  - <a href=\"#models-included-in-the-ensemble-modelling\"\n    id=\"toc-models-included-in-the-ensemble-modelling\">Models included in\n    the ensemble modelling</a>\n  - <a href=\"#model-fitting\" id=\"toc-model-fitting\">Model fitting</a>\n  - <a href=\"#model-plotting\" id=\"toc-model-plotting\">Model plotting</a>\n  - <a href=\"#inspecting-model-outputs\"\n    id=\"toc-inspecting-model-outputs\">Inspecting model outputs</a>\n  - <a href=\"#how-to-evaluate-models\" id=\"toc-how-to-evaluate-models\">How to\n    evaluate models?</a>\n  - <a href=\"#including-model-summary-in-your-paper\"\n    id=\"toc-including-model-summary-in-your-paper\">Including model summary\n    in your paper</a>\n  - <a href=\"#customising-graphs-1\"\n    id=\"toc-customising-graphs-1\">Customising graphs</a>\n- <a href=\"#example-on-a-specific-subset-mammals-of-north-america\"\n  id=\"toc-example-on-a-specific-subset-mammals-of-north-america\">Example\n  on a specific subset: mammals of North America</a>\n- <a href=\"#example-on-many-subsets-all-taxaspecies-in-the-database\"\n  id=\"toc-example-on-many-subsets-all-taxaspecies-in-the-database\">Example\n  on many subsets: all taxa/species in the database</a>\n- <a href=\"#improving-the-package\"\n  id=\"toc-improving-the-package\">Improving the package</a>\n- <a href=\"#citation\" id=\"toc-citation\">Citation</a>\n \n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9261528114895275,
      "result": {
        "original_header": "Recent changes",
        "type": "Text_excerpt",
        "value": "- Updated to invacost *version 4.1*\n- Added new data integrity tests / checks in the package. These checks\n  were used to build invacost version 4.1. \n- *The main functions of the package have changed names.*\n  `calculateRawAvgCosts` is now `summarizeCosts`, and\n  `costTrendOverTime` is now `modelCosts`. Older function names are\n  still functional but will throw a warning, and will no longer be\n  updated. Please update your scripts accordingly. \n- *Default values in `summarizeCosts` (formerly `calculateRawAvgCosts`)\n  and `modelCosts` (formerly `costTrendOverTime`) have changed.* First,\n  the last year of analysis will, by default, be the last year of your\n  input data. Naturally, you can still define it manually. Second, by\n  default, `modelCosts` will no longer exclude data from calibration\n  (formerly, `costTrendOverTime` excluded by default data from 2015 and\n  above). If you wish to keep this threshold as in former versions of\n  the packages, you can still alter it by manually setting\n  `incomplete.year.threshold = 2015`. \n- A new function is available (`getInvaCostVersion`) to rollback the\n  database to former major releases. Current options are: `1.0`, `2.0`,\n  `2.1`, `3.0`, `4.0` & `4.1`. This is to ensure reproducibility of\n  analyses performed on former versions of the database. Naturally, any\n  new analysis should be done on the the latest version shipped with the\n  package (`data(invacost)`). \nFor more detailed information about version of the invacost R package,\nsee the file \u201cNEWS\u201d in the package files.\n \n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.8588497797314406,
      "result": {
        "original_header": "Customising parameters",
        "type": "Text_excerpt",
        "value": "- **beginning** (`minimum.year`) and **ending year** (`maximum.year`) of\n  the entire time period. For example in our analyses for the Nature\n  paper ([Diagne et\n  al.\u00a02021](https://doi.org/10.1038/s41586-021-03405-6)) we chose to\n  start in 1970, because data for the 1960s are scarce and uncertain.\n``` r\nobs.costs2 <- summarizeCosts(db.over.time,\n                             minimum.year = 1970,\n                             maximum.year = 2017)\n```\n \n    ## \n    ## Average annual cost of invasive species over time periods\n    ## \n    ## - Temporal interval of data : [1970, 2017]\n    ## - Values transformed in US$ million: Yes\n    ## - Number of cost estimates: 9138 (number of individual year values: 20238)\n    ## - Cost values in US$ millions:\n    ##     o Total cost over the entire period 2,033,235.51\n    ##     o Average annual cost over the entire period 42,359.07\n    ##     o Average annual cost over each period\n    ## \n    ##   initial_year final_year time_span   total_cost annual_cost number_estimates\n    ## 1         1970       1979        10     9,158.49      915.85               93\n    ## 2         1980       1989        10    57,527.22    5,752.72              258\n    ## 3         1990       1999        10   118,950.02   11,895.00              794\n    ## 4         2000       2009        10 1,366,308.76  136,630.88             2424\n    ## 5         2010       2017         8   481,291.02   60,161.38             6337\n    ##   number_year_values\n    ## 1                390\n    ## 2                864\n    ## 3               2165\n    ## 4               5891\n    ## 5              10928 \n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9267764015187405,
      "result": {
        "original_header": "Customising graphs",
        "type": "Text_excerpt",
        "value": "- The first one is to use the standard ggplot produced by the package\n  and adding things or changing parameters. This method is easy to\n  implement but you cannot change everything (e.g.\u00a0adjust the\n  colors/shapes of points is not possible). This is what we will see\n  here. See the help here: `?plot.invacost.costsummary` \n- The second one is to make your own ggplot from the output object. It\n  is more difficult to implement if you are not familiar with graphs in\n  R - but it will be fully customisable. [Take a look at the scripts\n  from our main\n  paper](http://borisleroy.com/invacost/global_invasion_costs_scripts.html)\n  to see how to that. \nYou see that when we specify `graphical.parameters = \"manual\"`, all the\ncosmetic choices we made in the function are removed. You can now choose\nthem by yourself; here is a starting point:\n``` r\n# Customize p1 now\np1 <- p1 +\n  xlab(\"Year\") + \n  ylab(\"Average annual cost of invasions in US$ millions\") +\n  scale_x_continuous(breaks = obs.costs$year.breaks) + # X axis breaks\n  theme_bw() + # Minimal theme\n  scale_y_log10(breaks = 10^(-15:15), # y axis in log 10 with pretty labels\n                labels = scales::comma) +\n  annotation_logticks(sides = \"l\") # log10 tick marks on y axis\n\n# Let's see how it goes\np1\n```\n \nYour turn to play with graphs now!\n \n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9701475252275474,
      "result": {
        "original_header": "Modelling approach: estimating the average annual cost of invasions",
        "type": "Text_excerpt",
        "value": "The second method we provide in the package consists in estimating the\nlong-term trend in annual cost with different modelling techniques. In\nother words, we fit a model to predict costs as a function of years.\nThen, we can inspect the different models and the shapes of cost trends\nover time, and grasp an idea of dynamics of invasion costs. \nThis approach requires more data than the approach based on available\nestimates and for data-poor cases it will not work or provide inadequate\nresults.\n \n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9389214169056685,
      "result": {
        "original_header": "Correction for data incompleteness due to publication lag",
        "type": "Text_excerpt",
        "value": "Because the average annual monetary cost of invasive species will be\ndetermined by the trend over time, we should consider applying a\ncorrection to \u2018incomplete\u2019 years. \nThis is no simple decision and your choice will have to be justified. \n- The first method consists in applying a threshold of incompleteness to\n  remove the most incomplete years. For example, remove from calibration\n  all years with \\< 75% of data; threshold = 7 years. \n- Another possibility includes weighting incomplete years to reduce\n  their importance in the estimation of average annual costs of\n  invasions. This approach can be justified if we do not want to\n  underestimate the average annual cost of invasions. However, be\n  advised that reviewers may disagree with your choices of weights, so\n  justify them carefully, and consider analysing the difference with /\n  without weights.\n \n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9595946360959908,
      "result": {
        "original_header": "Assumptions",
        "type": "Text_excerpt",
        "value": "As we fit several models based on different techniques, we suggest to\ndefine rules for deciding which model(s) should be finally considered. \n- statistical information about the quality of the fit: adequate error\n  estimations for models, sensitivity to outliers, the Root Mean Square\n  Error (RMSE - lower is generally better but it may also be indicative\n  of model overfitting), inspection of model terms and residuals \n- simplicity: for models with similar performance, we prefer the models\n  with less assumptions \n- a qualitative rationale on the probable shape of trends over time:\n  because of the exponential increase in the number of invasive species\n  globally (Seebens et al.\u00a02017), we expect the long-term temporal trend\n  over time to be either increasing or stabilising, but not decreasing.\n  Hence, we assume that a model describing a decreasing trend in recent\n  years (i.e., for years lower than the 75% completeness threshold)\n  would indicate an effect of the lack of data for recent years.\n \n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9386040745710906,
      "result": {
        "original_header": "Models included in the ensemble modelling",
        "type": "Text_excerpt",
        "value": "There are several models included in the function. All models are\ncalibrated with cost data as the response variable and time as\npredictive variable. Note that the monetary data have statistical issues\ntypical to *econometric* data: heteroskedasticity, temporal\nautocorrelation and outliers. Therefore, our choice of modelling methods\nwas driven by methods relatively robust to such issues. \n**Note: when using the package, please cite the individual model\npackages. Update citations with your package versions! To do that type\nfor example `citation(\"earth\")` in R** \n- **Ordinary least square regressions** (hereafter called OLS, R package\n  `stats`, function `lm`). OLS regressions are the classical regression\n  methods used in statistics. Coefficient estimates should be relatively\n  robust to heteroscedasticity & temporal autocorrelation but not to\n  outliers. However, error estimates need to be corrected, so we used\n  the Heteroskedasticity and Autocorrelation Consistent covariance\n  matrix estimations from the R package `sandwich` (Andrews 1991,\n  Zeileis 2004), and we used the function `coeftest` from package\n  `lmtest` (Zeileis & Hothorn 2004) to test for the significance of\n  estimates upon this corrected variance covariance matrix. We\n  implemented two OLS methods:\n  - **linear OLS regressions**\n  - **quadratic OLS regressions**\n- **Robust regressions** (R package `robustbase`, function `lmrob`,\n  Maechler et al.\u00a02020). We implemented MM-type regressions (hereafter\n  called robust regressions) based on iteratively reweighted least\n  squares since these types of regressions are less sensitive to\n  outliers than ordinary least square regressions (and we do have\n  outliers in InvaCost!) (Yohai 1987, Koller and Stahel 2011). In\n  addition, this method estimates standard errors robust to\n  heteroskedasticity and autocorrelation as described in Croux et\n  al.\u00a02003. *Thanks Andrew Kramer for this addition*. Likewise to OLS\n  regressions, we implemented two methods:\n  - **linear robust regressions**\n  - **quadratic robust regressions**\n- **Multivariate adaptive regression splines** (Multivariate Adaptive\n  Regression Splines, MARS, R package `earth`, function `earth`,\n  Milborrow 2018). The MARS model is a non-parametric regression method\n  which automatically models nonlinearities, using Generalized\n  Cross-Validation to avoid overfitting (Friedman 1991, Hastie et\n  al.\u00a02009). The default parameters are implemented in order to follow\n  Friedman\u2019s default, as described in [Milborrow\n  (2019a).](http://www.milbo.org/doc/earth-notes.pdf) We account for\n  heteroskedasticity by fitting a linear model on the residuals. This\n  linear model is fitted by Iteratively Reweighting Least Squares. Note,\n  however, that we have enough data to only approximately model\n  variance, as explained in [Milborrow\n  (2019b)](http://www.milbo.org/doc/earth-varmod.pdf). Therefore, MARS\n  models will have more uncertainty in the prediction intervals than in\n  the predictions themselves.\n- **Generalized additive models** (Generalized Additive Models, GAM, R\n  package `mgcv`, function `gam`, Wood et al.\u00a02016). GAM models are\n  automatic flexible statistical methods used to identify and\n  characterize nonlinear regression effects (Hastie et al.\u00a02009). The\n  GAM model will also show non-linear patterns in cost trends over time.\n  To account for heteroskedasticity, we used a location-scale method\n  which consists in fitting two GAMs, one for the average trend and one\n  for the standard deviation. We used a simple Gaussian location scale\n  family because, likewise to GAMs, we have enough data to only\n  approximately model variance.\n- **Quantile regressions** (R package `quantreg`, Koenker et al.\u00a02020).\n  Contrary to previous models, quantile regressions do not try to\n  estimate the average value, they estimate a specific quantile. In the\n  package we chose quantiles 0.1 (lower boundary of annual costs), 0.5\n  (median cost value) and 0.9 (upper boundary of annual costs). \nAndrews DWK (1991), Heteroskedasticity and Autocorrelation Consistent\nCovariance Matrix Estimation. *Econometrica*, *59*, 817\u2013858. \nCroux, C., Dhaene, G. and Hoorelbeke, D. (2003) Robust standard errors\nfor robust estimators, *Discussion Papers Series 03.16*, K.U. Leuven,\nCES. \nFriedman, J. H. (1991). \u201cMultivariate Adaptive Regression Splines\u201d. *The\nAnnals of Statistics.* *19* (1): 1\u201367. \nHastie T, Tibshirani R, Friedman J. (2009) The elements of statistical\nlearning: data mining, inference, and prediction. Springer, New York\nCity, USA \nKoenker, R. quantreg: Quantile Regression. R package version 5.61.\nAvailable at <http://CRAN.R-project.org/package=quantreg> (2020). \nKoller, M. and Stahel, W.A. (2011) Sharpening Wald-type inference in\nrobust regression for small samples. Computational *Statistics & Data\nAnalysis* *55*(8), 2504\u20132515 \nMaechler M, Rousseeuw P, Croux C, Todorov V, Ruckstuhl A,\nSalibian-Barrera M, Verbeke T, Koller M, Eduardo LT, Conceicao and di\nPalma MA (2020). robustbase: Basic Robust Statistics R package version\n0.93-6. URL <http://CRAN.R-project.org/package=robustbase> \nMilborrow S. (2019b) Variance models in earth. Vignettes of the R\npackage \u2018earth\u2019, <http://www.milbo.org/doc/earth-varmod.pdf> \nWood, S.N., N. Pya and B. Saefken (2016), Smoothing parameter and model\nselection for general smooth models. *Journal of the American\nStatistical Association* *111*, 1548-1575 \nYohai, V., Stahel, W.A. and Zamar, R. (1991) A procedure for robust\nestimation and inference in linear regression; in Stahel and Weisberg\n(eds), *Directions in Robust Statistics and Diagnostics, Part II*,\nSpringer, New York, 365\u2013374 \nZeileis A (2004). \u201cEconometric Computing with HC and HAC Covariance\nMatrix Estimators.\u201d *Journal of Statistical Software*, *11*(10), 1-17. \nPaying attention to the statistical robustness of the model is\nimportant. However, remember that even if we had found a model that has\nan ideal fit to the data, with no statistical violations whatsoever, we\nshould absolutely not consider the predictions as accurate values of the\nannual costs of IAS, because of the assumption that there is a\nsubstantial part of costs that have not been estimated or reported in\nInvaCost The usefulness of these models is to investigate whether the\ncosts are increasing, stabilizing, or decreasing, and how these trends\nchanged over time, and to have an idea of the order of magnitude of\nannual IAS costs depending on time. \nTherefore, remember that the major uncertainty we have on estimated cost\nvalues does not necessarily come from statistical robustness but rather\nfrom the unknown missing part of data. \nIt may not seem critical at this stage to have perfect statistics as\nlong as the different methods do converge in their results. This is the\ngeneral philosophy of fitting multiple models here, which is called an\nensemble modelling procedure: compare if different methods converge in\ntheir results, so we have confidence that the result we observe is not a\nstatistical artifact. \nNotwithstanding, we suggest to take time to carefully inspect your\nmodels, as we illustrate in the following sections.\n \n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.8984681794186592,
      "result": {
        "original_header": "Model fitting",
        "type": "Text_excerpt",
        "value": "- starting year (`minimum.year`): defaults to 1960\n- ending year (`maximum.year`): defaults to last year of the input data\n- cost transformation (`cost.transf`): by default, a log10\n  transformation will be applied\n- costs in millions (`in.millions`): by default, costs are transformed\n  in millions so numbers are easier to read\n- threshold (`incomplete.year.threshold`) and/or weights\n  (`incomplete.year.weights`) for incomplete years (nothing by default)\n- number of parameters for GAM (dimension basis `gam.k`) and MARS\n  (number of model terms `mars.nprune`). **We suggest you should not\n  alter these parameters, except if you have good reasons to change\n  them.** Notably, in some very rare cases, GAM models can compute\n  forever, in which case, try to define a small value for gam.k\n  (e.g.\u00a0start from 10 and reduce until the GAM fits).\n- the function will conveniently print the annual cost value estimated\n  by all models for a single year, usually the last year. You can change\n  this by defining `final.year` (defaults to last year of the input\n  data). Do not worry, values are estimated for all years, this is\n  mostly to provide a summary inspection in the console. \nIn following example we have decided to exclude the five most recent\nyears because they are likely to be the least complete years and they\nalso contain obvious outliers as you will see on the graphs. You could\nalso decide to manually exclude specific outliers by setting their\nweights to zero. \n    ## \n    ## Estimation of annual cost values of invasive alien species over time\n    ## \n    ## - Temporal interval of data: [1970, 2020]\n    ## - Temporal interval used for model calibration: [1970, 2014]\n    ## - Cost transformation: log10\n    ## - Values transformed in US$ million: Yes\n    ## - Estimated average annual cost of invasive alien species in 2020:\n    ## \n    ##    o Linear regression: \n    ##      . Linear: US$ million 274,237.73\n    ##      . Quadratic: US$ million 82,229.81\n    ##    o Robust regression: \n    ##      . Linear: US$ million 228,816.33\n    ##      . Quadratic: US$ million 73,186.53\n    ##    o Multiple Adapative Regression Splines: US$ million 415,446.75\n    ##    o Generalized Additive Model: US$ million 230,593.98\n    ##    o Quantile regression: \n    ##      . Quantile 0.1: US$ million 82,896.00\n    ##      . Quantile 0.5: US$ million 215,526.24\n    ##      . Quantile 0.9: US$ million 3,873,207.53\n    ## \n    ## You can inspect the summary of each fitted model with summary(object)\n \n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9007573745421348,
      "result": {
        "original_header": "Model plotting",
        "type": "Text_excerpt",
        "value": "We can now look at the shape of each model with the `plot` function,\nwhich uses ggplot2 internally in the invacost R package:\n``` r\nplot(global.trend)\n```\n \nWe can see that all models generally converged in their predictions,\nsuggesting that the global costs of biological invasions have increased\nover the past 50 years. Different models suggest different patterns, as\nillustrated by the linear vs.\u00a0quadratic models, the GAM and MARS models.\nThe trend illustrated by the MARS model is non-monotonous, suggesting a\ndecrease between 2000 and 2010. This apparent decrease provides insight\ninto our data. It may either indicate an actual decrease pattern in\nglobal invasion costs, an illustration of the high dispersion of costs\nafter 2000, or the incompleteness of data after 2000. Given our prior\nassumptions, we may hypothesise that the two latter hypotheses are more\nprobable than the former one. \n**Important.** Note that error bands for MARS are 95% prediction\nintervals, whereas for all other models they are 95% confidence\nintervals. Indeed, we cannot estimate confidence intervals for MARS\nmodels. \nQuantile regressions indicate a median (quantile 0.5) lower than the\nlinear regression, suggesting that most years have a lower-than-average\ncost of invasions, and a few years have very high costs. The 0.1 and 0.9\nquantiles have diverging trends, suggesting that the amplitude of costs\nincreases over time (more discrepancy between high-cost and low-cost\nyears). \n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9116296730285255,
      "result": {
        "original_header": "Inspecting model outputs",
        "type": "Text_excerpt",
        "value": "We can access the content of the output object with\n``` r\nstr(global.trend)\n```\n \n    ## List of 9\n    ##  $ cost.data             : tibble [51 \u00d7 4] (S3: tbl_df/tbl/data.frame)\n    ##  $ parameters            :List of 8\n    ##   ..$ cost.transformation      : chr \"log10\"\n    ##   ..$ incomplete.year.threshold: num 2015\n    ##   ..$ in.millions              : logi TRUE\n    ##   ..$ confidence.interval      : num 0.95\n    ##   ..$ minimum.year             : int 1970\n    ##   ..$ maximum.year             : int 2020\n    ##   ..$ final.year               : int 2020\n    ##   ..$ gam.k                    : num -1\n    ##  $ calibration.data      : tibble [45 \u00d7 4] (S3: tbl_df/tbl/data.frame)\n    ##  $ fitted.models         :List of 7\n    ##   ..$ ols.linear      :List of 12\n    ##   .. ..- attr(*, \"class\")= chr \"lm\"\n    ##   ..$ ols.quadratic   :List of 12\n    ##   .. ..- attr(*, \"class\")= chr \"lm\"\n    ##   ..$ robust.linear   :List of 22\n    ##   .. ..- attr(*, \"class\")= chr \"lmrob\"\n    ##   ..$ robust.quadratic:List of 22\n    ##   .. ..- attr(*, \"class\")= chr \"lmrob\"\n    ##   ..$ mars            :List of 39\n    ##   .. ..- attr(*, \"class\")= chr \"earth\"\n    ##   ..$ gam             :List of 57\n    ##   .. ..- attr(*, \"class\")= chr [1:3] \"gam\" \"glm\" \"lm\"\n    ##   ..$ quantile        :List of 3\n    ##  $ estimated.annual.costs:'data.frame':  459 obs. of  6 variables:\n    ##   ..$ model  : chr [1:459] \"OLS regression\" \"OLS regression\" \"OLS regression\" \"OLS regression\" ...\n    ##   ..$ Year   : int [1:459] 1970 1971 1972 1973 1974 1975 1976 1977 1978 1979 ...\n    ##   ..$ Details: chr [1:459] \"Linear\" \"Linear\" \"Linear\" \"Linear\" ...\n    ##   ..$ fit    : num [1:459] 631 712 804 908 1025 ...\n    ##   ..$ lwr    : num [1:459] 284 330 384 446 518 ...\n    ##   ..$ upr    : num [1:459] 1359 1435 1524 1628 1752 ...\n    ##  $ gam.predicted.variance:'data.frame':  51 obs. of  3 variables:\n    ##   ..$ fit: num [1:51] -2.09 -2.13 -2.17 -2.18 -2.17 ...\n    ##   ..$ lwr: num [1:51] -2.99 -2.89 -2.86 -2.87 -2.86 ...\n    ##   ..$ upr: num [1:51] -1.18 -1.37 -1.47 -1.5 -1.48 ...\n    ##  $ model.summary         :List of 9\n    ##   ..$ ols.linear      :List of 3\n    ##   ..$ ols.quadratic   :List of 3\n    ##   ..$ robust.linear   :List of 16\n    ##   .. ..- attr(*, \"class\")= chr \"summary.lmrob\"\n    ##   ..$ robust.quadratic:List of 16\n    ##   .. ..- attr(*, \"class\")= chr \"summary.lmrob\"\n    ##   ..$ mars            :List of 43\n    ##   .. ..- attr(*, \"class\")= chr [1:2] \"summary.earth\" \"earth\"\n    ##   ..$ gam             :List of 28\n    ##   .. ..- attr(*, \"class\")= chr \"summary.gam\"\n    ##   ..$ qt0.1           :List of 6\n    ##   .. ..- attr(*, \"class\")= chr \"summary.rq\"\n    ##   ..$ qt0.5           :List of 6\n    ##   .. ..- attr(*, \"class\")= chr \"summary.rq\"\n    ##   ..$ qt0.9           :List of 6\n    ##   .. ..- attr(*, \"class\")= chr \"summary.rq\"\n    ##   ..- attr(*, \"class\")= chr [1:2] \"invacost.modelsummary\" \"list\"\n    ##  $ RMSE                  : num [1:9, 1:2] 0.394 0.372 0.396 0.376 0.269 ...\n    ##   ..- attr(*, \"dimnames\")=List of 2\n    ##  $ final.year.cost       : Named num [1:9] 274238 82230 228816 73187 415447 ...\n    ##   ..- attr(*, \"names\")= chr [1:9] \"ols.linear\" \"ols.quadratic\" \"robust.linear\" \"robust.quadratic\" ...\n    ##  - attr(*, \"class\")= chr [1:2] \"invacost.costmodel\" \"list\" \n- `cost.data` contains total annual costs per year, upon which models\n  were fitted\n- `parameters` contains the parameters used to run the function\n- `fitted.models` contains all the objects of the fitted models. You can\n  access models individually from here, look at the parameters, etc.\n- `estimated.annual.costs` contains cost values predicted by all models\n  for each year, with confidence intervals\n- `gam.predicted.variance` contains the predicted variance values for\n  the location-scale GAM model\n- `model.summary` contains useful statistical information about models:\n  r-squared, adjusted r-squared, terms, significance, errors, etc.\n- `RMSE` contains the root mean square error of all models, both for the\n  calibration data only and for all data points\n- `final.year.cost` is the cost value predicted by models for\n  `final.year`\n \n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9743008398865282,
      "result": {
        "original_header": "How to evaluate models?",
        "type": "Text_excerpt",
        "value": "Overall, the MARS model provided a closer fit to data points than other\nmodels. **Remember that RMSE is irrelevant for quantile regression\nbecause it does not seek to fit the average trend.** \nHence, purely from a statistical point of view, we would tend to\nprioritize MARS models over other models. However, remember that the\nMARS model illustrated the uncertain behaviour of our data after 2000,\nand we may decide that, based on our a-priori assumptions, this is not\nthe most adequate model, and we will also include the other models (who\nall have similar RMSE) in our predictions. \nNow, some models may seem to have good fit but may not be significant.\nThis is highly critical especially for data-poor subsets of InvaCost To\nverify this, inspect the model summaries: \nThis is quite long because of the many models we fitted! Inspecting\nthese outputs requires some statistical knowledge, so do not hesitate to\nread the help files and papers mentioned in the **Models included**\nsection. \nIf we start reading from the top, we can see that for OLS regressions,\ncoefficients of the linear model are significant, but coefficients of\nthe quadratic model are not! So we should exclude this model from\nfurther analysis. \nLooking at robust regressions, coefficients seem significant for linear\nterms, whereas they could not be calculated for quadratic terms in our\nexample. The model outputs also indicate us that some outliers were\nfound in both cases (their weight was set to zero). This is useful if\nyour dataset has a lot of outliers! \nThe GAM output states that both the mean and sd model were significant.\nIt is more difficult to interpret GAMs solely based on this output, and\nyou should probably inspect model residuals visually etc. However,\nremember that we probably do not have enough data to fit adequate GAMs,\nso be cautious with the interpretation. \nThe MARS output illustrates the different hinge functions. We can see\nthe years that serve as \u201cbreaking\u201d point in the model, as well as the\ncoefficients of slopes after these years. It also shows the coefficients\nused to measure model performance, such as the Generalized\nCross-Validation (GCV) which is the residual sum of squares penalized by\nthe effective number of model parameters, or the GRSq, which is the R\u00b2\nnormalizing the GCV (i.e., the higher the GRSq, the better it is, and if\nyou have a negative GRSq, it is very bad news). For more information,\nsee sections 13.6 and 13.11 in the [earth\nnotes](http://www.milbo.org/doc/earth-notes.pdf).\n \n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.8702991576973823,
      "result": {
        "original_header": "Simple customisation",
        "type": "Text_excerpt",
        "value": "Remember that we found that the quadratic models were not significant or\nnot working properly in our examples? \n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.8910755019222254,
      "result": {
        "original_header": "Complex customisation",
        "type": "Text_excerpt",
        "value": "Likewise to the approach based on available estimates, if you want to\ncustomise ggplot parameters, you have to set\n`graphical.parameters = \"manual\"`.\n``` r\n# Store the plot in object p2 to customize it afterwards\np2 <- plot(global.trend,\n           graphical.parameters = \"manual\")\n```\n    ## Note that MARS error bands are prediction intervals and not confidence interval (see ?plot.invacost.costmodel)\n``` r\n# Show the graph in its initial state\np2\n```\n \nUgly isn\u2019t it? That\u2019s mostly because the y scale is not in log10 scale. \n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.8910936805592466,
      "result": {
        "original_header": "Improving the package",
        "type": "Text_excerpt",
        "value": "If something is not clear, or missing, or if you would like to request a\nfeature, please open an issue on [our GitHub\nrepository](https://github.com/Farewe/invacost/issues). \nHowever, remember that we need to find a good balance between\ngeneralisability and specificity: not enough parameters and users are\nnot happy; too many parameters and users are lost in the function usage.\nTherefore, if you have a very specific request that will not be useful\nto other users, do not hesitate to duplicate the source code and adapt\nthe function to your needs. On the contrary, if you think of a new thing\nthat could be beneficial to many users, please do not hesitate and\nbecome an official contributor to the package!\n \n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "supervised_classification"
    }
  ],
  "download_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/Farewe/invacost/releases"
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 6
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/Farewe/invacost/forks"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "Farewe/invacost"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_title": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "The invacost R Package: Global Costs of Biological Invasions"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "regular_expression"
    }
  ],
  "images": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/Farewe/invacost/master/./Readme_files/figure-html/reliability.png"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme_files/figure-gfm/lag1-1.png"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme_files/figure-gfm/raw3-1.png"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme_files/figure-gfm/raw3.-1.png"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme_files/figure-gfm/raw3..-1.png"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme_files/figure-gfm/raw4.1-1.png"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme_files/figure-gfm/raw5-1.png"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme_files/figure-gfm/raw5.1-1.png"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme_files/figure-gfm/raw5.2-1.png"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme_files/figure-gfm/raw5.3-1.png"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme_files/figure-gfm/models2-1.png"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme_files/figure-gfm/models5-1.png"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme_files/figure-gfm/models52-1.png"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme_files/figure-gfm/models6-1.png"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme_files/figure-gfm/models7-1.png"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme_files/figure-gfm/example1.4-1.png"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "regular_expression"
    }
  ],
  "installation": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Installation",
        "type": "Text_excerpt",
        "value": "**The package requires at least R 4.0.0.**\n\nThe package can now be officially installed from CRAN.\n\n``` r\n# install.packages(\"devtools\")\n# devtools::install_github(\"Farewe/invacost\")\ninstall.packages(\"invacost\")\n```\n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "header_analysis"
    },
    {
      "confidence": 0.9144191755908297,
      "result": {
        "original_header": "Recent changes",
        "type": "Text_excerpt",
        "value": "- Updated the database version in the package to *version 4.0*. \n- A new function is available (`getInvaCostVersion`) to rollback the\n  database to former major releases. Current options are: `1.0`, `2.0`,\n  `2.1`, `3.0`, `4.0` & `4.1`. This is to ensure reproducibility of\n  analyses performed on former versions of the database. Naturally, any\n  new analysis should be done on the the latest version shipped with the\n  package (`data(invacost)`). \n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9714552647528869,
      "result": {
        "original_header": "Models included in the ensemble modelling",
        "type": "Text_excerpt",
        "value": "Koenker, R. quantreg: Quantile Regression. R package version 5.61.\nAvailable at <http://CRAN.R-project.org/package=quantreg> (2020). \nMaechler M, Rousseeuw P, Croux C, Todorov V, Ruckstuhl A,\nSalibian-Barrera M, Verbeke T, Koller M, Eduardo LT, Conceicao and di\nPalma MA (2020). robustbase: Basic Robust Statistics R package version\n0.93-6. URL <http://CRAN.R-project.org/package=robustbase> \nMilborrow S. (2019a) Notes on earth package. Vignettes of the R package\n\u2018earth\u2019, <http://www.milbo.org/doc/earth-notes.pdf> \n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9995721398957069,
      "result": {
        "original_header": "Improving the package",
        "type": "Text_excerpt",
        "value": "If something is not clear, or missing, or if you would like to request a\nfeature, please open an issue on [our GitHub\nrepository](https://github.com/Farewe/invacost/issues). \n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "supervised_classification"
    }
  ],
  "issue_tracker": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/Farewe/invacost/issues"
      },
      "technique": "GitHub_API"
    }
  ],
  "keywords": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": ""
      },
      "technique": "GitHub_API"
    }
  ],
  "name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "invacost"
      },
      "technique": "GitHub_API"
    }
  ],
  "owner": [
    {
      "confidence": 1,
      "result": {
        "type": "User",
        "value": "Farewe"
      },
      "technique": "GitHub_API"
    }
  ],
  "programming_languages": [
    {
      "confidence": 1,
      "result": {
        "name": "R",
        "size": 183716,
        "type": "Programming_language",
        "value": "R"
      },
      "technique": "GitHub_API"
    }
  ],
  "readme_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd"
      },
      "technique": "file_exploration"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.md"
      },
      "technique": "file_exploration"
    }
  ],
  "releases": [
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "Farewe",
          "type": "User"
        },
        "date_created": "2022-04-08T10:01:33Z",
        "date_published": "2022-06-16T14:52:46Z",
        "description": "This release v1.1-4 corresponds to the version of the package at time of acceptance of the manuscript in *Methods in Ecology & Evolution*.",
        "html_url": "https://github.com/Farewe/invacost/releases/tag/v1.1-4",
        "name": "MEE-release",
        "release_id": 69628512,
        "tag": "v1.1-4",
        "tarball_url": "https://api.github.com/repos/Farewe/invacost/tarball/v1.1-4",
        "type": "Release",
        "url": "https://api.github.com/repos/Farewe/invacost/releases/69628512",
        "value": "https://api.github.com/repos/Farewe/invacost/releases/69628512",
        "zipball_url": "https://api.github.com/repos/Farewe/invacost/zipball/v1.1-4"
      },
      "technique": "GitHub_API"
    }
  ],
  "somef_missing_categories": [
    "run",
    "download",
    "requirements",
    "contact",
    "contributors",
    "documentation",
    "license",
    "faq",
    "support",
    "identifier",
    "has_build_file",
    "executable_example"
  ],
  "somef_provenance": {
    "date": "2024-10-06 14:56:18",
    "somef_schema_version": "1.0.0",
    "somef_version": "0.9.5"
  },
  "stargazers_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 7
      },
      "technique": "GitHub_API"
    }
  ],
  "type": [
    {
      "confidence": 0.82,
      "result": {
        "type": "String",
        "value": "commandline-application"
      },
      "technique": "software_type_heuristics"
    }
  ],
  "usage": [
    {
      "confidence": 1,
      "result": {
        "original_header": "How to load the data in R?",
        "parent_header": [
          "Basic steps to get started"
        ],
        "type": "Text_excerpt",
        "value": "``` r\nlibrary(invacost)\ndata(invacost)\n```\n\nThe database is now loaded in R memory under a very original name:\n`invacost`.\n\n``` r\n# Number of rows (cost estimates)\nnrow(invacost)\n```\n\n    ## [1] 13553\n\n``` r\n# Number of columns (database descriptors)\nncol(invacost)\n```\n\n    ## [1] 66\n\nThere are 66 columns in the INVACOST database, and I strongly recommend\nyou get familiarised with them by inspecting them individually and\nreading the \\[paper describing the database (and its fields) available\nhere\\] (<https://doi.org/10.1038/s41597-020-00586-z>). The updated\nversions of the database (and its fields) are stored in a [figShare\nrepository accessible\nhere](https://doi.org/10.6084/m9.figshare.12668570).\n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "How to distinguish between invacost v1 and subsequent versions?",
        "parent_header": [
          "Basic steps to get started"
        ],
        "type": "Text_excerpt",
        "value": "Since the first official release of InvaCost in 2019, there have been\nseveral major releases, some of which were internal, some of which were\npublic. To ensure reproducibility of analyses performed on older\nreleases, we provide a function in the database to fetch older releases.\nwe expect it will also help to understand how and why results may change\nwith new additions and corrections to this living database.\n\nAs of now, we offer the possibility to roll back to version 1.0, 2.0 and\n2.1.\n\n<details>\n<summary>\n<b>Click here</b> for an example on how to roll back to V1 or V2.1\n</summary>\n\n``` r\n# # Version 1.0\n# invacost_1.0 <- getInvaCostVersion(\"1.0\")\n# dim(invacost_1.0)\n# \n# # Version 2.1\n# invacost_2.1 <- getInvaCostVersion(\"2.1\")\n# dim(invacost_2.1)\n```\n\n</details>\n\nIf you want, the database can be automatically saved on your hard drive\nin csv format, by specifying a file name with argument\n`destination_file`.\n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Where are the monetary values I should use?",
        "parent_header": [
          "Basic steps to get started"
        ],
        "type": "Text_excerpt",
        "value": "There are several columns that contain monetary values (they generally\ncontain `cost` in their names). We stored raw information from the\npapers that is often difficult to compare because of different\ncurrencies, different years and different periods of time over which\ncosts or expenditure occurred (e.g.\u00a01 year vs 10 years). Therefore, **to\nbe able to choose which monetary values to use, you need to understand\nsome of the basic concepts about the conversion of monetary values**\n(raw costs or costs per year) into a standard currency (i.e. US\\$ for\nthe year 2017). **Hereafter, we explain the process and provide\nrecommendations on which monetary values to use.**\n\nThe conversion is based on two main steps. The first includes conversion\nof the cost estimates from local currencies to US\\$. The second includes\nconversion the cost estimate (previously converted to US\\$) from the\nyear it was estimated to 2017 US\\$.\n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Step 1: Currency conversion",
        "parent_header": [
          "Basic steps to get started",
          "Where are the monetary values I should use?"
        ],
        "type": "Text_excerpt",
        "value": "For the currency conversion step (from local currency to US\\$), it is\npossible to use two conversion factors:\n\n- [The official market exchange\n  rate](https://data.worldbank.org/indicator/PA.NUS.FCRF?end=2017&start=1960).\n\n- The Purchasing Power Parity (PPP, local currency unit per US\\$,\n  calculated as an annual average), that allows to take into account the\n  differences in price levels between countries. We used data provided\n  [by the World\n  Bank](https://data.worldbank.org/indicator/PA.NUS.PPP?end=2017&start=1990),\n  or [by the\n  OECD](https://data.oecd.org/conversion/purchasing-power-parities-ppp.htm)\n  when information was not retrievable through the World Bank database.\n  Occasionally, we had to deal with published costs that were expressed\n  in currency that was different from the country where the costs were\n  estimated (e.g. published cost in African countries expressed in US or\n  Canadian \\$). Thus, prior to using PPP as a conversion index, we had\n  to perform a retro-conversion by multiplying the original cost\n  estimate by the official market exchange rate (local currency unit per\n  currency unit used). Note that, it was not possible to perform the\n  PPP-based standardisation for all cost estimates as PPP data do not\n  exist for all countries and/or specific periods (we mentioned `NA` in\n  the database when such information was missing).\n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Step 2: Conversion of the year of currency",
        "parent_header": [
          "Basic steps to get started",
          "Where are the monetary values I should use?"
        ],
        "type": "Text_excerpt",
        "value": "For the **year of currency conversion step (from US\\$ from a given year\nto 2017 US\\$)**, we use an inflation factor that reflects the evolution\nof the value of the US\\$ since the year of cost estimation. The\ninflation factor is computed by dividing the [Consumer Price\nIndex](https://data.worldbank.org/indicator/FP.CPI.TOTL?end=2017&start=1960)\n(CPI, which is a measure of the average change over time in the prices\npaid by consumers for a market basket of consumer goods and services) of\nthe USA for 2017 by the CPI of the USA for the year of the cost\nestimation.\n\nThe standardization of the cost estimates into 2017 \\$US is thus a\nmulti-step procedure for which the following formula is used:\n**C<sub>e</sub> = (M<sub>V</sub> /C<sub>F</sub>) x I<sub>F</sub>**\n\nwith **C<sub>e</sub>** = Converted cost estimate (to 2017 US dollars\nbased on exchange rate or Purchase Power Parity), **M<sub>V</sub>** =\nCost estimate (either the `Raw_cost_estimate_original_currency`\nextracted from analysed paper or the\n`Cost_estimate_per_year_original_currency` transformed by us),\n**C<sub>F</sub>** = Conversion factor (either the official market\nexchange rate or the purchasing power parity, in US dollars),\n**I<sub>F</sub>** = Inflation factor since the year of cost estimation,\ncalculated as CPI<sub>2017</sub> / CPI<sub>y</sub> with CPI\ncorresponding to the Consumer Price Index and **y** corresponding to the\nyear of the cost estimation (`Applicable_year`).\n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Choosing monetary values in InvaCost",
        "parent_header": [
          "Basic steps to get started",
          "Where are the monetary values I should use?"
        ],
        "type": "Text_excerpt",
        "value": "In InvaCost, we provide several columns with monetary values expressed\nin 2017 USD based on the exchange rate or PPP - they contain either\n`exchange_rate` or `PPP` in their names.\n\n<table class=\"tg\">\n<thead>\n<tr>\n<th class=\"tg-0pky\">\n</th>\n<th class=\"tg-fymr\">\nPurchase Power Parity (PPP)\n</th>\n<th class=\"tg-fymr\">\nExchange Rate (ER)\n</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td class=\"tg-5pln\">\nDefinitions\n</td>\n<td class=\"tg-y698\">\n<a href=\"https://data.oecd.org/conversion/purchasing-power-parities-ppp.htm\" target=\"_blank\" rel=\"noopener noreferrer\">OECD\ndefinition of PPP</a>\n</td>\n<td class=\"tg-y698\">\n<a href=\"https://data.oecd.org/conversion/purchasing-power-parities-ppp.htm\" target=\"_blank\" rel=\"noopener noreferrer\">OECD\ndefinition of ER</a>\n</td>\n</tr>\n<tr>\n<td class=\"tg-jq0u\">\nUseful resources to choose between PPP and ER\n</td>\n<td class=\"tg-c6of\" colspan=\"2\">\n<a href=\"https://doi.org/10.1017/CBO9780511754159.005\" target=\"_blank\" rel=\"noopener noreferrer\">-\nSarno, L., Taylor, M., & Frankel, J. (2003). Purchasing power parity and\nthe real exchange rate</a>. In The Economics of Exchange Rates\n(pp.\u00a051-96). Cambridge: Cambridge University\nPress<br><a href=\"https://doi.org/10.1257/0895330042632744\" target=\"_blank\" rel=\"noopener noreferrer\">-\nTaylor, A. M., & Taylor, M. P. (2004). The purchasing power parity\ndebate.</a> Journal of economic perspectives, 18(4), 135-158. <br>-\n<a href=\"https://doi.org/10.1787/oecd_papers-v6-art9-en\" target=\"_blank\" rel=\"noopener noreferrer\">OECD.\n(2006). A Contribution to the \u201cPurchase Power Parity vs.\u00a0Market Exchange\nRates for Use in Long-Term Scenarios\u201d Discussion.</a> OECD papers,\n19pp.<br><a href=\"https://www.imf.org/external/pubs/ft/fandd/2007/03/basics.htm\" target=\"_blank\" rel=\"noopener noreferrer\">-\nCallen T. (2007) PPP Versus the Market: Which Weight Matters? Finance\nand Development 44:1\n</a><br><a href=\"https://www.worldbank.org/en/programs/icp/brief/VC_Uses\" target=\"_blank\" rel=\"noopener noreferrer\">-\nPPPs for policy making: a visual guide to using data from the ICP - Uses\nand limitations of\nPPPs</a><br><a href=\"https://doi.org/10.1596/978-1-4648-1530-0\" target=\"_blank\" rel=\"noopener noreferrer\">-\nWorld Bank. (2020) Purchasing Power Parities and the Size of World\nEconomies: Results from the 2017 International Comparison\nProgram.</a>Washington, DC: World\nBank.<br><a href=\"https://thedocs.worldbank.org/en/doc/872661487091786258-0050022017/original/19Chapter18.pdf\" target=\"_blank\" rel=\"noopener noreferrer\">-\nMcCarthy, P. (2013) Extrapolating PPPs and comparing ICP benchmark\nresults</a>. Measuring the Real Size of the World Economy, Chapter 18,\n473-506<br>\n</td>\n</tr>\n<tr>\n<td class=\"tg-5pln\">\nColumn to use in invacost\n</td>\n<td class=\"tg-qoao\">\n<span style=\"color:#905\">`Cost_estimate_per_year_2017_USD_PPP`</span>\n</td>\n<td class=\"tg-qoao\">\n<span\nstyle=\"color:#905\">`Cost_estimate_per_year_2017_USD_exchange_rate`</span>\n</td>\n</tr>\n<tr>\n<td class=\"tg-jq0u\">\nExamples\n</td>\n<td class=\"tg-c6of\">\nPPP are more robust when performing multiple-country comparisons, as\nlong as all the investigated countries have available PPP data (e.g.,\n<a href=\"https://doi.org/10.1038/s41467-020-15586-1\" target=\"_blank\" rel=\"noopener noreferrer\">Schaffner\net al.\u00a02020</a>)\n</td>\n<td class=\"tg-c6of\">\nTo analyse the economic impacts of invasive alien species at the global\nscale, the absence of PPP information for many countries and time\nperiods requires to rely on exchange rates (e.g.,\n<a href=\"https://doi.org/10.1038/s41586-021-03405-6\" target=\"_blank\" rel=\"noopener noreferrer\">Diagne\net al.\u00a02020</a>)\n</td>\n</tr>\n</tbody>\n</table>\n\nTherefore, because our objective here is to illustrate the costs of\nbiological invasions at the global scale, we will, onwards, in the\nsections that follow, use exclusively the column:\n`Cost_estimate_per_year_2017_USD_exchange_rate`.\n\nReplace the code with `Cost_estimate_per_year_2017_USD_PPP` if your\nstudy requires using Purchase Power Parity instead of Exchange Rates.\n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Filtering out estimates with missing information",
        "parent_header": [
          "Basic steps to get started",
          "Where are the monetary values I should use?"
        ],
        "type": "Text_excerpt",
        "value": "There is a small number of costs for which we could not derive these\nestimates (e.g.\u00a0studies that lacked useful information of the periods\nover which costs occurred), so we have to exclude them of our analyses.\n\n``` r\nif(any(is.na(invacost$Cost_estimate_per_year_2017_USD_exchange_rate)))\n{\n  invacost <- invacost[-which(is.na(invacost$Cost_estimate_per_year_2017_USD_exchange_rate)), ]\n}\n\n# Number of rows (cost estimates)\nnrow(invacost)\n```\n\n    ## [1] 13344\n\nIn addition, there can be costs for which we have **inadequate time\nperiod information**: some studies omitted to provide time periods,\nwhich can cause tremendous biases when analysing the temporal trends of\ncosts. Sometimes, this is not problematic as we can safely guess when\ncosts occurred (see section [How do I know when costs\noccurred](#costtime)). However, other times, costs spread over 10+ and\nsometimes 100+ years can be presented as occurring over a single year or\nrequire highly speculative guesses about when they occurred. As a\ngeneral rule, it is much easier and safer to estimate the ending year\nthan the starting year.\n\nTherefore, it is useful to verify if there are estimates that are known\nto occur over more than 1 year with no information on the starting date\nwhatsoever in your subset of InvaCost. **Note: we have progressively\ncorrected the database such such entries should no longer occur in\nInvaCost version 4.1 and later.**. If you find such estimates, we\nrecommend to remove them, as it is not possible to safely estimate if\nthey occurred over a single or multiple years.\n\nThe following block of code does all of that automatically, but will do\nnothing if there are no such cases ;)\n\n``` r\n# Uncertain starting periods\nuncertain.starts <- invacost[which(invacost$Time_range == \"Period\" &\n                                     is.na(invacost$Probable_starting_year)), ]\n# Number of estimates without adequate information about starting year\nnrow(uncertain.starts)\n```\n\n    ## [1] 100\n\n``` r\n# No info about whether cost was annual or over a period\nunknown.periods <- invacost[which(is.na(invacost$Time_range)), ]\n# Number of estimates without adequate information about period\nnrow(unknown.periods) \n```\n\n    ## [1] 0\n\n``` r\n# Applying the filter\nif(nrow(uncertain.starts) + nrow(unknown.periods) > 0)\n{\n  invacost <- invacost[-which(invacost$Cost_ID %in% c(uncertain.starts$Cost_ID,\n                                                    unknown.periods$Cost_ID)), ]\n}\n\n# Number of rows after filtering\nnrow(invacost)\n```\n\n    ## [1] 13244\n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "How do we filter out unreliable costs?",
        "parent_header": [
          "Basic steps to get started"
        ],
        "type": "Text_excerpt",
        "value": "You have to be aware of the limitations of such a database. This\ndatabase is the most up-to-date and comprehensive compilation of both\nthe published and grey literature on the monetary costs of biological\ninvasions. Therefore, it includes sound estimations of monetary costs of\ninvasive species, with detailed sources and reproducible methodology;\nbut it also includes unsourced and irreproducible \u201c*guestimates*\u201d, as\nthose are reported in the literature. Therefore, we want to apply\nfilters on the database to avoid as much as possible any such unreliable\ncost estimates that can not easily be reproduced or originate from\nnon-peer reviewed sources. Furthermore, the database also includes\nobserved and potential costs, so depending on our objectives we may or\nmay not want to filter out potential costs.\n\n- **Reliability**: There is a standard field in the database called\n  `Method_reliability`, which provides a simple yet objective evaluation\n  of the reliability of cost estimates. It uses the following decision\n  tree:\n  <img src=\"./Readme_files/figure-html/reliability.png\" width=\"1700\" />\n  Red means categorised as unreliable source, green means categorised as\n  reliable source. This `Method_reliability` descriptor has some\n  limitations. The most important one is that we decided to not evaluate\n  the methodology for peer-reviewed articles and official reports,\n  assuming that this was done at an earlier stage (i.e.\u00a0 peer-review,\n  prior to publication). We chose such an objective criterion, rather\n  than assessing the reliability of methods during the process of\n  filling the database, because we observed divergence in reliability\n  decisions during experiments among members of the INVACOST team. We\n  also identified that depending on the study objective, different\n  decisions about reliability could be made. Therefore, this\n  `Method_reliability` descriptor should be considered as a first\n  approximation of cost reliability, and you should decide whether or\n  not you want to eliminate papers on the basis of the lack of\n  reproducibility of their methodologies. To do that, take time to\n  investigate the `Details` field (especially for cost values that you\n  deem suspiciously high) and potentially go back to the source to make\n  your decision. For an example on how to do that, take a look at the\n  \u201cDetermining cost estimate reproducibility\u201d section in [Bradshaw et\n  al.\u00a02016](https://www.nature.com/articles/ncomms12986#Sec8).\n  **Important update as of InvaCost version 3.0:** The database now also\n  includes a `Method_reliability_refined` descriptor (not exhaustive as\n  of now) which includes an expert-based assessment of reliability. It\n  can be used as an alternative or as a complementary approach to the\n  standard `Method_reliability` descriptor.\n\n``` r\nunique(invacost$Method_reliability)\n```\n\n    ## [1] \"High\" \"Low\"\n\n- **Observed vs.\u00a0Potential costs**: The `Implementation` field in the\n  database documents whether the costs correspond to *Observed* or\n  *Potential* costs. Choosing to keep one or both of them depends on\n  your study objectives. In addition, costs can also be based on direct\n  *reports* or *estimations*, or can be based on *extrapolations*: this\n  is documented in the `Acquisition_method` field. Extrapolation does\n  not necessarily mean *potential*: some Observed costs may have been\n  extrapolated from a reduced spatial extent. Below is a table showing\n  the number of cases of *extrapolations* and *reports/estimation* for\n  *Observed* and *Potential* costs. As you can see, the majority of\n  Observed costs are based on *reports* / *estimations*; yet a few are\n  based on *extrapolations.*\n\n``` r\ntable(invacost$Acquisition_method, invacost$Implementation)\n```\n\n    ##                    \n    ##                     Observed Potential\n    ##   Extrapolation         1065      1353\n    ##   Report/Estimation     9754      1072\n\nFor the rest of this tutorial, we will be working only on costs\ncategorised as *High* in `Method_reliability` and \u201cObserved\u201d in\n`Implementation`:\n\n``` r\ninvacost <- invacost[which(invacost$Method_reliability == \"High\"), ]\ninvacost <- invacost[which(invacost$Implementation == \"Observed\"), ]\n\n# Number of rows after filtering\nnrow(invacost)\n```\n\n    ## [1] 10013\n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "How do I know when costs occurred?",
        "parent_header": [
          "Basic steps to get started"
        ],
        "type": "Text_excerpt",
        "value": "A crucial aspect in analysing cost values is to know the periods of time\nover which costs have occurred. Indeed, knowing the period over which a\ncost occurred allows to derive cumulative costs and to estimate average\nannual costs; it also enables temporal analyses of costs.  \nWe have stored information on the periods of time over which cost\noccurred in two columns: `Probable_starting_year` and\n`Probable_ending_year`.\n\nHowever, this information was not readily available in a substantial\nportion of the papers we compiled in the database: for 1207 out of 10013\npapers (12.1 % of papers), this information was not available for at\nleast one of the two columns.\n\nTherefore, for papers for which it was not available, we made educated\nguesses on the probable starting and ending years. These educated\nguesses were based on conservative rules (e.g., if no duration\ninformation was provided, then the impact was reported of one year\nonly). These estimated starting and ending years are available in two\nnew columns in the database called `Probable_starting_year_adjusted` and\n`Probable_ending_year_adjusted`.\n\nAs it stands now, each cost has a starting and an ending year, and\nschematically it looks like this:\n\n| Cost ID | Species | Annual Cost | Starting year | Ending year |\n|---------|:--------|------------:|--------------:|------------:|\n| 1       | Sp 1    |         100 |          1998 |        2001 |\n| 2       | Sp 2    |          15 |          2005 |        2007 |\n| 3       | Sp 3    |           3 |          1981 |        1981 |\n\nHowever, to properly analyse the temporal trends of costs, we need to\n*expand* it, to make it look like this:\n\n| Cost ID | Species | Annual Cost | Year |\n|---------|:--------|------------:|-----:|\n| 1       | Sp 1    |         100 | 1998 |\n| 1       | Sp 1    |         100 | 1999 |\n| 1       | Sp 1    |         100 | 2000 |\n| 1       | Sp 1    |         100 | 2001 |\n| 2       | Sp 2    |          15 | 2005 |\n| 2       | Sp 2    |          15 | 2006 |\n| 2       | Sp 2    |          15 | 2007 |\n| 3       | Sp 3    |           3 | 1981 |\n\nTo do this, we use the function `expandYearlyCosts`, to which we provide\nthe starting and ending year columns. It will store the years over which\nmonetary costs have occurred in a column named `Impact_year`. In this\nexample, expanded database is here stored in an object called\n`db.over.time`.\n\n``` r\n# Expanding and formating the database\ndb.over.time <- expandYearlyCosts(invacost,\n                                  startcolumn = \"Probable_starting_year_adjusted\",\n                                  endcolumn = \"Probable_ending_year_adjusted\")\n# Let's see some columns\nhead(db.over.time[, c(\"Cost_ID\", \"Species\",\n                      \"Cost_estimate_per_year_2017_USD_exchange_rate\",\n                      \"Impact_year\")])\n```\n\n    ##      Cost_ID               Species\n    ## ...1       1         Vulpes vulpes\n    ## ...2       2         Vulpes vulpes\n    ## ...3       3         Vulpes vulpes\n    ## ...4      11 Oryctolagus cuniculus\n    ## ...5      17 Oryctolagus cuniculus\n    ## ...6      24           Canis lupus\n    ##      Cost_estimate_per_year_2017_USD_exchange_rate Impact_year\n    ## ...1                                      16701772        2004\n    ## ...2                                     181333526        2004\n    ## ...3                                      15270192        2000\n    ## ...4                                      21855462        2004\n    ## ...5                                      84091037        2004\n    ## ...6                                      46096891        2004\n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "How complete are our monetary data?",
        "parent_header": [
          "Basic steps to get started"
        ],
        "type": "Text_excerpt",
        "value": "It is impossible to evaluate the absolute degree of completeness of our\nInvaCost datbase - we know that we lack data for many taxonomic groups\nand so are data from many places around the globe (most cost data\navailable in InvaCost are located in North America and Europe and are\ncost data primarily available in English and to a lesser extent in other\nlanguages). You have to be aware of these potential biases and remember\nthem when interpreting data/analyses.\n\nThere is, however, a temporal bias that we can at least evaluate.\nIndeed, we can expect that there is delay between the timing at which\nthe economic impact of an invasive species occurs, and the timing at\nwhich people will start estimating the cost of the impact, which will\nlater be followed by publication in a report or journal.\n\nWe can grasp an idea of this delay by looking at the difference between\n`Impact_year` and `Publication_year` in the expanded database,\n`db.over.time`.\n\n``` r\n# Calculating time lag\ndb.over.time$Publication_lag <- db.over.time$Publication_year - db.over.time$Impact_year\n\n# Make a nice boxplot of the time lag\nggplot(db.over.time,\n       aes(y = Publication_lag)) +\n  geom_boxplot(outlier.alpha = .2) +\n  ylab(\"Publication lag (in years)\") + \n  theme_minimal() +\n  theme(panel.grid.major.y = element_blank(),\n        panel.grid.minor.y = element_blank(),\n        axis.text.y = element_blank(),\n        axis.text = element_text(size = 16),\n        axis.title = element_text(size = 18)) +\n  scale_y_continuous(breaks = c(-25, 0, 25, 50, 75, 100),\n                     labels = c(-25, 0, 25, 50, 75, 100)) +\n  xlab(\"\") +\n  coord_flip()\n```\n\n![](Readme_files/figure-gfm/lag1-1.png)\n\n*Note that the few occurrences of publications before economic impacts\n(negative lag) corresponded to planned budgets over specific periods\nexpanding beyond the publication year.*\n\nOur suggestion is to use the quartiles of publication lag as an\nindication of cost data completeness.\n\nThe first quartile indicates the delay to reach 25% completeness; the\nmedian indicates the delay to reach 50% completeness; and the third\nquartile indicates the delay to reach 75% completeness.\n\nLet\u2019s see these delays in practice:\n\n``` r\nquantiles <- quantile(db.over.time$Publication_lag, probs = c(.25, .5, .75))\nquantiles\n```\n\n    ## 25% 50% 75% \n    ##   1   3   7\n\nThe median delay between impact and publication of impact was **3\nyears**. In other words, **for the last 3 years, we can expect to have\nless than 50% of the economic impacts**.\n\nLikewise, we can say it takes approximately 1 year to have 25% of the\ncost data for any year, and 7 years to reach at least 75% of cost data.\n\nHence, any analysis on recent years will be based on incomplete data and\nis highly likely to provide an underestimation of actual costs.\n\nIt is up to you to determine how you desire to include this information\nin your analyses; here, we will provide examples of how we suggest doing\nthat.\n\nOne question that may arise for people working on specific subsets of\nthe database (e.g., only one taxon or one country) is whether you should\nevaluate the time lag on your subset. *I would recommend to avoid that,\nbecause your subset may be too incomplete to provide a decent estimation\nof the time lag. **Therefore, we would suggest to evaluate the time lag\nonly on the global dataset, as we did here.***\n\nLast, note that there may be a correlation between the time lag and the\nmagnitude of cost estimates. Indeed, direct reports of small costs tend\nto be aired earlier than large estimates of invasion impacts. It is an\nimportant issue to consider when investigating the time lag. For\nexample, the quantiles of time lag for all costs above US\\$ 1 million\nannually are 1, 3, 9 years.\n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Basic usage",
        "parent_header": [
          "Approach based on available estimates: cumulative and average costs of invasions"
        ],
        "type": "Text_excerpt",
        "value": "The first method to analyse monetary costs of invasive species consists\nin calculating the observed cumulative and average costs - as they\nappear in the collected materials - over a specific period of time, or\nat different time intervals.\n\nWe implemented this method in the function `summarizeCosts`. It will\ncalculate the cumulative and average costs for the entire period, as\nwell as for different time intervals (by default, 10-year intervals).\n\n``` r\nobs.costs <- summarizeCosts(db.over.time,\n                            maximum.year = 2020)\n```\n\n    ## Warning in summarizeCosts(db.over.time, maximum.year = 2020): There are 19 cost values for periods earlier than 1960, which will be removed.\n\n    ## Warning in summarizeCosts(db.over.time, maximum.year = 2020): There are 46 cost values for periods later than 2020 which will be removed.\n\nWe can get a summary of the results by typing the name of the object in\nthe console\n\n``` r\nobs.costs\n```\n\n    ## \n    ## Average annual cost of invasive species over time periods\n    ## \n    ## - Temporal interval of data : [1960, 2020]\n    ## - Values transformed in US$ million: Yes\n    ## - Number of cost estimates: 10001 (number of individual year values: 21765)\n    ## - Cost values in US$ millions:\n    ##     o Total cost over the entire period 2,061,625.50\n    ##     o Average annual cost over the entire period 33,797.14\n    ##     o Average annual cost over each period\n    ## \n    ##   initial_year final_year time_span   total_cost annual_cost number_estimates\n    ## 1         1960       1969        10     2,675.44      267.54               29\n    ## 2         1970       1979        10     9,158.49      915.85               93\n    ## 3         1980       1989        10    57,527.22    5,752.72              258\n    ## 4         1990       1999        10   118,950.02   11,895.00              794\n    ## 5         2000       2009        10 1,366,308.76  136,630.88             2424\n    ## 6         2010       2020        11   507,005.58   46,091.42             7192\n    ##   number_year_values\n    ## 1                170\n    ## 2                390\n    ## 3                864\n    ## 4               2165\n    ## 5               5891\n    ## 6              12285\n\nAnd we can have a graphical output with:\n\n``` r\nplot(obs.costs)\n```\n\n![](Readme_files/figure-gfm/raw3-1.png)\n\nThis graph represents the observed annual costs of biological invasions\nover time. Points are total annual costs for every year (i.e., all\nindividual costs for a specific year are summed). Horizontal bars\nrepresent the average annual cost for a specific interval of time (here,\n10-year intervals). Notice how average annual costs can sometimes be\ndriven by a limited number of high-cost years. The dashed line connects\naverage annual cost of each time interval at mid-years (black dots). The\nhorizontal dotted line represents the average cost over the entire\nperiod.\n\nThe average annual cost seems to suspiciously drop for the most recent\nyears - most likely because of the time lag between the occurrence of a\ncost and its reporting. Therefore, caution would be required in\ninterpreting the values of most recent years.\n\nA good way to illustrate this issue would be to look at the number of\nestimates per year.\n\n``` r\nggplot(obs.costs$cost.per.year,\n       aes(x = year, y = number_estimates)) +\n  geom_point() +\n  ylab(\"Number of estimates\") +\n  xlab(\"Year\") +\n  theme_minimal()\n```\n\n![](Readme_files/figure-gfm/raw3.-1.png)\n\nWe can see that the number of estimates increases exponentially, but\nthis increase seems to slow down/drop after 2015.\n\nWe can refine this graph to add the relationship with annual costs:\n\n``` r\nggplot(obs.costs$cost.per.year,\n       aes(x = year, y = number_estimates,\n           size = cost)) +\n  geom_point() +\n  ylab(\"Number of estimates\") +\n  xlab(\"Year\") +\n  theme_minimal()\n```\n\n![](Readme_files/figure-gfm/raw3..-1.png)\n\n**Note, however, that the number of estimates in itself is not a\nmeaningful index to describe the sampling effort. Indeed, a single\nestimate can be a complete synthesis over a country, and thus be\ncomplete in itself, whereas many estimates can be direct reports of\nsmall localized costs from grey litterature, and altogether still\nrepresent an incomplete picture of overall costs.** Notably, recent\nyears have been characterized by a high number of direct reports from\nthe grey literature, which can result in a false sense of completeness\nwhen only looking at the number estimates (e.g., [Angulo et\nal.\u00a02021](https://doi.org/10.1016/j.scitotenv.2020.144441), [Renault et\nal.\u00a02021](https://doi.org/10.3897/neobiota.67.59134)).\n\nUse this information, in combination with the quantiles of completeness\ncalculated above, to decide how you want to interpret the last years,\nand whether or not you want to omit them in further analyses. Remember\nthat no choice will be objective here, but also that objectivity does\nnot emerge from the absence of choice (keeping biased data is a choice\nin itself). We would recommend a transparently explained choice, along\nwith e.g.\u00a0a sensitivity analysis.\n\nWe can access the content of the output object with\n\n``` r\nstr(obs.costs)\n```\n\n    ## List of 6\n    ##  $ cost.data              :'data.frame': 21765 obs. of  68 variables:\n    ##   ..$ Impact_year                                  : int [1:21765] 2004 2004 2000 2004 2004 2004 2004 2004 1996 1993 ...\n    ##   ..$ InvaCost_ID                                  : chr [1:21765] \"IC_1.0_1\" \"IC_1.0_2\" \"IC_1.0_3\" \"IC_1.0_11\" ...\n    ##   ..$ Cost_ID                                      : chr [1:21765] \"1\" \"2\" \"3\" \"11\" ...\n    ##   ..$ Repository                                   : chr [1:21765] \"TC\" \"TC\" \"TC\" \"TC\" ...\n    ##   ..$ Reference_ID                                 : chr [1:21765] \"2\" \"2\" \"2\" \"559\" ...\n    ##   ..$ Reference_title                              : chr [1:21765] \"Counting the Cost: Impact of Invasive Animals in Australia\" \"Counting the Cost: Impact of Invasive Animals in Australia\" \"Counting the Cost: Impact of Invasive Animals in Australia\" \"The economic benefits of rabbit control in Australian temperate pastures by the introduction of rabbit haemorrhagic disease\" ...\n    ##   ..$ Authors                                      : chr [1:21765] \"McLeod\" \"McLeod\" \"McLeod\" \"Vere et al\" ...\n    ##   ..$ Abstract                                     : chr [1:21765] NA NA NA NA ...\n    ##   ..$ Publication_year                             : num [1:21765] 2004 2004 2004 2004 2004 ...\n    ##   ..$ Language                                     : chr [1:21765] \"English\" \"English\" \"English\" \"English\" ...\n    ##   ..$ Type_of_material                             : chr [1:21765] \"Official report\" \"Official report\" \"Official report\" \"Peer-reviewed article\" ...\n    ##   ..$ Previous_materials                           : chr [1:21765] \"Rolfe, J., & Windle, J. (2014). Public preferences for controlling an invasive species in public and private sp\"| __truncated__ \"Rolfe, J., & Windle, J. (2014). Public preferences for controlling an invasive species in public and private sp\"| __truncated__ \"Rolfe, J., & Windle, J. (2014). Public preferences for controlling an invasive species in public and private sp\"| __truncated__ \"McLeod, R. (2004). Counting the Cost: Impact of Invasive Animals in Australia, 2004. Canberra. Retrieved from h\"| __truncated__ ...\n    ##   ..$ Availability                                 : chr [1:21765] \"Yes\" \"Yes\" \"Yes\" \"Yes\" ...\n    ##   ..$ Kingdom                                      : chr [1:21765] \"Animalia\" \"Animalia\" \"Animalia\" \"Animalia\" ...\n    ##   ..$ Phylum                                       : chr [1:21765] \"Chordata\" \"Chordata\" \"Chordata\" \"Chordata\" ...\n    ##   ..$ Class                                        : chr [1:21765] \"Mammalia\" \"Mammalia\" \"Mammalia\" \"Mammalia\" ...\n    ##   ..$ Order                                        : chr [1:21765] \"Carnivora\" \"Carnivora\" \"Carnivora\" \"Lagomorpha\" ...\n    ##   ..$ Family                                       : chr [1:21765] \"Canidae\" \"Canidae\" \"Canidae\" \"Leporidae\" ...\n    ##   ..$ Genus                                        : chr [1:21765] \"Vulpes\" \"Vulpes\" \"Vulpes\" \"Oryctolagus\" ...\n    ##   ..$ Species                                      : chr [1:21765] \"Vulpes vulpes\" \"Vulpes vulpes\" \"Vulpes vulpes\" \"Oryctolagus cuniculus\" ...\n    ##   ..$ Subspecies                                   : chr [1:21765] NA NA NA NA ...\n    ##   ..$ Common_name                                  : chr [1:21765] \"Red fox\" \"Red fox\" \"Red fox\" \"European (common) rabbit\" ...\n    ##   ..$ Environment                                  : chr [1:21765] \"Terrestrial\" \"Terrestrial\" \"Terrestrial\" \"Terrestrial\" ...\n    ##   ..$ Environment_IAS                              : chr [1:21765] \"Terrestrial\" \"Terrestrial\" \"Terrestrial\" \"Terrestrial\" ...\n    ##   ..$ HabitatVerbatim                              : chr [1:21765] NA NA NA NA ...\n    ##   ..$ Habitat                                      : chr [1:21765] NA NA NA NA ...\n    ##   ..$ urbanArea                                    : chr [1:21765] \"other\" \"other\" \"other\" \"other\" ...\n    ##   ..$ protectedArea                                : chr [1:21765] NA NA NA NA ...\n    ##   ..$ Island                                       : chr [1:21765] \"Y\" \"Y\" \"Y\" \"Y\" ...\n    ##   ..$ Geographic_region                            : chr [1:21765] \"Oceania\" \"Oceania\" \"Oceania\" \"Oceania\" ...\n    ##   ..$ Official_country                             : chr [1:21765] \"Australia\" \"Australia\" \"Australia\" \"Australia\" ...\n    ##   ..$ State.Province.Administrative_area           : chr [1:21765] NA NA NA NA ...\n    ##   ..$ Location                                     : chr [1:21765] \"Diverse/Unspecified\" \"Diverse/Unspecified\" \"Tasmania\" \"Diverse/Unspecified\" ...\n    ##   ..$ Spatial_scale                                : chr [1:21765] \"Country\" \"Country\" \"Site\" \"Country\" ...\n    ##   ..$ Period_of_estimation                         : chr [1:21765] \"2004\" \"2004\" \"2000\" \"2004\" ...\n    ##   ..$ Time_range                                   : chr [1:21765] \"Year\" \"Year\" \"Year\" \"Year\" ...\n    ##   ..$ Probable_starting_year                       : num [1:21765] 2004 2004 2000 2004 2004 ...\n    ##   ..$ Probable_ending_year                         : num [1:21765] NA NA NA NA NA NA NA NA NA NA ...\n    ##   ..$ Probable_starting_year_adjusted              : num [1:21765] 2004 2004 2000 2004 2004 ...\n    ##   ..$ Probable_ending_year_adjusted                : num [1:21765] 2004 2004 2000 2004 2004 ...\n    ##   ..$ Occurrence                                   : chr [1:21765] \"Potentially ongoing\" \"Potentially ongoing\" \"Potentially ongoing\" \"Potentially ongoing\" ...\n    ##   ..$ Raw_cost_estimate_original_currency          : num [1:21765] 1.75e+07 1.90e+08 1.60e+07 2.29e+07 8.81e+07 ...\n    ##   ..$ Min_Raw_cost_estimate_original_currency      : num [1:21765] NA NA NA 7100000 NA NA NA NA NA NA ...\n    ##   ..$ Max_Raw_cost_estimate_original_currency      : chr [1:21765] NA NA NA \"38700000\" ...\n    ##   ..$ Raw_cost_estimate_2017_USD_exchange_rate     : num [1:21765] 1.67e+07 1.81e+08 1.53e+07 2.19e+07 8.41e+07 ...\n    ##   ..$ Raw_cost_estimate_2017_USD_PPP               : num [1:21765] 1.66e+07 1.81e+08 1.52e+07 2.18e+07 8.38e+07 ...\n    ##   ..$ Cost_estimate_per_year_original_currency     : num [1:21765] 1.75e+07 1.90e+08 1.60e+07 2.29e+07 8.81e+07 ...\n    ##   ..$ Cost_estimate_per_year_2017_USD_exchange_rate: num [1:21765] 16.7 181.3 15.3 21.9 84.1 ...\n    ##   ..$ Cost_estimate_per_year_2017_USD_PPP          : num [1:21765] 1.66e+07 1.81e+08 1.52e+07 2.18e+07 8.38e+07 ...\n    ##   ..$ Currency                                     : chr [1:21765] \"AUD\" \"AUD\" \"AUD\" \"AUD\" ...\n    ##   ..$ Applicable_year                              : num [1:21765] 2004 2004 2004 2004 2004 ...\n    ##   ..$ Type_of_applicable_year                      : chr [1:21765] \"Publication year\" \"Publication year\" \"Publication year\" \"Publication year\" ...\n    ##   ..$ Implementation                               : chr [1:21765] \"Observed\" \"Observed\" \"Observed\" \"Observed\" ...\n    ##   ..$ Acquisition_method                           : chr [1:21765] \"Report/Estimation\" \"Report/Estimation\" \"Report/Estimation\" \"Report/Estimation\" ...\n    ##   ..$ Impacted_sector                              : chr [1:21765] \"Agriculture\" \"Environment\" \"Authorities-Stakeholders\" \"Agriculture\" ...\n    ##   ..$ Type_of_cost                                 : chr [1:21765] \"Damage-Loss\" \"Damage-Loss\" \"Control\" \"Damage-Loss\" ...\n    ##   ..$ Type_of_cost_merged                          : chr [1:21765] \"Damage\" \"Damage\" \"Management\" \"Damage\" ...\n    ##   ..$ Management_type                              : chr [1:21765] NA NA \"Post-invasion_management\" NA ...\n    ##   ..$ Method_reliability                           : chr [1:21765] \"High\" \"High\" \"High\" \"High\" ...\n    ##   ..$ Method_reliability_refined                   : chr [1:21765] NA NA NA NA ...\n    ##   ..$ Method_reliability_Explanation               : chr [1:21765] NA NA NA NA ...\n    ##   ..$ Method_reliability_Expert_Name               : chr [1:21765] NA NA NA NA ...\n    ##   ..$ Overlap                                      : chr [1:21765] NA NA NA NA ...\n    ##   ..$ Benefit_value.s.                             : chr [1:21765] \"no\" \"no\" \"no\" \"no\" ...\n    ##   ..$ Details                                      : chr [1:21765] \"Key loss is lamb predation. ABARE (2003) estimate 35 million lambs marked per year. Assumed 2% of all lambs mar\"| __truncated__ \"Following the methodology in Pimentel et al. (2000), the impact of fox predation on the bird population in Aust\"| __truncated__ \"Fox control expenditure in Tasmania of $9 million per year is also included (Tasmanian Dept. of Primary Industr\"| __truncated__ \"Prior to the release of RHDV : Rabbits impose annual costs on wool producers in the temperate pasture areas of \"| __truncated__ ...\n    ##   ..$ Initial.contributors_names                   : chr [1:21765] \"Christophe Diagne/Claire Assailly/Lise Nuninger\" \"Christophe Diagne/Claire Assailly/Lise Nuninger\" \"Christophe Diagne/Claire Assailly/Lise Nuninger\" \"Christophe Diagne/Claire Assailly/Lise Nuninger\" ...\n    ##   ..$ Double.checking                              : chr [1:21765] \"Yes\" \"Yes\" \"Yes\" \"Yes\" ...\n    ##   ..$ Publication_lag                              : num [1:21765] 0 0 4 0 0 0 0 0 0 3 ...\n    ##  $ parameters             :List of 7\n    ##   ..$ cost.column          : chr \"Cost_estimate_per_year_2017_USD_exchange_rate\"\n    ##   ..$ year.column          : chr \"Impact_year\"\n    ##   ..$ in.millions          : logi TRUE\n    ##   ..$ minimum.year         : num 1960\n    ##   ..$ maximum.year         : num 2020\n    ##   ..$ number.of.estimates  : int 10001\n    ##   ..$ number.of.year.values: int 21765\n    ##  $ year.breaks            : num [1:7] 1960 1970 1980 1990 2000 2010 2020\n    ##  $ cost.per.year          :'data.frame': 61 obs. of  3 variables:\n    ##   ..$ year            : int [1:61] 1960 1961 1962 1963 1964 1965 1966 1967 1968 1969 ...\n    ##   ..$ cost            : num [1:61] 242 243 243 240 240 ...\n    ##   ..$ number_estimates: int [1:61] 13 14 15 13 14 17 20 19 23 22 ...\n    ##  $ average.total.cost     :'data.frame': 1 obs. of  7 variables:\n    ##   ..$ initial_year      : num 1960\n    ##   ..$ final_year        : num 2020\n    ##   ..$ time_span         : int 61\n    ##   ..$ total_cost        : num 2061625\n    ##   ..$ annual_cost       : num 33797\n    ##   ..$ number_estimates  : int 10001\n    ##   ..$ number_year_values: int 21765\n    ##  $ average.cost.per.period:'data.frame': 6 obs. of  7 variables:\n    ##   ..$ initial_year      : num [1:6] 1960 1970 1980 1990 2000 2010\n    ##   ..$ final_year        : num [1:6] 1969 1979 1989 1999 2009 ...\n    ##   ..$ time_span         : int [1:6] 10 10 10 10 10 11\n    ##   ..$ total_cost        : num [1:6] 2675 9158 57527 118950 1366309 ...\n    ##   ..$ annual_cost       : num [1:6] 268 916 5753 11895 136631 ...\n    ##   ..$ number_estimates  : int [1:6] 29 93 258 794 2424 7192\n    ##   ..$ number_year_values: int [1:6] 170 390 864 2165 5891 12285\n    ##  - attr(*, \"class\")= chr [1:2] \"invacost.costsummary\" \"list\"\n\nNotice that the expanded database used to calculate costs has been\nstored in the object, in a slot called `cost.data`. This is especially\nimportant for reproducibility: in case you decide to publish your work,\nyou can provide this R object which has the exact copy of your specific\nversion/filters of the database.\n\nThere are also some other important elements in this object:\n\n- `parameters`: provides arguments you chose and basic information about\n  your dataset\n- `year.breaks`: your time intervals\n- `cost.per.year`: costs for every year in the data with number of\n  estimates\n- `average.total.cost`: contains cumulative and average annual costs for\n  the entire time period\n- `average.cost.per.period`: contains cumulative and average annual\n  costs for each time interval\n\nYou can access each element with the `$` sign; for example for the costs\nfor all time intervals:\n\n``` r\nobs.costs$average.cost.per.period\n```\n\n    ##   initial_year final_year time_span  total_cost annual_cost number_estimates\n    ## 1         1960       1969        10    2675.436    267.5436               29\n    ## 2         1970       1979        10    9158.488    915.8488               93\n    ## 3         1980       1989        10   57527.218   5752.7218              258\n    ## 4         1990       1999        10  118950.019  11895.0019              794\n    ## 5         2000       2009        10 1366308.760 136630.8760             2424\n    ## 6         2010       2020        11  507005.578  46091.4162             7192\n    ##   number_year_values\n    ## 1                170\n    ## 2                390\n    ## 3                864\n    ## 4               2165\n    ## 5               5891\n    ## 6              12285\n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Example of a vector of incompleteness weights",
        "parent_header": [
          "Modelling approach: estimating the average annual cost of invasions",
          "Correction for data incompleteness due to publication lag"
        ],
        "type": "Text_excerpt",
        "value": "An example to reduce the negative impact of the incompleteness of recent\nyears would be to apply weights proportional to their degree of\nincompleteness. For example, apply the following set of rules: \u2022\ncompleteness \u2264 25%: exclusion \u2022 25% \\< completeness \u2264 50%: weight = 0.25\n\u2022 50% \\< completeness \u2264 75%: weight = 0.50 \u2022 completeness \\> 75%: weight\n= 1\n\nRemember that we stored quantiles in the beginning of this tutorial, so\nwe can access them now to know to what years they correspond:\n\n``` r\nquantiles\n```\n\n    ## 25% 50% 75% \n    ##   1   3   7\n\nIn the next lines of code we will create a vector of weights for each\nyear, which we can provide to the function later on.\n\n``` r\n# Creating the vector of weights\nyear_weights <- rep(1, length(1960:2017))\nnames(year_weights) <- 1960:2017\n\n# Assigning weights\n# Below 25% the weight does not matter because years will be removed\nyear_weights[names(year_weights) >= (2017 - quantiles[\"25%\"])] <- 0\n# Between 25 and 50%, assigning 0.25 weight\nyear_weights[names(year_weights) >= (2017 - quantiles[\"50%\"]) &\n               names(year_weights) < (2017 - quantiles[\"25%\"])] <- .25\n# Between 50 and 75%, assigning 0.5 weight\nyear_weights[names(year_weights) >= (2017 - quantiles[\"75%\"]) &\n               names(year_weights) < (2017 - quantiles[\"50%\"])] <- .5\n\n# Let's look at it\nyear_weights\n```\n\n    ## 1960 1961 1962 1963 1964 1965 1966 1967 1968 1969 1970 1971 1972 1973 1974 1975 \n    ## 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 \n    ## 1976 1977 1978 1979 1980 1981 1982 1983 1984 1985 1986 1987 1988 1989 1990 1991 \n    ## 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 \n    ## 1992 1993 1994 1995 1996 1997 1998 1999 2000 2001 2002 2003 2004 2005 2006 2007 \n    ## 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 \n    ## 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 \n    ## 1.00 1.00 0.50 0.50 0.50 0.50 0.25 0.25 0.00 0.00\n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Example on a specific subset: mammals of North America",
        "type": "Text_excerpt",
        "value": "This is just an illustration to show you how to make it work on a subset\nof the database. We are not going to analyse it in details.\n\nWe assume here that you have run the code on the first sections of this\ntutorial: database filtering and completeness.\n\nFirst, let\u2019s inspect the geographic regions of InvaCost:\n\n``` r\nunique(invacost$Geographic_region)\n```\n\n    ##  [1] \"Oceania\"                                    \n    ##  [2] \"Europe\"                                     \n    ##  [3] \"North America\"                              \n    ##  [4] \"Central America\"                            \n    ##  [5] \"Diverse/Unspecified\"                        \n    ##  [6] \"South America\"                              \n    ##  [7] \"Africa\"                                     \n    ##  [8] \"Pacific Islands\"                            \n    ##  [9] \"Asia\"                                       \n    ## [10] \"Oceania/Pacific Islands\"                    \n    ## [11] \"Central America/Pacific islands\"            \n    ## [12] \"Oceania/South America\"                      \n    ## [13] \"Africa/Asia/Europe\"                         \n    ## [14] \"Central America/North America\"              \n    ## [15] \"Europe/North America\"                       \n    ## [16] \"Asia/Europe\"                                \n    ## [17] \"Central America/South America\"              \n    ## [18] \"Central America/North America/South America\"\n    ## [19] \"Europe/South America\"                       \n    ## [20] \"Antarctic-Subantarctic\"                     \n    ## [21] \"Central America/Oceania/Pacific Islands\"\n\nThere are seven different regions in INVACOST, and sometimes cost are\nspread over different regions. Indeed, cost estimates in publications\nand reports often correspond to data aggregated over several regions,\nseveral taxa, several types of cost etc. Most of the time, it is not\npossible to split these costs into their respective subsets. Therefore,\nwe have to omit them if we want to focus on a single region. Here, we\nfocus on North America only:\n\n``` r\ninvacost.NA <- invacost[which(invacost$Geographic_region == \"North America\"), ]\n\n# Number of rows\nnrow(invacost.NA)\n```\n\n    ## [1] 955\n\nWe have 955 lines in the North America subset of InvaCost\n\n``` r\n# Let's see the content of the Class column\nunique(invacost.NA$Class)\n```\n\n    ##  [1] \"Mammalia\"            \"Gastropoda\"          \"Reptilia\"           \n    ##  [4] \"Amphibia/Reptilia\"   \"Aves\"                \"Diverse/Unspecified\"\n    ##  [7] \"Insecta\"             \"Arachnida\"           \"Magnoliopsida\"      \n    ## [10] \"Liliopsida\"          \"Bivalvia\"            \"Ulvophyceae\"        \n    ## [13] \"Cephalaspidomorphi\"  \"Actinopterygii\"      \"Amphibia\"           \n    ## [16] \"Alphaproteobacteria\" \"Gammaproteobacteria\" \"Pinopsida\"          \n    ## [19] \"Polypodiopsida\"      \"Ascidiacea\"          \"Peronosporea\"       \n    ## [22] \"Malacostraca\"        \"Chytridiomycetes\"    \"Osteichthyes\"       \n    ## [25] \"Pucciniomycetes\"     \"Leotiomycetes\"       NA                   \n    ## [28] \"Polychaeta\"          \"Stelpaviricetes\"\n\n``` r\n# Subset the NA InvaCost database\ninvacost.NA.mammals <- invacost.NA[which(invacost.NA$Class == \"Mammalia\"), ]\n\n# Number of rows\nnrow(invacost.NA.mammals)\n```\n\n    ## [1] 95\n\nOnce again, there are studies involving multiple taxa, and here we focus\nonly on mammals.\n\nThere are only 63 rows in this subset, which may not be sufficient to\nrun the modelling approach. Let\u2019s confirm this by starting with the\napproach based on available estimates:\n\n``` r\n# Expand the subset\nNAmammals.over.time <- expandYearlyCosts(invacost.NA.mammals,\n                                         startcolumn = \"Probable_starting_year_adjusted\",\n                                         endcolumn = \"Probable_ending_year_adjusted\")\n\n\nobs.NAmammals <- summarizeCosts(NAmammals.over.time,\n                                    minimum.year = 1970)\n\nobs.NAmammals\n```\n\n    ## \n    ## Average annual cost of invasive species over time periods\n    ## \n    ## - Temporal interval of data : [1970, 2019]\n    ## - Values transformed in US$ million: Yes\n    ## - Number of cost estimates: 95 (number of individual year values: 244)\n    ## - Cost values in US$ millions:\n    ##     o Total cost over the entire period 231,149.21\n    ##     o Average annual cost over the entire period 4,622.98\n    ##     o Average annual cost over each period\n    ## \n    ##   initial_year final_year time_span total_cost annual_cost number_estimates\n    ## 1         1970       1979        10   2,301.62      230.16                3\n    ## 2         1980       1989        10      15.09        1.51                2\n    ## 3         1990       1999        10      36.43        3.64               10\n    ## 4         2000       2009        10 227,453.78   22,745.38               46\n    ## 5         2010       2019        10   1,342.29      134.23               46\n    ##   number_year_values\n    ## 1                  5\n    ## 2                 18\n    ## 3                 66\n    ## 4                 85\n    ## 5                 70\n\n``` r\nplot(obs.NAmammals)\n```\n\n![](Readme_files/figure-gfm/example1.4-1.png)\n\nIndeed, looking at the graph it would be ill-advised to calibrate models\non this subset of InvaCost (feel free to try it!). We should rather\nfocus on the cumulative cost over time, which in our case amounts to\nUS\\$ 231,149 millions for the 1970-2017 time period.\n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Example on many subsets: all taxa/species in the database",
        "type": "Text_excerpt",
        "value": "This is a more complex situation where we want to derive a single\nestimate for all species/taxon in the database.\n\nFirst, we need to inspect the taxonomic columns of the database to\ndecide whether we want to apply changes before running the script.\n\n``` r\n# Here we just show the first 25\nunique(invacost$Species)[1:25]\n```\n\n    ##  [1] \"Vulpes vulpes\"                                                          \n    ##  [2] \"Oryctolagus cuniculus\"                                                  \n    ##  [3] \"Canis lupus\"                                                            \n    ##  [4] \"Mus musculus\"                                                           \n    ##  [5] \"Capra hircus\"                                                           \n    ##  [6] \"Equus caballus\"                                                         \n    ##  [7] \"Camelus dromedarius\"                                                    \n    ##  [8] \"Rattus rattus\"                                                          \n    ##  [9] \"Myocastor coypus\"                                                       \n    ## [10] \"Sus scrofa\"                                                             \n    ## [11] \"Erythrocebus patas/Macaca mulatta\"                                      \n    ## [12] \"Capra hircus/Sus scrofa\"                                                \n    ## [13] \"Felis catus/Oryctolagus cuniculus/Vulpes vulpes\"                        \n    ## [14] \"Capra hircus/Felis catus/Oryctolagus cuniculus/Sus scrofa/Vulpes vulpes\"\n    ## [15] \"Felis catus\"                                                            \n    ## [16] \"Cervus sp.\"                                                             \n    ## [17] \"Trichosurus vulpecula\"                                                  \n    ## [18] \"Rattus norvegicus\"                                                      \n    ## [19] \"Rattus exulans\"                                                         \n    ## [20] \"Rattus exulans/Rattus norvegicus\"                                       \n    ## [21] \"Rattus exulans/Rattus norvegicus/Rattus rattus\"                         \n    ## [22] \"Diverse/Unspecified\"                                                    \n    ## [23] \"Mustela erminea\"                                                        \n    ## [24] \"Mustela erminea/Trichosurus vulpecula\"                                  \n    ## [25] \"Mus musculus/Oryctolagus cuniculus/Rattus rattus\"\n\nAs you can see, there are many cases where multiple species are studied\ntogether. These cases will be difficult to implement/analyse, but we can\ndecide to merge some of them together. For example, rats (genus\n*Rattus*) are often not identified at the species level, or multiple\nspecies were reported concomitantly. Therefore, we can decide to merge\nthem together:\n\n``` r\n# If we modify species we change them in a new column called sp.list\ninvacost$sp.list <- invacost$Species\n# If we modify genera we change them in a new column called genus.list\ninvacost$genus.list <- invacost$Genus\n\n# There are many species of Rattus which are sometimes together, sometimes not, \n# and oftentimes not identified to the species level. Therefore, we can decide\n# to merge them together in a single species complex\n# Species column\ninvacost$sp.list[which(invacost$Genus == \"Rattus\")] <- \"Rattus sp.\"\n```\n\nWe can also do that for other taxa; here are the changes we applied for\nthe Nature paper ([Diagne et\nal.\u00a02021](https://doi.org/10.1038/s41586-021-03405-6)):\n\n``` r\ninvacost$sp.list[which(invacost$Genus == \"Aedes\")] <- \"Aedes spp.\"\ninvacost$sp.list[which(invacost$Genus == \"Canis\")] <- \"Canis lupus spp.\"\n```\n\nNote that there are many other taxonomic peculiarities that would need\n*ad hoc* corrections. Ensure that you have analysed your list of species\n(`unique(invacost$Species)`) and genera (`unique(invacost$Genus)`)\nbefore you proceed with the rest of the analysis.\n\nNow that our taxon group list is set up, we still need to create a\nunique identifier for each taxon group. Indeed, if we use directly the\n`Species` column, then all taxa that have the generic name\n*Diverse/Unspecified* will be considered in the same group. However,\neven if species names were unspecified, we still have information at\nhigh taxonomic levels (e.g., mammals, plants, etc.). Therefore, we will\nuse all the taxonomic information to make sure that we do not mix costs\nfrom e.g.\u00a0plants with costs of mammals even when the species is marked\nas *Diverse/Unspecified*.\n\nSo we will create a unique identifier which integrates taxonomic data to\navoid mixing together different kingdoms/phyla/classes etc.\n\n``` r\n# Unique identifier\ninvacost$unique.sp.id <- do.call(\"paste\", invacost[, c(\"Kingdom\", \"Phylum\", \"Class\", \"Family\", \"genus.list\", \"sp.list\")])\n```\n\nFinally, we will write a loop that will cycle through all these unique\ngroups, and for each group, calculate the cumulative cost and average\nannual cost for the 1970-2017 time period.\n\n``` r\n# First we expand the database\ndb.over.time <- expandYearlyCosts(invacost,\n                                  startcolumn = \"Probable_starting_year_adjusted\",\n                                  endcolumn = \"Probable_ending_year_adjusted\")\n\n# We subset this data to the 1970 - 2020 time period\ndb.over.time <- db.over.time[which(db.over.time$Impact_year >= 1970 &\n                                     db.over.time$Impact_year <= 2020), ]\n\n\n# Then we prepare a data.frame in which we will store our results\nspecies.summary <- data.frame()\n# We will cycle the loop through all unique identifiers\nfor(sp in unique(db.over.time$unique.sp.id))\n{\n  # We subset the database for our current species\n  cur.db <- db.over.time[which(db.over.time$unique.sp.id %in% sp), ]\n  \n  # We apply the raw cost function\n  cur.raw <- summarizeCosts(cur.db)\n  \n  \n  # And from the cur.raw object we extract the specific information we are looking for\n  species.summary <- rbind.data.frame(species.summary,\n                                      data.frame(\n                                        Kingdom = cur.db$Kingdom[1],\n                                        Phylum = cur.db$Phylum[1],\n                                        Class = cur.db$Class[1],\n                                        Family = cur.db$Family[1],\n                                        Genus = cur.db$Genus[1],\n                                        Species = cur.db$sp.list[1],\n                                        Average.annual.cost = cur.raw$average.total.cost$annual_cost,\n                                        Cumulated.cost = cur.raw$average.total.cost$total_cost,\n                                        Number.estimates = cur.raw$average.total.cost$number_estimates,\n                                        Number.year.values = cur.raw$average.total.cost$number_year_values\n                                      ))\n}\n\n# To make the summary dataframe nicer, we can sort by cost to have the highest groups first\nspecies.summary <- species.summary[order(species.summary$Cumulated.cost, decreasing = TRUE), ]\n\n\n# Have a look at the first groups\nspecies.summary[1:10, ]\n```\n\n    ##                 Kingdom              Phylum               Class\n    ## 68  Diverse/Unspecified Diverse/Unspecified Diverse/Unspecified\n    ## 932                <NA>                <NA>                <NA>\n    ## 8              Animalia            Chordata            Mammalia\n    ## 115            Animalia          Arthropoda             Insecta\n    ## 100            Animalia          Arthropoda             Insecta\n    ## 185             Plantae Diverse/Unspecified Diverse/Unspecified\n    ## 58             Animalia            Nematoda         Chromadorea\n    ## 772            Animalia          Arthropoda             Insecta\n    ## 15             Animalia            Chordata            Mammalia\n    ## 112            Animalia          Arthropoda             Insecta\n    ##                  Family               Genus                    Species\n    ## 68  Diverse/Unspecified Diverse/Unspecified        Diverse/Unspecified\n    ## 932                <NA>                <NA>     Coptotermes formosanus\n    ## 8               Muridae              Rattus                 Rattus sp.\n    ## 115           Culicidae               Aedes                 Aedes spp.\n    ## 100 Diverse/Unspecified Diverse/Unspecified        Diverse/Unspecified\n    ## 185 Diverse/Unspecified Diverse/Unspecified        Diverse/Unspecified\n    ## 58     Aphelenchoididae     Bursaphelenchus Bursaphelenchus mucronatus\n    ## 772     Rhinotermitidae Diverse/Unspecified        Diverse/Unspecified\n    ## 15              Felidae               Felis                Felis catus\n    ## 112     Rhinotermitidae         Coptotermes     Coptotermes formosanus\n    ##     Average.annual.cost Cumulated.cost Number.estimates Number.year.values\n    ## 68           11529.7832      703316.78              558               1063\n    ## 932           4133.2907      252130.73               37                 80\n    ## 8             3765.8952      225953.71              145                177\n    ## 115           2532.6968      149429.11              287                932\n    ## 100           2443.9288      144191.80               21                 40\n    ## 185           2100.3257      128119.87              385                824\n    ## 58            1657.9454       97818.78              172                411\n    ## 772           1256.0262       64057.34                2                  2\n    ## 15             790.9831       47458.99               90                144\n    ## 112            444.5492       20449.26               12                 12\n\nOf course, many lines in this table are not interesting because they\ncorrespond to all studies covering multiple taxa.\n\n[For a more detailed example, please look at the scripts we provided\nwith the main paper here - note however that these were performed on an\nearlier version of the database, and corrections happened\nsince.](http://borisleroy.com/invacost/global_invasion_costs_scripts.html).\n"
      },
      "source": "https://raw.githubusercontent.com/Farewe/invacost/master/Readme.Rmd",
      "technique": "header_analysis"
    }
  ]
}