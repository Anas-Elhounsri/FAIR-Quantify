{
  "application_domain": [
    {
      "confidence": 15.87,
      "result": {
        "type": "String",
        "value": "Computer Vision"
      },
      "technique": "supervised_classification"
    }
  ],
  "code_repository": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/robboyd/occAssess"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_created": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2021-02-08T13:50:37Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_updated": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2023-08-08T01:37:18Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "description": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "Assess biases, uncertainties and coverage in species' occurrence data."
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 0.9981124194705631,
      "result": {
        "original_header": "What does occAssess do?",
        "type": "Text_excerpt",
        "value": "occAssess enables quick and easy screening of species occurrence data for common forms of bias. \n \n"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9945752190297997,
      "result": {
        "original_header": "How does it work?",
        "type": "Text_excerpt",
        "value": "The package comprises a number of discrete functions, each of which is designed to assess a common form of bias. Generally speaking, users must pass three bits of information to the functions: 1) their occurrence data to the functions; 2) and list of time periods into which the resulting metrics will be split; and 3) the names of the columns in their data that correspond to the required fields in occAssess. Ouputs are generally provided in list format, with one element containing a ggplot2 object, and a second containing the data that underpins that plot.\n \n"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md",
      "technique": "supervised_classification"
    }
  ],
  "download_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/robboyd/occAssess/releases"
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 3
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/robboyd/occAssess/forks"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "robboyd/occAssess"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_title": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "Introduction"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md",
      "technique": "regular_expression"
    }
  ],
  "images": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/robboyd/occAssess/master/vignettes/figure/unnamed-chunk-4-1.png"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/robboyd/occAssess/master/vignettes/figure/unnamed-chunk-5-1.png"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/robboyd/occAssess/master/vignettes/figure/unnamed-chunk-6-1.png"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/robboyd/occAssess/master/vignettes/figure/unnamed-chunk-7-1.png"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/robboyd/occAssess/master/vignettes/figure/unnamed-chunk-8-1.png"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/robboyd/occAssess/master/vignettes/figure/unnamed-chunk-8-2.png"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/robboyd/occAssess/master/vignettes/figure/unnamed-chunk-10-1.png"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/robboyd/occAssess/master/vignettes/figure/unnamed-chunk-12-1.png"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md",
      "technique": "regular_expression"
    }
  ],
  "installation": [
    {
      "confidence": 0.9999783557885156,
      "result": {
        "type": "Text_excerpt",
        "value": "```r\nif (!\"occAssess\" %in% installed.packages()) devtools::install_github(\"https://github.com/robboyd/occAssess\")\nlibrary(occAssess)\n``` \n"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md",
      "technique": "supervised_classification"
    }
  ],
  "issue_tracker": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/robboyd/occAssess/issues"
      },
      "technique": "GitHub_API"
    }
  ],
  "keywords": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": ""
      },
      "technique": "GitHub_API"
    }
  ],
  "license": [
    {
      "confidence": 1,
      "result": {
        "name": "MIT License",
        "spdx_id": "MIT",
        "type": "License",
        "url": "https://api.github.com/licenses/mit",
        "value": "https://api.github.com/licenses/mit"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "type": "File_dump",
        "value": "MIT License\n\nCopyright (c) 2021 UK Centre for Ecology and Hydrology\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/LICENSE",
      "technique": "file_exploration"
    }
  ],
  "name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "occAssess"
      },
      "technique": "GitHub_API"
    }
  ],
  "owner": [
    {
      "confidence": 1,
      "result": {
        "type": "User",
        "value": "robboyd"
      },
      "technique": "GitHub_API"
    }
  ],
  "programming_languages": [
    {
      "confidence": 1,
      "result": {
        "name": "R",
        "size": 74872,
        "type": "Programming_language",
        "value": "R"
      },
      "technique": "GitHub_API"
    }
  ],
  "readme_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md"
      },
      "technique": "file_exploration"
    }
  ],
  "releases": [
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "robboyd",
          "type": "User"
        },
        "date_created": "2021-07-29T15:53:11Z",
        "date_published": "2021-07-29T15:56:45Z",
        "description": "Second major release to accompany submission to Ecology and Evolution as a software note ",
        "html_url": "https://github.com/robboyd/occAssess/releases/tag/v1.3.0",
        "name": "v1.3.0",
        "release_id": 46989034,
        "tag": "v1.3.0",
        "tarball_url": "https://api.github.com/repos/robboyd/occAssess/tarball/v1.3.0",
        "type": "Release",
        "url": "https://api.github.com/repos/robboyd/occAssess/releases/46989034",
        "value": "https://api.github.com/repos/robboyd/occAssess/releases/46989034",
        "zipball_url": "https://api.github.com/repos/robboyd/occAssess/zipball/v1.3.0"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "robboyd",
          "type": "User"
        },
        "date_created": "2021-04-15T18:16:51Z",
        "date_published": "2021-04-15T18:19:43Z",
        "description": "This is the first major release for occAssess and accompanies its submission to ecography as a sofware note. ",
        "html_url": "https://github.com/robboyd/occAssess/releases/tag/v1.0.0",
        "name": "First major release",
        "release_id": 41500197,
        "tag": "v1.0.0",
        "tarball_url": "https://api.github.com/repos/robboyd/occAssess/tarball/v1.0.0",
        "type": "Release",
        "url": "https://api.github.com/repos/robboyd/occAssess/releases/41500197",
        "value": "https://api.github.com/repos/robboyd/occAssess/releases/41500197",
        "zipball_url": "https://api.github.com/repos/robboyd/occAssess/zipball/v1.0.0"
      },
      "technique": "GitHub_API"
    }
  ],
  "somef_missing_categories": [
    "citation",
    "acknowledgement",
    "run",
    "download",
    "requirements",
    "contact",
    "contributors",
    "documentation",
    "faq",
    "support",
    "identifier",
    "has_build_file",
    "executable_example"
  ],
  "somef_provenance": {
    "date": "2024-10-06 06:06:45",
    "somef_schema_version": "1.0.0",
    "somef_version": "0.9.5"
  },
  "stargazers_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 10
      },
      "technique": "GitHub_API"
    }
  ],
  "usage": [
    {
      "confidence": 1,
      "result": {
        "original_header": "A worked example",
        "parent_header": [
          "What does occAssess do?"
        ],
        "type": "Text_excerpt",
        "value": "In this document I demonstrate the utility of occAssess by applying it to data on flower-visiting taxa occurrences in South America over the period 1950 to 2019. The data were extracted from GBIF and can be accessed at https://doi.org/10.15468/dl.wqz6z3. \n"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Occurrence data",
        "parent_header": [
          "What does occAssess do?",
          "A worked example",
          "Inputs"
        ],
        "type": "Text_excerpt",
        "value": "occAssess requires a data.frame with the following fields: species (species name), x (x coordinate of record), y (y coordinate), year, spatialUncertainty (how much uncertainty is associated with the x and y coordinates; units do not matter but must be consistent) and identifier. The identifier is used to split the data into groups; for example, it could represent taxonomic groups or specific datasets. Where you have no information for a field, its value should be set to NA. The column names in your data need not match the fields needed for occAssess; instead, you must specify which columns corresponds to which of the required fields. This enables compatability with data standards such as Darwin core. \n\n\n```r\nspDat <- read.csv(\"C:/Users/Rob.Lenovo-PC/Documents/surpass/Data/GBIF/07.04.21/cleanedData.csv\")\nstr(spDat)\n#> 'data.frame':\t82710 obs. of  6 variables:\n#>  $ species           : chr  \"Artibeus lituratus\" \"Carollia perspicillata\" \"Sturnira parvidens\" \"Sturnira tildae\" ...\n#>  $ x                 : num  -75.1 -75.1 -67.8 -61.4 -72 ...\n#>  $ y                 : num  5.27 5.28 10.4 5.98 7.32 ...\n#>  $ year              : int  2019 2019 1960 1966 1968 1968 1968 1986 1981 1967 ...\n#>  $ spatialUncertainty: num  NA NA NA NA NA NA NA NA NA NA ...\n#>  $ identifier        : chr  \"Phyllostomidae\" \"Phyllostomidae\" \"Phyllostomidae\" \"Phyllostomidae\" ...\n```\n"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Periods",
        "parent_header": [
          "What does occAssess do?",
          "A worked example",
          "Inputs"
        ],
        "type": "Text_excerpt",
        "value": "In addition to your occurrence data, you must also provide a number of periods into which your data will be split (thi can be one period covering e.g. your whole study extent). In this example I will split the data into decades over the period 1950 to 2019. Periods are defined as follows:\n\n\n```r\nperiods <- list(1950:1959, 1960:1969, 1970:1979, 1980:1989, 1990:1999, 2000:2009, 2010:2019)\n```\n"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Functions",
        "parent_header": [
          "What does occAssess do?",
          "A worked example"
        ],
        "type": "Text_excerpt",
        "value": "All of the functions in occAssess require two common arguments (in addition to the arguments that specify which column matches which field): dat and periods (outlined above). I will run through each function in the following, indicating where additional arguments are required. Generally, the functions in occAssess return a list with two elements: one being a ggplot2 object, with a separate panel or group for each level of identifier; and a second with the data underpinning the plot.\n"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "assessRecordNumber",
        "parent_header": [
          "What does occAssess do?",
          "A worked example",
          "Functions"
        ],
        "type": "Text_excerpt",
        "value": "The first function I will introduce is the simplest: assessRecordNumber. This function simply plots out the number of records per year in your dataset. \n\n\n```r\nnRec <- assessRecordNumber(dat = spDat,\n                           periods = periods,\n                           species = \"species\",\n                           x = \"x\",\n                           y = \"y\",\n                           year = \"year\", \n                           spatialUncertainty = \"spatialUncertainty\",\n                           identifier = \"identifier\",\n                           normalize = FALSE)\nstr(nRec$data)\n#> 'data.frame':\t14 obs. of  3 variables:\n#>  $ val   : int  1363 24855 13971 10499 7843 7546 12183 302 613 461 ...\n#>  $ group : chr  \"Phyllostomidae\" \"Phyllostomidae\" \"Phyllostomidae\" \"Phyllostomidae\" ...\n#>  $ Period: int  1 2 3 4 5 6 7 1 2 3 ...\nnRec$plot\n```\n\n![plot of chunk unnamed-chunk-4](vignettes/figure/unnamed-chunk-4-1.png)\n\nThis function enables researchers to quickly establish how the number of records has changed over time. Note the argument \"normalize\" which, if TRUE, will rescale the counts for each level of identifier to enable comparisons where they are very different.\n"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "assessSpeciesNumber",
        "parent_header": [
          "What does occAssess do?",
          "A worked example",
          "Functions"
        ],
        "type": "Text_excerpt",
        "value": "In addition to the number of records, you may wish to know how the number of species (taxonomic coverage) in your dataset changes over time. For this you can use the function assessSpeciesNumber:\n\n\n```r\nnSpec <- assessSpeciesNumber(dat = spDat,\n                             periods = periods,\n                             species = \"species\",\n                             x = \"x\",\n                             y = \"y\",\n                             year = \"year\", \n                             spatialUncertainty = \"spatialUncertainty\",\n                             identifier = \"identifier\",\n                             normalize = FALSE)\nstr(nSpec$data)\n#> 'data.frame':\t14 obs. of  3 variables:\n#>  $ val   : int  69 122 120 118 119 130 138 15 18 17 ...\n#>  $ group : chr  \"Phyllostomidae\" \"Phyllostomidae\" \"Phyllostomidae\" \"Phyllostomidae\" ...\n#>  $ Period: int  1 2 3 4 5 6 7 1 2 3 ...\nnSpec$plot\n```\n\n![plot of chunk unnamed-chunk-5](vignettes/figure/unnamed-chunk-5-1.png)\n"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "assessSpeciesID",
        "parent_header": [
          "What does occAssess do?",
          "A worked example",
          "Functions"
        ],
        "type": "Text_excerpt",
        "value": "It has been speculated that apparent changes in taxonomic coverage could, in fact, reflect a change in taxonomic expertise over time. For example, if fewer individuals have the skill to identify certain species, then it may not appear in your dataset in the later periods. The function assessSpeciesID treats the proportion of species identified to species level as a proxy for taxonomic expertise: \n\n\n```r\npropID <- assessSpeciesID(dat = spDat,\n                           periods = periods,\n                           type = \"proportion\",\n                           species = \"species\",\n                           x = \"x\",\n                           y = \"y\",\n                           year = \"year\", \n                           spatialUncertainty = \"spatialUncertainty\",\n                           identifier = \"identifier\")\nstr(propID$data)\n#> 'data.frame':\t14 obs. of  3 variables:\n#>  $ prop  : num  0.941 0.986 0.959 0.963 0.959 ...\n#>  $ group : chr  \"Phyllostomidae\" \"Phyllostomidae\" \"Phyllostomidae\" \"Phyllostomidae\" ...\n#>  $ Period: int  1 2 3 4 5 6 7 1 2 3 ...\npropID$plot\n```\n\n![plot of chunk unnamed-chunk-6](vignettes/figure/unnamed-chunk-6-1.png)\n\nThe argument \"type\" can take the values proportion (proportion of records identified to species level) or count (number of records identified to species level). \n"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "assessRarityBias",
        "parent_header": [
          "What does occAssess do?",
          "A worked example",
          "Functions"
        ],
        "type": "Text_excerpt",
        "value": "A number of studies have defined taxonomic bias in a dataset as the degree of proportionality between species' range sizes (usually proxied by the number of grid cells on which it has been recorded) and the total number of records. One can regress the number of records on range size, and the residuals give an index of how over-or undersampled a species is given its prevalence. The function assessSpeciesBias conducts these analyses for each time period, and uses the r2 value from the linear regressions as an index proportionality between range sizes and number of records. Higher values indicate that species' are sampled in proportion to their range sizes whereas lower values indicate that some species are over- or undersampled. \n\n\n```r\ntaxBias <- assessRarityBias(dat = spDat,\n                            periods = periods,\n                            res = 0.5,\n                            prevPerPeriod = FALSE,\n                            species = \"species\",\n                            x = \"x\",\n                            y = \"y\",\n                            year = \"year\", \n                            spatialUncertainty = \"spatialUncertainty\",\n                            identifier = \"identifier\")\n#> Warning in assessRarityBias(dat = spDat, periods = periods, res = 0.5, prevPerPeriod = FALSE, : Removing 4843 records\n#> because they are do not identified to species level.\nstr(taxBias$data)\n#> 'data.frame':\t14 obs. of  3 variables:\n#>  $ period: int  1 2 3 4 5 6 7 1 2 3 ...\n#>  $ id    : chr  \"Phyllostomidae\" \"Phyllostomidae\" \"Phyllostomidae\" \"Phyllostomidae\" ...\n#>  $ index : num  0.459 0.562 0.716 0.688 0.707 ...\ntaxBias$plot +ggplot2::ylim(c(0,1))\n```\n\n![plot of chunk unnamed-chunk-7](vignettes/figure/unnamed-chunk-7-1.png)\n"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "assessSpatialCov",
        "parent_header": [
          "What does occAssess do?",
          "A worked example",
          "Functions"
        ],
        "type": "Text_excerpt",
        "value": "The function assessSpatialCov grids your data at a specified spatial resolution then maps it in geographic space:\n\n\n```r\nmaps <- assessSpatialCov(dat = spDat,\n                         periods = periods,\n                         res = 0.5,\n                         logCount = TRUE,\n                         countries = c(\"Brazil\", \"Argentina\", \"Chile\", \"Colombia\", \"Ecuador\", \"Bolivia\", \"Uruguay\", \n                         \"Venezuela\",  \"Paraguay\", \"Peru\", \"Suriname\", \"Mexico\", \"Panama\", \"Costa Rica\", \"Honduras\",\n                         \"Nicaragua\", \"Belize\", \"El Salvador\", \"Guatemala\", \"Cuba\", \"Dominican Republic\"),\n                         species = \"species\",\n                         x = \"x\",\n                         y = \"y\",\n                         year = \"year\", \n                         spatialUncertainty = \"spatialUncertainty\",\n                         identifier = \"identifier\")\nmaps[[1]] + ggplot2::xlim(c(-90, -30)) # Phyllostomidae\n#> Warning: Removed 47859 rows containing missing values (geom_tile).\n```\n\n![plot of chunk unnamed-chunk-8](vignettes/figure/unnamed-chunk-8-1.png)\n\n```r\nmaps[[2]] + ggplot2::xlim(c(-90, -30)) # Syrphidae\n#> Warning: Removed 47859 rows containing missing values (geom_tile).\n```\n\n![plot of chunk unnamed-chunk-8](vignettes/figure/unnamed-chunk-8-2.png)\n\nAs you can see there are three new arguments to be specified. res is the spatial resolution at which you would like to map the data (units depend on you coordinate reference system, e.g. m if easting and northing, and decimal degress in lon/ lat); logCount indicates whether or not you would like to log10 transform the counts for visual purposes; and countries defines the countries covered by your data. Countries must be specified in order to plot their boundaries.\n"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "assessSpatialBias",
        "parent_header": [
          "What does occAssess do?",
          "A worked example",
          "Functions"
        ],
        "type": "Text_excerpt",
        "value": "Even if your data has good spatial coverage, it may be biased; that is to say, it may deviate from a random distribution in space. The function assessSpatialBias provides an index of how far your data deviates from a random distribution. To do this is simulates an equal number of points to your data randomly across your study region. Then, for each time period, it calculates the average nearest neighbour distance across your data points and divides it by the average nearest neighbour distance from the random sample. If the index is lower than one then your data is more clustered than the random sample, and if it is above one it is more dispersed. To delineate your study area, you must provide a mask layer. The mask is a raster object which is has numeric values within your study area, and is NA outside of your study area. Here, I'll use some climate data from South America as a mask layer:\n\n\n```r\nmask <- raster::raster(\"C:/Users/Rob.Lenovo-PC/Documents/surpass/Data/occAssessData/climSA.asc\")\nmask\n#> class      : RasterLayer \n#> dimensions : 410, 279, 114390  (nrow, ncol, ncell)\n#> resolution : 0.1666667, 0.1666667  (x, y)\n#> extent     : -81.33333, -34.83333, -55.83333, 12.5  (xmin, xmax, ymin, ymax)\n#> crs        : NA \n#> source     : climSA.asc \n#> names      : climSA\n```\n\n\n```r\nspatBias <- assessSpatialBias(dat = spDat,\n                              periods = periods,\n                              mask = mask,\n                              nSamps = 10,\n                              degrade = TRUE,\n                              species = \"species\",\n                              x = \"x\",\n                              y = \"y\",\n                              year = \"year\", \n                              spatialUncertainty = \"spatialUncertainty\",\n                              identifier = \"identifier\")\n#> Warning in FUN(X[[i]], ...): Fewer than 100 records in period 1 for Syrphidae . View this result with caution.\n#> Warning in FUN(X[[i]], ...): Fewer than 100 records in period 2 for Syrphidae . View this result with caution.\n#> Warning in FUN(X[[i]], ...): Fewer than 100 records in period 3 for Syrphidae . View this result with caution.\n#> Warning in FUN(X[[i]], ...): Fewer than 100 records in period 4 for Syrphidae . View this result with caution.\n#> Warning in FUN(X[[i]], ...): Fewer than 100 records in period 5 for Syrphidae . View this result with caution.\n#> Warning: `guides(<scale> = FALSE)` is deprecated. Please use `guides(<scale> = \"none\")` instead.\nstr(spatBias$data)\n#> 'data.frame':\t14 obs. of  5 variables:\n#>  $ mean      : num  0.391 0.435 0.274 0.248 0.276 ...\n#>  $ upper     : num  0.418 0.444 0.288 0.257 0.284 ...\n#>  $ lower     : num  0.366 0.427 0.263 0.241 0.268 ...\n#>  $ Period    : chr  \"1\" \"2\" \"3\" \"4\" ...\n#>  $ identifier: chr  \"Phyllostomidae\" \"Phyllostomidae\" \"Phyllostomidae\" \"Phyllostomidae\" ...\nspatBias$plot + ggplot2::ylim(c(0,1))\n```\n\n![plot of chunk unnamed-chunk-10](vignettes/figure/unnamed-chunk-10-1.png)\n\nThe argument nSamps indicates how many random distributions should be drawn, and the argument degrade = TRUE indicates that any duplicated coordinates within a time period and for a given level of identifier are removed. The shaded regions on the plot indicate the 5th and 95th percentiles of the nearest neighbour index calculated over nSamps random samples. \n"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "assessEnvBias",
        "parent_header": [
          "What does occAssess do?",
          "A worked example",
          "Functions"
        ],
        "type": "Text_excerpt",
        "value": "Spatial bias in your dataset does not necessarily tell you anything about environmental bias. The function assessEnvBias assesses the degree to which your data are biased across time periods in environmental space. To do this we first need to get some climate data. I will use the standard suite of 19 bioclimatic variables from worldclim. It is possible to get this data through R using the raster package, but here I will use my local version for speed. The environmental data for assessEnvBias can be processed as follows:\n\n\n```r\n## How to get the data using raster::getData()\n#clim <- raster::getData(\"worldclim\",var=\"bio\",res=10)\nclim <- raster::stack(list.files(\"C:/Users/Rob.Lenovo-PC/Documents/surpass/Data/bio/bio/\",\n                           full.names = T)) # my local version (19 raster layers)\n# delineate south america in the climate data \nshp <- raster::shapefile(\"C:/Users/Rob.Lenovo-PC/Documents/surpass/Data/South America country boundaries/South America country boundaries/data/commondata/data0/southamerica_adm0.shp\")\n#> Warning in OGRSpatialRef(dsn, layer, morphFromESRI = morphFromESRI, dumpSRS = dumpSRS, : Discarded ellps WGS 84 in Proj4\n#> definition: +proj=merc +a=6378137 +b=6378137 +lat_ts=0 +lon_0=0 +x_0=0 +y_0=0 +k=1 +units=m +nadgrids=@null +wktext\n#> +no_defs\n#> Warning in OGRSpatialRef(dsn, layer, morphFromESRI = morphFromESRI, dumpSRS = dumpSRS, : Discarded datum WGS_1984 in\n#> Proj4 definition: +proj=merc +a=6378137 +b=6378137 +lat_ts=0 +lon_0=0 +x_0=0 +y_0=0 +k=1 +units=m +nadgrids=@null +wktext\n#> +no_defs\n#> Warning in showSRID(wkt2, \"PROJ\"): Discarded ellps WGS 84 in Proj4 definition: +proj=merc +a=6378137 +b=6378137 +lat_ts=0\n#> +lon_0=0 +x_0=0 +y_0=0 +k=1 +units=m +nadgrids=@null +wktext +no_defs +type=crs\n#> Warning in showSRID(wkt2, \"PROJ\"): Discarded datum World Geodetic System 1984 in Proj4 definition\nshp <- sp::spTransform(shp, raster::crs(clim))\nclim <- raster::crop(clim, raster::extent(shp))\nclim <- raster::mask(clim, shp)\n## exract climate data at coordinates of occurrence data \nenvDat <- raster::extract(clim, spDat[, c(\"x\", \"y\")])\n## extract background environmental data \nbackgroundEnvDat <- raster::sampleRandom(clim, size = 10000,\n                       xy = F)\n```\nassessEnvBias conducts a principal component analysis on your environmental data, then maps your occurrence data in 2d environmental space. If backgroundEnvDat is supplied, then the PCA is conducted on this sample, and the occurrence data are projected on to this plane. Otherwise, the PCA is conducted on the environmental data corresponding to the occurrence data and there is no reference to background environmental space.\n\n\n```r\nenvBias <- assessEnvBias(dat = spDat,\n                         species = \"species\",\n                         x = \"x\",\n                         y = \"y\",\n                         year = \"year\", \n                         spatialUncertainty = \"spatialUncertainty\",\n                         identifier = \"identifier\",\n                         envDat = envDat,\n                         backgroundEnvDat = backgroundEnvDat,\n                         xPC = 1,\n                         yPC = 2,\n                         periods = periods) # xPC and yPC indicate which principal components to set as the x and y axes,respectively\nenvBias$plot\n```\n\n![plot of chunk unnamed-chunk-12](vignettes/figure/unnamed-chunk-12-1.png)\n"
      },
      "source": "https://raw.githubusercontent.com/robboyd/occAssess/master/README.md",
      "technique": "header_analysis"
    }
  ]
}