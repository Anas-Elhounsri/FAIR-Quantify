{
  "code_repository": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/BioHPC/MegaD"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_created": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2020-04-22T17:13:42Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_updated": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2024-04-11T17:02:10Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "description": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "Deep learning for metagenomic sample classification"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 0.9424571001310255,
      "result": {
        "original_header": "MegaD: A package for metagenomic analysis to identify and predict disease sample accurately using deep neural networks.",
        "type": "Text_excerpt",
        "value": "  \nMachine learning has been utilized in many applications from biomedical imaging to business analytics. Machine learning is stipulated to be a strong method for diagnostics and even for determining therapeutics in future as we move to precision medicine. MegaD provides an unprecedented opportunity to develop neural networks from metagenomic data available publicly as well as to perform classification of data samples based on the optimal model we developed.  \nFor a more in-depth understanding of the applications and methodologies of MegaD, please refer to our published article: (https://doi.org/10.3390/life12050669) \nThe description below walks you through the analysis of the DIABIMMUNE project (https://pubs.broadinstitute.org/diabimmune) \nThe general workflow is described in below. \n"
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "supervised_classification"
    }
  ],
  "documentation": [
    {
      "confidence": 1,
      "result": {
        "format": "wiki",
        "type": "Url",
        "value": "https://github.com/BioHPC/MegaD/wiki"
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "regular_expression"
    }
  ],
  "download_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/BioHPC/MegaD/releases"
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 3
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/BioHPC/MegaD/forks"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "BioHPC/MegaD"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_title": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "MegaD: A package for metagenomic analysis to identify and predict disease sample accurately using deep neural networks."
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "regular_expression"
    }
  ],
  "images": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/BioHPC/MegaD/master/pictures/2gif.gif"
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/BioHPC/MegaD/master/pictures/1gif.gif"
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "regular_expression"
    }
  ],
  "installation": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Installing MegaD:",
        "parent_header": [
          "MegaD: A package for metagenomic analysis to identify and predict disease sample accurately using deep neural networks."
        ],
        "type": "Text_excerpt",
        "value": "Before using our tool, several Python packages are required. These can be installed using the following commands. In the process of installing PyTorch, please refer to the provided link and proceed with the installation that best suits your system configuration. Choose the installation option that corresponds to your hardware capabilities, specifically whether you are using CUDA or not, depending on the presence or absence of a GPU in your system:\n - pytorch website: https://pytorch.org/get-started/locally/\n - CUDA website: https://developer.nvidia.com/cuda-toolkit-archive\n```\n>pip3 install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118\n>pip install scikit-learn\n>pip install tensorflow\n>pip install matplotlib\n>pip install numpy\n>pip install pandas\n```\nOnce these packages are installed, continue onto the next step to install our tool.\n\nInstalling MegaD is simple. There are two options for installing our software tool. \n"
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "[1] Gitclone installation:",
        "parent_header": [
          "MegaD: A package for metagenomic analysis to identify and predict disease sample accurately using deep neural networks.",
          "Installing MegaD:"
        ],
        "type": "Text_excerpt",
        "value": "For this installation, simply clone this repository into your location of choice using the following command:\n```\n>git clone https://github.com/BioHPC/MegaD.git\n```\n![2gif](https://github.com/BioHPC/MegaD/blob/master/pictures/2gif.gif)"
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "[2] Manual installation:",
        "parent_header": [
          "MegaD: A package for metagenomic analysis to identify and predict disease sample accurately using deep neural networks.",
          "Installing MegaD:"
        ],
        "type": "Text_excerpt",
        "value": "Download the .zip file from the github page in the top right, then extract the contents of the file into your directory of choice.\n"
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 0.9530378523414942,
      "result": {
        "original_header": "MegaD: A package for metagenomic analysis to identify and predict disease sample accurately using deep neural networks.",
        "type": "Text_excerpt",
        "value": "The description below walks you through the analysis of the DIABIMMUNE project (https://pubs.broadinstitute.org/diabimmune) \n"
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "supervised_classification"
    }
  ],
  "issue_tracker": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/BioHPC/MegaD/issues"
      },
      "technique": "GitHub_API"
    }
  ],
  "keywords": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": ""
      },
      "technique": "GitHub_API"
    }
  ],
  "name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "MegaD"
      },
      "technique": "GitHub_API"
    }
  ],
  "owner": [
    {
      "confidence": 1,
      "result": {
        "type": "User",
        "value": "BioHPC"
      },
      "technique": "GitHub_API"
    }
  ],
  "programming_languages": [
    {
      "confidence": 1,
      "result": {
        "name": "Python",
        "size": 18095,
        "type": "Programming_language",
        "value": "Python"
      },
      "technique": "GitHub_API"
    }
  ],
  "readme_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md"
      },
      "technique": "file_exploration"
    }
  ],
  "requirements": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Pre-requisites:",
        "parent_header": [
          "MegaD: A package for metagenomic analysis to identify and predict disease sample accurately using deep neural networks."
        ],
        "type": "Text_excerpt",
        "value": "* Python version 3.7.x\n    * Download Python (>3.6.0) version from Python.org.\n    * Windows: https://www.python.org/downloads/windows/\n    * Mac OS X: https://www.python.org/downloads/mac-osx/\n    * Linux: https://www.python.org/downloads/source/\n\t\n* Metagenomics data in BIOM or OTU format with accompanying metadata file.\n\t* Use Kraken 2 http://ccb.jhu.edu/software/kraken2/ for taxonomic classification of sequences.\n"
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "header_analysis"
    }
  ],
  "somef_missing_categories": [
    "citation",
    "acknowledgement",
    "run",
    "download",
    "contact",
    "contributors",
    "license",
    "faq",
    "support",
    "identifier",
    "has_build_file",
    "executable_example"
  ],
  "somef_provenance": {
    "date": "2024-10-05 23:21:39",
    "somef_schema_version": "1.0.0",
    "somef_version": "0.9.5"
  },
  "stargazers_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 7
      },
      "technique": "GitHub_API"
    }
  ],
  "type": [
    {
      "confidence": 0.82,
      "result": {
        "type": "String",
        "value": "commandline-application"
      },
      "technique": "software_type_heuristics"
    }
  ],
  "usage": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Data Input",
        "parent_header": [
          "MegaD: A package for metagenomic analysis to identify and predict disease sample accurately using deep neural networks.",
          "Getting Started"
        ],
        "type": "Text_excerpt",
        "value": "MegaD can take both OTU table and BIOM file from popular metagenomic profiling tools, [Kraken2](http://ccb.jhu.edu/software/kraken2/) and [qiime](https://qiime2.org/).\nMegaD provides a set of pre-processed datasets for use in training. \n\nWith Kraken2 installed, follow the instructions at https://github.com/DerrickWood/kraken2/wiki/Manual to generate a taxonomic profile of your 16S or WGS data.\n\n"
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Training the Model",
        "parent_header": [
          "MegaD: A package for metagenomic analysis to identify and predict disease sample accurately using deep neural networks.",
          "Getting Started"
        ],
        "type": "Text_excerpt",
        "value": "To train the model, navigate to the scripts folder in a command line environment, then run the following python script:\n\n```\npython DNN.py ../Data/dataset.csv ../Data/metadata.csv --threshold=0.03 -lr=0.001 --normalize=True --feature_level=Species --epochs=20\n```\n![1gif](https://github.com/BioHPC/MegaD/blob/master/pictures/1gif.gif)\n\nThis will generate a model using default parameters and using the selected training dataset. The model will be saved as dataset.pt for use with prediction.\n\nThere are several optional parameters that can be used to fine tune the model, they are described below:\n\n* The GridSearch parameters can be used to leverage randomized grid search for hyperparameter optimization of the model.\n\n* The threshold parameter is used to prune the data of abundances that fall below the threshold, which tends to increase the accuracy of the model.\n\n* The normalization parameter executes data normalization when set to true.\n\n* The feature level parameter determines which taxonomic levels to use for classification. Options are: 'All', 'Species', and 'Genus'\n\n* The learning rate parameter sets the learning rate of the neural network, the optimal learning rate will vary depending on the dataset used.\n\n* The epochs parameter determines for how many iterations of the data the neural network will be trained on. Longer epochs will increase run-time and increase risk of \noverfitting.\n\n* The batch parameter sets what batch size to use for training the network.\n\n* The dropout rate determines the frequency at which the model will reset weights to help prevent overfitting.\n\n* The early stop feature is used only if grid search is set to true, and adds a limit for how many iteration of grid search are done without improvement before training is stopped.\n\n\n"
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Prediction with trained model",
        "parent_header": [
          "MegaD: A package for metagenomic analysis to identify and predict disease sample accurately using deep neural networks.",
          "Getting Started"
        ],
        "type": "Text_excerpt",
        "value": "To predict an unknown profile using a trained model, run the following command.\n```python predict.py dataset.pt testdata.csv```\n\nThis will return a prediction based on the trained model used. MegaD provides a set of pretrained models for quick analysis of several datasets. \n"
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Criteria for feature selection",
        "parent_header": [
          "MegaD: A package for metagenomic analysis to identify and predict disease sample accurately using deep neural networks.",
          "Getting Started",
          "Prediction with trained model"
        ],
        "type": "Text_excerpt",
        "value": "**Genus Level** and **Species Level** tabs return genus and species level from the dataset as the feature. **All Level** tab tracks back the taxon level for unclassified higher order.  \n\n"
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Threshold",
        "parent_header": [
          "MegaD: A package for metagenomic analysis to identify and predict disease sample accurately using deep neural networks.",
          "Getting Started",
          "Prediction with trained model"
        ],
        "type": "Text_excerpt",
        "value": "This field is getting a floating number to remove profiles and their abundances below the threshold value. Default value is **0**. Increasing this threshold can increase prediction accuracy by filtering out irrelevant taxonomies.\n\n\n"
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Normalization",
        "parent_header": [
          "MegaD: A package for metagenomic analysis to identify and predict disease sample accurately using deep neural networks.",
          "Getting Started",
          "Prediction with trained model"
        ],
        "type": "Text_excerpt",
        "value": "There is a choice for normalizing the data. Normalization is achieved using the cumulative sum scaling (CSS) method. \n"
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Gridsearch",
        "parent_header": [
          "MegaD: A package for metagenomic analysis to identify and predict disease sample accurately using deep neural networks.",
          "Getting Started",
          "Prediction with trained model"
        ],
        "type": "Text_excerpt",
        "value": "This option repeatedly trains models using different parameters each time in order to determine the parameters that provide the highest prediction accuracy for each dataset. The grid search will stop once the number of runs without an accuracy improvement matches the value of the **Early stop** parameter.\n"
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Early Stop",
        "parent_header": [
          "MegaD: A package for metagenomic analysis to identify and predict disease sample accurately using deep neural networks.",
          "Getting Started",
          "Prediction with trained model"
        ],
        "type": "Text_excerpt",
        "value": "Early stop defines how many epochs without improvement will occur before the gridsearch is stopped and a trained model is returned.\n"
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Dropout Rate",
        "parent_header": [
          "MegaD: A package for metagenomic analysis to identify and predict disease sample accurately using deep neural networks.",
          "Getting Started",
          "Prediction with trained model"
        ],
        "type": "Text_excerpt",
        "value": "Drop out is the random resetting of weights during training, which can aid in reducing overfitting of the neural network.\n"
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Learning Rate",
        "parent_header": [
          "MegaD: A package for metagenomic analysis to identify and predict disease sample accurately using deep neural networks.",
          "Getting Started",
          "Prediction with trained model"
        ],
        "type": "Text_excerpt",
        "value": "This parameter sets the learning rate to be used during the training process.\n"
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Epochs",
        "parent_header": [
          "MegaD: A package for metagenomic analysis to identify and predict disease sample accurately using deep neural networks.",
          "Getting Started",
          "Prediction with trained model"
        ],
        "type": "Text_excerpt",
        "value": "This parameter defines how many training cycles are completed dueing the training process.\n"
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "End to end example",
        "parent_header": [
          "MegaD: A package for metagenomic analysis to identify and predict disease sample accurately using deep neural networks."
        ],
        "type": "Text_excerpt",
        "value": "For this example, we will demonstrate and example usage of our model using the purina dataset to obtain the best results possible. \n"
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Training",
        "parent_header": [
          "MegaD: A package for metagenomic analysis to identify and predict disease sample accurately using deep neural networks.",
          "End to end example"
        ],
        "type": "Text_excerpt",
        "value": "First, we will train the model on the Purina.csv dataset using the following command:\n```\n>python DNN.py ../Data/wgs_purina.csv ../Data/wgs_purina_metadata.csv --threshold=0.03 --normalize=True --feature_level=Species --epochs=20\n```\nAlternatively, if we would like the best results possible we can utilize the grid search function, this will greatly increase the time it takes to train the model, but will produce better results. We can do that using the following command:\n```\n>python DNN.py ../Data/wgs_purina.csv ../Data/wgs_purina_metadata.csv --threshold=0.03 --normalize=True --feature_level=Species --epochs=20 --gridsearch=True\n```\n\nThis will generate the following:\n\n* An ROC curve that can be saved for future use\n* A prinout of training accuracy, validation accuracy, testing accuracy, and testing AUC in the console\n"
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Prediction",
        "parent_header": [
          "MegaD: A package for metagenomic analysis to identify and predict disease sample accurately using deep neural networks.",
          "End to end example"
        ],
        "type": "Text_excerpt",
        "value": "In order to sample MegaD's ability to predict disease status from taxonomic profile, we will run the prediction using the same Purina.csv dataset.\n\nTo predict, run the following command:\n```\n>python DNN.py ../Data/wgs_purina.csv ../Data/wgs_purina_metadata.csv ../Data/wgs_purina.csv --threshold=0.03 --normalize=True --feature_level=Species --epochs=10 > prediction.txt\n```\n\nThis will output the model's predictions to a file named prediction.txt for further analysis.\n"
      },
      "source": "https://raw.githubusercontent.com/BioHPC/MegaD/master/README.md",
      "technique": "header_analysis"
    }
  ]
}