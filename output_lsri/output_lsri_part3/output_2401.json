{
  "citation": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Citing",
        "type": "Text_excerpt",
        "value": "If you use `rasusa` in your research, it would be very much appreciated if you could\ncite it.\n\n[![DOI](https://joss.theoj.org/papers/10.21105/joss.03941/status.svg)](https://doi.org/10.21105/joss.03941)\n\n> Hall, M. B., (2022). Rasusa: Randomly subsample sequencing reads to a specified coverage. Journal of Open Source\n> Software, 7(69), 3941, https://doi.org/10.21105/joss.03941\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Bibtex",
        "parent_header": [
          "Citing"
        ],
        "type": "Text_excerpt",
        "value": "You can get the following citation by running `rasusa cite`\n\n```Bibtex\n@article{Hall2022,\n  doi = {10.21105/joss.03941},\n  url = {https://doi.org/10.21105/joss.03941},\n  year = {2022},\n  publisher = {The Open Journal},\n  volume = {7},\n  number = {69},\n  pages = {3941},\n  author = {Michael B. Hall},\n  title = {Rasusa: Randomly subsample sequencing reads to a specified coverage},\n  journal = {Journal of Open Source Software}\n}\n\n```\n\n[1]: https://doi.org/10.1099/mgen.0.000188\n\n[brew-tap]: https://github.com/brewsci/homebrew-bio\n\n[channels]: https://bioconda.github.io/user/install.html#set-up-channels\n\n[conda]: https://docs.conda.io/projects/conda/en/latest/user-guide/install/\n\n[docker]: https://docs.docker.com/v17.12/install/\n\n[dockerhub]: https://hub.docker.com/r/mbhall88/rasusa\n\n[dpryan79]: https://github.com/dpryan79\n\n[filtlong]: https://github.com/rrwick/Filtlong\n\n[homebrew]: https://docs.brew.sh/Installation\n\n[hyperfine]: https://github.com/sharkdp/hyperfine\n\n[kcov]: https://github.com/SimonKagstrom/kcov\n\n[log-lvl]: https://docs.rs/log/0.4.6/log/enum.Level.html#variants\n\n[mgen-ref]: https://doi.org/10.1099/mgen.0.000294\n\n[pr-help]: https://github.com/bioconda/bioconda-recipes/pull/18690\n\n[pyfastaq]: https://github.com/sanger-pathogens/Fastaq\n\n[quay.io]: https://quay.io/repository/mbhall88/rasusa\n\n[rust]: https://www.rust-lang.org/tools/install\n\n[score]: https://github.com/rrwick/Filtlong#read-scoring\n\n[seed]: https://en.wikipedia.org/wiki/Random_seed\n\n[seqtk]: https://github.com/lh3/seqtk\n\n[singularity]: https://sylabs.io/guides/3.4/user-guide/quick_start.html#quick-installation-steps\n\n[snakemake]: https://snakemake.readthedocs.io/en/stable/\n\n[triples]: https://clang.llvm.org/docs/CrossCompilation.html#target-triple\n\n[wrapper]: https://snakemake-wrappers.readthedocs.io/en/stable/wrappers/rasusa.html\n\n[zstd]: https://github.com/facebook/zstd\n\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "author": "Michael B. Hall",
        "doi": "10.21105/joss.03941",
        "format": "bibtex",
        "title": "Rasusa: Randomly subsample sequencing reads to a specified coverage",
        "type": "Text_excerpt",
        "url": "https://doi.org/10.21105/joss.03941",
        "value": "@article{Hall2022,\n    journal = {Journal of Open Source Software},\n    title = {Rasusa: Randomly subsample sequencing reads to a specified coverage},\n    author = {Michael B. Hall},\n    pages = {3941},\n    number = {69},\n    volume = {7},\n    publisher = {The Open Journal},\n    year = {2022},\n    url = {https://doi.org/10.21105/joss.03941},\n    doi = {10.21105/joss.03941},\n}"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "regular_expression"
    }
  ],
  "code_repository": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/mbhall88/rasusa"
      },
      "technique": "GitHub_API"
    }
  ],
  "contributing_guidelines": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Contributing",
        "type": "Text_excerpt",
        "value": "If you would like to help improve `rasusa` you are very welcome!\n\nFor changes to be accepted, they must pass the CI and coverage checks. These include:\n\n- Code is formatted with `rustfmt`. This can be done by running `cargo fmt` in the\n  project directory.\n- There are no compiler errors/warnings. You can check this by running `cargo clippy\n  --all-features --all-targets -- -D warnings`\n- Code coverage has not reduced. If you want to check coverage before pushing changes, I\n  use [`kcov`][kcov].\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    }
  ],
  "date_created": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2019-09-26T13:25:47Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_updated": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2024-10-02T17:42:15Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "description": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "Randomly subsample sequencing reads or alignments"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 0.9362748315260463,
      "result": {
        "original_header": "Motivation",
        "type": "Text_excerpt",
        "value": "I couldn't find a tool for subsampling fastq reads that met my requirements. All the\nstrategies I could find fell short as they either just wanted a number or percentage of\nreads to subsample to or, if they did subsample to a coverage, they assume all reads are\nthe same size (i.e Illumina). As I mostly work with long-read data this posed a problem\nif I wanted to subsample a file to certain coverage, as length of reads was never taken\ninto account. `rasusa` addresses this shortcoming. \nA workaround I had been using for a while was using [`filtlong`][filtlong]. It was\nsimple enough, I just figure out the number of bases I need to achieve a (theoretical)\ncoverage for my sample. Say I have a fastq from an _E. coli_ sample with 5 million reads\nand I want to subset it to 50x coverage. I just need to multiply the expected size of\nthe sample's genome, 4.6 million base pairs, by the coverage I want and I have my target\nbases - 230 million base pairs. In `filtlong`, I can do the following\n```sh\ntarget=230000000\nfiltlong --target_bases \"$target\" reads.fq > reads.50x.fq\n```\n \nHowever, this is technically not the intended function of `filtlong`; it's a quality\nfiltering tool. What you get in the end is a subset of the [\"highest scoring\"][score]\nreads at a (theoretical) coverage of 50x. Depending on your circumstances, this might be\nwhat you want. However, you bias yourself towards the best/longest reads in the dataset\n\\- not a fair representation of your dataset as a whole. There is also the possibility\nof favouring regions of the genome that produce longer/higher quality reads. [De Maio\n_et al._][mgen-ref] even found that by randomly subsampling nanopore reads you achieve\n_better_ genome assemblies than if you had filtered. \nSo, depending on your circumstances, an unbiased subsample of your reads might be what\nyou need. And if this is the case, `rasusa` has you covered.\n \n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.8835191019582763,
      "result": {
        "original_header": "Benchmark",
        "type": "Text_excerpt",
        "value": "The real question is: will `rasusa` just needlessly eat away at your precious time on\nearth? \nTo do this benchmark, I am going to use [hyperfine][hyperfine]. \n_Note, these benchmarks are for `reads` only as there is no other tool that replicates the functionality of `aln`._\n \n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9388255648420343,
      "result": {
        "original_header": "Paired-end input",
        "type": "Text_excerpt",
        "value": "Download and then deinterleave the fastq with [`pyfastaq`][pyfastaq]\n```shell\nURL=\"ftp://ftp.sra.ebi.ac.uk/vol1/fastq/SRR648/008/SRR6488968/SRR6488968.fastq.gz\"\nwget \"$URL\" -O - | gzip -d -c - | fastaq deinterleave - r1.fq r2.fq\n```\nEach file's size is 179M and has 283,590 reads.  \nFor this benchmark, we will use [`seqtk`][seqtk]. We will also test `seqtk`'s 2-pass\nmode as this is analogous to `rasusa reads`.\n```shell\nNUM_READS=140000\nSEQTK_CMD_1=\"seqtk sample -s 1 r1.fq $NUM_READS > /tmp/r1.fq; seqtk sample -s 1 r2.fq $NUM_READS > /tmp/r2.fq;\"\nSEQTK_CMD_2=\"seqtk sample -2 -s 1 r1.fq $NUM_READS > /tmp/r1.fq; seqtk sample -2 -s 1 r2.fq $NUM_READS > /tmp/r2.fq;\"\nRASUSA_CMD=\"rasusa reads r1.fq r2.fq -n $NUM_READS -s 1 -o /tmp/r1.fq -o /tmp/r2.fq\"\nhyperfine --warmup 10 --runs 100 --export-markdown results-paired.md \\\n     \"$SEQTK_CMD_1\" \"$SEQTK_CMD_2\" \"$RASUSA_CMD\"\n```\n \nSo, `rasusa reads` is faster than `seqtk` but doesn't require a fixed number of reads -\nallowing you to avoid doing maths to determine how many reads you need to downsample to\na specific coverage. \ud83e\udd13\n \n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "supervised_classification"
    }
  ],
  "download_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/mbhall88/rasusa/releases"
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 17
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/mbhall88/rasusa/forks"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "mbhall88/rasusa"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_title": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": ""
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "regular_expression"
    }
  ],
  "has_build_file": [
    {
      "confidence": 1,
      "result": {
        "format": "dockerfile",
        "type": "Url",
        "value": "https://raw.githubusercontent.com/mbhall88/rasusa/main/Dockerfile"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/Dockerfile",
      "technique": "file_exploration"
    }
  ],
  "has_script_file": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/mbhall88/rasusa/main/install/install.sh"
      },
      "technique": "file_exploration"
    }
  ],
  "identifier": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://doi.org/10.21105/joss.03941"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://doi.org/10.21105/joss.03941"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "regular_expression"
    }
  ],
  "images": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://joss.theoj.org/papers/10.21105/joss.03941/status.svg"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://quay.io/repository/mbhall88/rasusa/status"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/mbhall88/rasusa/main/img/igv_panel.png"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://joss.theoj.org/papers/10.21105/joss.03941/status.svg"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "regular_expression"
    }
  ],
  "installation": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Install",
        "type": "Text_excerpt",
        "value": "![GitHub Downloads (all assets, all releases)](https://img.shields.io/github/downloads/mbhall88/rasusa/total)\n\n**tl;dr**: precompiled binary\n\n```shell\ncurl -sSL rasusa.mbh.sh | sh\n# or with wget\nwget -nv -O - rasusa.mbh.sh | sh\n```\n\nYou can also pass options to the script like so\n\n```\n$ curl -sSL rasusa.mbh.sh | sh -s -- --help\ninstall.sh [option]\n\nFetch and install the latest version of rasusa, if rasusa is already\ninstalled it will be updated to the latest version.\n\nOptions\n        -V, --verbose\n                Enable verbose output for the installer\n\n        -f, -y, --force, --yes\n                Skip the confirmation prompt during installation\n\n        -p, --platform\n                Override the platform identified by the installer [default: apple-darwin]\n\n        -b, --bin-dir\n                Override the bin installation directory [default: /usr/local/bin]\n\n        -a, --arch\n                Override the architecture identified by the installer [default: x86_64]\n\n        -B, --base-url\n                Override the base URL used for downloading releases [default: https://github.com/mbhall88/rasusa/releases]\n\n        -h, --help\n                Display this help message\n```\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "`cargo`",
        "parent_header": [
          "Install"
        ],
        "type": "Text_excerpt",
        "value": "[![Crates.io](https://img.shields.io/crates/v/rasusa.svg)](https://crates.io/crates/rasusa)\n![Crates.io Total Downloads](https://img.shields.io/crates/d/rasusa)\n\nPrerequisite: [`rust` toolchain][rust] (min. v1.74.1)\n\n```sh\ncargo install rasusa\n```\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "`conda`",
        "parent_header": [
          "Install"
        ],
        "type": "Text_excerpt",
        "value": "[![Conda (channel only)](https://img.shields.io/conda/vn/bioconda/rasusa)](https://anaconda.org/bioconda/rasusa)\n[![bioconda version](https://anaconda.org/bioconda/rasusa/badges/platforms.svg)](https://anaconda.org/bioconda/rasusa)\n![Conda](https://img.shields.io/conda/dn/bioconda/rasusa)\n\nPrerequisite: [`conda`][conda] (and bioconda channel [correctly set up][channels])\n\n```sh\nconda install rasusa\n```\n\nThank you to Devon Ryan ([@dpryan79][dpryan79]) for [help debugging the bioconda\nrecipe][pr-help].\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Container",
        "parent_header": [
          "Install"
        ],
        "type": "Text_excerpt",
        "value": "Docker images are hosted at [quay.io]. For versions 0.3.0 and earlier, the images were\nhosted on [Dockerhub][dockerhub].\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "`singularity`",
        "parent_header": [
          "Install",
          "Container"
        ],
        "type": "Text_excerpt",
        "value": "Prerequisite: [`singularity`][singularity]\n\n```sh\nURI=\"docker://quay.io/mbhall88/rasusa\"\nsingularity exec \"$URI\" rasusa --help\n```\n\nThe above will use the latest version. If you want to specify a version then use a\n[tag][quay.io] (or commit) like so.\n\n```sh\nVERSION=\"0.8.0\"\nURI=\"docker://quay.io/mbhall88/rasusa:${VERSION}\"\n```\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "`docker`",
        "parent_header": [
          "Install",
          "Container"
        ],
        "type": "Text_excerpt",
        "value": "[![Docker Repository on Quay](https://quay.io/repository/mbhall88/rasusa/status \"Docker Repository on Quay\")](https://quay.io/repository/mbhall88/rasusa)\n\nPrerequisite: [`docker`][docker]\n\n```sh\ndocker pull quay.io/mbhall88/rasusa\ndocker run quay.io/mbhall88/rasusa --help\n```\n\nYou can find all the available tags on the [quay.io repository][quay.io]. Note: versions\nprior to 0.4.0 were housed on [Docker Hub](https://hub.docker.com/r/mbhall88/rasusa).\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Build locally",
        "parent_header": [
          "Install"
        ],
        "type": "Text_excerpt",
        "value": "Prerequisite: [`rust` toolchain][rust]\n\n```sh\ngit clone https://github.com/mbhall88/rasusa.git\ncd rasusa\ncargo build --release\ntarget/release/rasusa --help\n# if you want to check everything is working ok\ncargo test --all\n```\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 0.9177866776735006,
      "result": {
        "original_header": "Results",
        "type": "Text_excerpt",
        "value": "| Command                                      |       Mean [s] | Min [s] | Max [s] |     Relative |\n|:---------------------------------------------|---------------:|--------:|--------:|-------------:|\n| `filtlong --target_bases 220576600 tb.fq`    | 21.685 \u00b1 0.055 |  21.622 |  21.787 | 21.77 \u00b1 0.29 |\n| `rasusa reads tb.fq -c 50 -g 4411532 -s 1` | 0.996 \u00b1  0.013 |   0.983 |   1.023 |         1.00 | \n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.9936901609000559,
      "result": {
        "original_header": "Paired-end input",
        "type": "Text_excerpt",
        "value": "| Command                                                                                           |     Mean [ms] | Min [ms] | Max [ms] |    Relative |\n|:--------------------------------------------------------------------------------------------------|--------------:|---------:|---------:|------------:|\n| `seqtk sample -s 1 r1.fq 140000 > /tmp/r1.fq; seqtk sample -s 1 r2.fq 140000 > /tmp/r2.fq;`       |  907.7 \u00b1 23.6 |    875.4 |    997.8 | 1.84 \u00b1 0.62 |\n| `seqtk sample -2 -s 1 r1.fq 140000 > /tmp/r1.fq; seqtk sample -2 -s 1 r2.fq 140000 > /tmp/r2.fq;` |  870.8 \u00b1 54.9 |    818.2 |   1219.8 | 1.77 \u00b1 0.61 |\n| `rasusa reads r1.fq r2.fq -n 140000 -s 1 -o /tmp/r1.fq -o /tmp/r2.fq`                           | 492.2 \u00b1 165.4 |    327.4 |    887.4 |        1.00 | \n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "supervised_classification"
    }
  ],
  "invocation": [
    {
      "confidence": 0.844076447440193,
      "result": {
        "original_header": "Paired-end input",
        "type": "Text_excerpt",
        "value": "Download and then deinterleave the fastq with [`pyfastaq`][pyfastaq]\n```shell\nURL=\"ftp://ftp.sra.ebi.ac.uk/vol1/fastq/SRR648/008/SRR6488968/SRR6488968.fastq.gz\"\nwget \"$URL\" -O - | gzip -d -c - | fastaq deinterleave - r1.fq r2.fq\n```\nEach file's size is 179M and has 283,590 reads.  \nFor this benchmark, we will use [`seqtk`][seqtk]. We will also test `seqtk`'s 2-pass\nmode as this is analogous to `rasusa reads`.\n```shell\nNUM_READS=140000\nSEQTK_CMD_1=\"seqtk sample -s 1 r1.fq $NUM_READS > /tmp/r1.fq; seqtk sample -s 1 r2.fq $NUM_READS > /tmp/r2.fq;\"\nSEQTK_CMD_2=\"seqtk sample -2 -s 1 r1.fq $NUM_READS > /tmp/r1.fq; seqtk sample -2 -s 1 r2.fq $NUM_READS > /tmp/r2.fq;\"\nRASUSA_CMD=\"rasusa reads r1.fq r2.fq -n $NUM_READS -s 1 -o /tmp/r1.fq -o /tmp/r2.fq\"\nhyperfine --warmup 10 --runs 100 --export-markdown results-paired.md \\\n     \"$SEQTK_CMD_1\" \"$SEQTK_CMD_2\" \"$RASUSA_CMD\"\n```\n \n| Command                                                                                           |     Mean [ms] | Min [ms] | Max [ms] |    Relative |\n|:--------------------------------------------------------------------------------------------------|--------------:|---------:|---------:|------------:|\n| `seqtk sample -s 1 r1.fq 140000 > /tmp/r1.fq; seqtk sample -s 1 r2.fq 140000 > /tmp/r2.fq;`       |  907.7 \u00b1 23.6 |    875.4 |    997.8 | 1.84 \u00b1 0.62 |\n| `seqtk sample -2 -s 1 r1.fq 140000 > /tmp/r1.fq; seqtk sample -2 -s 1 r2.fq 140000 > /tmp/r2.fq;` |  870.8 \u00b1 54.9 |    818.2 |   1219.8 | 1.77 \u00b1 0.61 |\n| `rasusa reads r1.fq r2.fq -n 140000 -s 1 -o /tmp/r1.fq -o /tmp/r2.fq`                           | 492.2 \u00b1 165.4 |    327.4 |    887.4 |        1.00 | \n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "supervised_classification"
    }
  ],
  "issue_tracker": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/mbhall88/rasusa/issues"
      },
      "technique": "GitHub_API"
    }
  ],
  "keywords": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "alignment, bam, bioinformatics, coverage, downsample, fasta, fastq, genome-analysis, random, rust, subsampling"
      },
      "technique": "GitHub_API"
    }
  ],
  "license": [
    {
      "confidence": 1,
      "result": {
        "name": "MIT License",
        "spdx_id": "MIT",
        "type": "License",
        "url": "https://api.github.com/licenses/mit",
        "value": "https://api.github.com/licenses/mit"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "type": "File_dump",
        "value": "MIT License\n\nCopyright (c) 2019 Michael Hall\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/LICENSE",
      "technique": "file_exploration"
    }
  ],
  "logo": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/mbhall88/rasusa/main/img/logo.png"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "regular_expression"
    }
  ],
  "name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "rasusa"
      },
      "technique": "GitHub_API"
    }
  ],
  "owner": [
    {
      "confidence": 1,
      "result": {
        "type": "User",
        "value": "mbhall88"
      },
      "technique": "GitHub_API"
    }
  ],
  "programming_languages": [
    {
      "confidence": 1,
      "result": {
        "name": "Rust",
        "size": 98626,
        "type": "Programming_language",
        "value": "Rust"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "Shell",
        "size": 11037,
        "type": "Programming_language",
        "value": "Shell"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "Dockerfile",
        "size": 454,
        "type": "Programming_language",
        "value": "Dockerfile"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "Just",
        "size": 296,
        "type": "Programming_language",
        "value": "Just"
      },
      "technique": "GitHub_API"
    }
  ],
  "readme_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md"
      },
      "technique": "file_exploration"
    }
  ],
  "related_documentation": [
    {
      "confidence": 1,
      "result": {
        "format": "readthedocs",
        "type": "Url",
        "value": "https://snakemake.readthedocs.io/"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "regular_expression"
    },
    {
      "confidence": 1,
      "result": {
        "format": "readthedocs",
        "type": "Url",
        "value": "https://snakemake-wrappers.readthedocs.io/"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "regular_expression"
    }
  ],
  "releases": [
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "mbhall88",
          "type": "User"
        },
        "date_created": "2024-08-19T07:00:03Z",
        "date_published": "2024-08-19T07:00:17Z",
        "description": "## [2.1.0](https://github.com/mbhall88/rasusa/compare/2.0.0...2.1.0) (2024-08-19)\n\n\n### Features\n\n* [aln] add program (`@PG`) entry to header ([0123e54](https://github.com/mbhall88/rasusa/commit/0123e548a70c90fd47200ac5f842f7d844f4bfe3))\n* log seed used when --seed not passed ([6e1f37d](https://github.com/mbhall88/rasusa/commit/6e1f37dfe9c2fad606670a15c2de3c2eb667d105))",
        "html_url": "https://github.com/mbhall88/rasusa/releases/tag/2.1.0",
        "name": "v2.1.0",
        "release_id": 170809227,
        "tag": "2.1.0",
        "tarball_url": "https://api.github.com/repos/mbhall88/rasusa/tarball/2.1.0",
        "type": "Release",
        "url": "https://api.github.com/repos/mbhall88/rasusa/releases/170809227",
        "value": "https://api.github.com/repos/mbhall88/rasusa/releases/170809227",
        "zipball_url": "https://api.github.com/repos/mbhall88/rasusa/zipball/2.1.0"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "mbhall88",
          "type": "User"
        },
        "date_created": "2024-05-03T23:57:28Z",
        "date_published": "2024-05-03T23:57:39Z",
        "description": "## [2.0.0](https://github.com/mbhall88/rasusa/compare/1.0.0...2.0.0) (2024-05-03)\n\n\n### \u26a0 BREAKING CHANGES\n\n* paired reads require --output once for each file\n\n### Bug Fixes\n\n* paired reads require --output once for each file ([1427a0b](https://github.com/mbhall88/rasusa/commit/1427a0bd85c1a1b731d23c4b830bbcf7eb49e125))",
        "html_url": "https://github.com/mbhall88/rasusa/releases/tag/2.0.0",
        "name": "v2.0.0",
        "release_id": 154219125,
        "tag": "2.0.0",
        "tarball_url": "https://api.github.com/repos/mbhall88/rasusa/tarball/2.0.0",
        "type": "Release",
        "url": "https://api.github.com/repos/mbhall88/rasusa/releases/154219125",
        "value": "https://api.github.com/repos/mbhall88/rasusa/releases/154219125",
        "zipball_url": "https://api.github.com/repos/mbhall88/rasusa/zipball/2.0.0"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "mbhall88",
          "type": "User"
        },
        "date_created": "2024-04-29T00:37:13Z",
        "date_published": "2024-04-29T00:37:26Z",
        "description": "## [1.0.0](https://github.com/mbhall88/rasusa/compare/0.8.0...1.0.0) (2024-04-29)\r\n\r\n\r\n### \u26a0 BREAKING CHANGES\r\n\r\n* move fastq functionality to `reads` subcommand\r\n\r\n### Features\r\n\r\n* add `cite` command to get citation ([db17612](https://github.com/mbhall88/rasusa/commit/db17612e35d39c2d2b26bebb0b0632de4ade7206))\r\n* add subcommand `aln` to subsample alignments ([b92979a](https://github.com/mbhall88/rasusa/commit/b92979a3165c73c1b40d3661d6dd8ea21099b3e7))\r\n* move fastq functionality to `reads` subcommand ([f48d47b](https://github.com/mbhall88/rasusa/commit/f48d47b5ad26aff767ca52a572f8e442690e5e1c))\r\n\r\n\r\n### Bug Fixes\r\n\r\n* deal with chromosomes with no alignments ([14aa15e](https://github.com/mbhall88/rasusa/commit/14aa15efeed3691adc4cfd20ac0fc4bfb8ec6f87))",
        "html_url": "https://github.com/mbhall88/rasusa/releases/tag/1.0.0",
        "name": "v1.0.0",
        "release_id": 153170082,
        "tag": "1.0.0",
        "tarball_url": "https://api.github.com/repos/mbhall88/rasusa/tarball/1.0.0",
        "type": "Release",
        "url": "https://api.github.com/repos/mbhall88/rasusa/releases/153170082",
        "value": "https://api.github.com/repos/mbhall88/rasusa/releases/153170082",
        "zipball_url": "https://api.github.com/repos/mbhall88/rasusa/zipball/1.0.0"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "mbhall88",
          "type": "User"
        },
        "date_created": "2024-01-03T02:44:19Z",
        "date_published": "2024-01-03T02:44:33Z",
        "description": "## [0.8.0](https://github.com/mbhall88/rasusa/compare/0.7.1...0.8.0) (2024-01-03)\n\n\n### Features\n\n* add logging message with coverage of input before downsampling ([79445fc](https://github.com/mbhall88/rasusa/commit/79445fc8b40302ed197f8330e61a797b81a47db6))\n* support ztsd ([cfa50f8](https://github.com/mbhall88/rasusa/commit/cfa50f8aca00d6e2321ca45ea09579b95da25f7f))\n* use default compression level for compression output type ([cfa50f8](https://github.com/mbhall88/rasusa/commit/cfa50f8aca00d6e2321ca45ea09579b95da25f7f))\n\n\n### Bug Fixes\n\n* update logging so colour not sent to file ([bc62c3f](https://github.com/mbhall88/rasusa/commit/bc62c3fb4db2b9de903440a2d2a9ef9c7a06107f))",
        "html_url": "https://github.com/mbhall88/rasusa/releases/tag/0.8.0",
        "name": "v0.8.0",
        "release_id": 135625471,
        "tag": "0.8.0",
        "tarball_url": "https://api.github.com/repos/mbhall88/rasusa/tarball/0.8.0",
        "type": "Release",
        "url": "https://api.github.com/repos/mbhall88/rasusa/releases/135625471",
        "value": "https://api.github.com/repos/mbhall88/rasusa/releases/135625471",
        "zipball_url": "https://api.github.com/repos/mbhall88/rasusa/zipball/0.8.0"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "github-actions[bot]",
          "type": "Bot"
        },
        "date_created": "2023-04-06T02:56:48Z",
        "date_published": "2023-04-06T03:00:43Z",
        "description": "### Added\r\n\r\n- Install script and support for more binary triple targets\r\n\r\n### Changed\r\n\r\n- Updated needletail dependecy due to dependency deprecation",
        "html_url": "https://github.com/mbhall88/rasusa/releases/tag/0.7.1",
        "name": "0.7.1",
        "release_id": 98293804,
        "tag": "0.7.1",
        "tarball_url": "https://api.github.com/repos/mbhall88/rasusa/tarball/0.7.1",
        "type": "Release",
        "url": "https://api.github.com/repos/mbhall88/rasusa/releases/98293804",
        "value": "https://api.github.com/repos/mbhall88/rasusa/releases/98293804",
        "zipball_url": "https://api.github.com/repos/mbhall88/rasusa/zipball/0.7.1"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "github-actions[bot]",
          "type": "Bot"
        },
        "date_created": "2022-07-05T04:38:55Z",
        "date_published": "2022-07-05T04:46:40Z",
        "description": "### Added\r\n\r\n- Fraction (`--frac`) and number (`--num`) options. This allows users to replicate the\r\n  functionality of `seqtk sample` [#34]",
        "html_url": "https://github.com/mbhall88/rasusa/releases/tag/0.7.0",
        "name": "0.7.0",
        "release_id": 71240784,
        "tag": "0.7.0",
        "tarball_url": "https://api.github.com/repos/mbhall88/rasusa/tarball/0.7.0",
        "type": "Release",
        "url": "https://api.github.com/repos/mbhall88/rasusa/releases/71240784",
        "value": "https://api.github.com/repos/mbhall88/rasusa/releases/71240784",
        "zipball_url": "https://api.github.com/repos/mbhall88/rasusa/zipball/0.7.0"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "github-actions[bot]",
          "type": "Bot"
        },
        "date_created": "2022-01-23T23:03:52Z",
        "date_published": "2022-01-23T23:08:56Z",
        "description": "### Added\r\n\r\n- Warning if the actual coverage of the file(s) is less than the requested coverage\r\n  [#36]\r\n- JOSS manuscript\r\n\r\n### Changed\r\n\r\n- Use `rasusa` as the entry command for docker container [#35]",
        "html_url": "https://github.com/mbhall88/rasusa/releases/tag/0.6.1",
        "name": "0.6.1",
        "release_id": 57788981,
        "tag": "0.6.1",
        "tarball_url": "https://api.github.com/repos/mbhall88/rasusa/tarball/0.6.1",
        "type": "Release",
        "url": "https://api.github.com/repos/mbhall88/rasusa/releases/57788981",
        "value": "https://api.github.com/repos/mbhall88/rasusa/releases/57788981",
        "zipball_url": "https://api.github.com/repos/mbhall88/rasusa/zipball/0.6.1"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "github-actions[bot]",
          "type": "Bot"
        },
        "date_created": "2021-08-29T04:13:52Z",
        "date_published": "2021-08-29T04:19:28Z",
        "description": "\r\n### Addedd\r\n- `--bases` option to allow for manually setting the target number of bases to keep\r\n  [#30]\r\n- `--genome-size` can now take a FASTA/Q index file and the sum of all reference\r\n  sequences will be used as the genome size [#31]\r\n\r\n",
        "html_url": "https://github.com/mbhall88/rasusa/releases/tag/0.6.0",
        "name": "0.6.0",
        "release_id": 48624857,
        "tag": "0.6.0",
        "tarball_url": "https://api.github.com/repos/mbhall88/rasusa/tarball/0.6.0",
        "type": "Release",
        "url": "https://api.github.com/repos/mbhall88/rasusa/releases/48624857",
        "value": "https://api.github.com/repos/mbhall88/rasusa/releases/48624857",
        "zipball_url": "https://api.github.com/repos/mbhall88/rasusa/zipball/0.6.0"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "github-actions[bot]",
          "type": "Bot"
        },
        "date_created": "2021-08-20T01:31:38Z",
        "date_published": "2021-08-20T01:37:48Z",
        "description": "### Added\r\n\r\n- Support for LZMA, Bzip, and Gzip output compression (thanks to [`niffler`](https://github.com/luizirber/niffler/)). This is either inferred from the file extension or manually via the `-O` option.\r\n- Option to specify the compression level for the output via `-l`\r\n\r\n### Changed\r\n\r\n- Use a `Vec<bool>` instead of `HashSet` to store the indices of reads to keep. This gives a nice little speedup (see #28), A big thank you to @natir \r\n\r\n### Fixed\r\n- Restore compression of output files [#27]",
        "html_url": "https://github.com/mbhall88/rasusa/releases/tag/0.5.0",
        "name": "0.5.0",
        "release_id": 48152429,
        "tag": "0.5.0",
        "tarball_url": "https://api.github.com/repos/mbhall88/rasusa/tarball/0.5.0",
        "type": "Release",
        "url": "https://api.github.com/repos/mbhall88/rasusa/releases/48152429",
        "value": "https://api.github.com/repos/mbhall88/rasusa/releases/48152429",
        "zipball_url": "https://api.github.com/repos/mbhall88/rasusa/zipball/0.5.0"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "github-actions[bot]",
          "type": "Bot"
        },
        "date_created": "2021-08-13T02:19:25Z",
        "date_published": "2021-08-13T02:24:41Z",
        "description": "### Fixed\r\n- I had stupidly forgetten to merge the fix for #22 onto master ",
        "html_url": "https://github.com/mbhall88/rasusa/releases/tag/0.4.2",
        "name": "0.4.2",
        "release_id": 47784765,
        "tag": "0.4.2",
        "tarball_url": "https://api.github.com/repos/mbhall88/rasusa/tarball/0.4.2",
        "type": "Release",
        "url": "https://api.github.com/repos/mbhall88/rasusa/releases/47784765",
        "value": "https://api.github.com/repos/mbhall88/rasusa/releases/47784765",
        "zipball_url": "https://api.github.com/repos/mbhall88/rasusa/zipball/0.4.2"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "github-actions[bot]",
          "type": "Bot"
        },
        "date_created": "2021-08-09T07:49:34Z",
        "date_published": "2021-08-09T07:53:36Z",
        "description": "### Fixes\r\n- Releasing cross-compiled binaries didn't work for version 0.4.0\r\n- Docker image is now correctly built",
        "html_url": "https://github.com/mbhall88/rasusa/releases/tag/0.4.1",
        "name": "0.4.1",
        "release_id": 47518841,
        "tag": "0.4.1",
        "tarball_url": "https://api.github.com/repos/mbhall88/rasusa/tarball/0.4.1",
        "type": "Release",
        "url": "https://api.github.com/repos/mbhall88/rasusa/releases/47518841",
        "value": "https://api.github.com/repos/mbhall88/rasusa/releases/47518841",
        "zipball_url": "https://api.github.com/repos/mbhall88/rasusa/zipball/0.4.1"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "github-actions[bot]",
          "type": "Bot"
        },
        "date_created": "2021-08-09T06:35:31Z",
        "date_published": "2021-08-09T06:39:45Z",
        "description": "### Changed\r\n\r\n- Switch from using `snafu` and `failure` for error handling to `anyhow` and `thiserror`. Based on the procedure outlined in [this excellent blog post][error-blog].\r\n- Switched fasta/q parsing to use [needletail](https://github.com/onecodex/needletail)\r\n  instead of rust-bio. See [benchmark] for improvement in runtimes.\r\n- Changed the way Illumina paired reads are subsampled. Previously, there was an\r\n  assumption made that the reads of a pair were both the same length as the R1 read. We\r\n  are now more careful and look at each read's length individually [[#22][22]]\r\n- Moved container hosting to quay.io\r\n\r\n[unreleased]: https://github.com/mbhall88/rasusa/compare/0.4.0...HEAD\r\n[0.4.0]: https://github.com/mbhall88/rasusa/releases/tag/0.4.0\r\n[0.3.0]: https://github.com/mbhall88/rasusa/releases/tag/0.3.0\r\n[0.2.0]: https://github.com/mbhall88/rasusa/releases/tag/0.2.0\r\n[19]: https://github.com/mbhall88/rasusa/issues/19\r\n[22]: https://github.com/mbhall88/rasusa/issues/22\r\n[benchmark]: https://github.com/mbhall88/rasusa#benchmark\r\n[error-blog]: https://nick.groenen.me/posts/rust-error-handling/\r\n",
        "html_url": "https://github.com/mbhall88/rasusa/releases/tag/0.4.0",
        "name": "0.4.0",
        "release_id": 47515778,
        "tag": "0.4.0",
        "tarball_url": "https://api.github.com/repos/mbhall88/rasusa/tarball/0.4.0",
        "type": "Release",
        "url": "https://api.github.com/repos/mbhall88/rasusa/releases/47515778",
        "value": "https://api.github.com/repos/mbhall88/rasusa/releases/47515778",
        "zipball_url": "https://api.github.com/repos/mbhall88/rasusa/zipball/0.4.0"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "mbhall88",
          "type": "User"
        },
        "date_created": "2020-06-26T06:17:26Z",
        "date_published": "2020-06-26T06:42:45Z",
        "description": "## [0.3.0]\r\n\r\nVersion 0.3.0 may give different results to previous versions. If so,\r\nthe differences will likely be a handful of extra reads (possibly none).\r\nThe reason for this is `--coverage` is now treated as a float.\r\nPreviously we immediately round coverage down to the nearest integer. As\r\nthe number of reads to keep is based on the target total number of\r\nbases, which is coverage * genome size. So if coverage is 10.7 and\r\ngenome size is 100, previously our target number of bases would have\r\nbeen 1000, whereas now, it would be 1070.\r\n\r\n### Changed\r\n- `--coverage` is now treated as a `f32` instead of being converted\r\n  immediately to an integer [#19][19].\r\n- Updated `rust-bio` to version 0.31.0. This means `rasusa` now handles\r\n  wrapped fastq files.\r\n- Preallocate fastx records instead of using iterator. Gives marginal\r\n  speedup.\r\n- Added `bash` to the docker image b47a8b75943098bdd845b7758cf2eab01ef5a3d8\r\n\r\n\r\n\r\n\r\n[0.3.0]: https://github.com/mbhall88/rasusa/releases/tag/v0.3.0\r\n[19]: https://github.com/mbhall88/rasusa/issues/19",
        "html_url": "https://github.com/mbhall88/rasusa/releases/tag/0.3.0",
        "name": "0.3.0",
        "release_id": 27946104,
        "tag": "0.3.0",
        "tarball_url": "https://api.github.com/repos/mbhall88/rasusa/tarball/0.3.0",
        "type": "Release",
        "url": "https://api.github.com/repos/mbhall88/rasusa/releases/27946104",
        "value": "https://api.github.com/repos/mbhall88/rasusa/releases/27946104",
        "zipball_url": "https://api.github.com/repos/mbhall88/rasusa/zipball/0.3.0"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "mbhall88",
          "type": "User"
        },
        "date_created": "2020-03-27T17:27:33Z",
        "date_published": "2020-03-27T17:42:12Z",
        "description": "\r\n### New\r\n- Support paired Illumina [#15](https://github.com/mbhall88/rasusa/issues/15)",
        "html_url": "https://github.com/mbhall88/rasusa/releases/tag/0.2.0",
        "name": "0.2.0",
        "release_id": 24939065,
        "tag": "0.2.0",
        "tarball_url": "https://api.github.com/repos/mbhall88/rasusa/tarball/0.2.0",
        "type": "Release",
        "url": "https://api.github.com/repos/mbhall88/rasusa/releases/24939065",
        "value": "https://api.github.com/repos/mbhall88/rasusa/releases/24939065",
        "zipball_url": "https://api.github.com/repos/mbhall88/rasusa/zipball/0.2.0"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "mbhall88",
          "type": "User"
        },
        "date_created": "2019-11-16T10:58:12Z",
        "date_published": "2019-11-16T11:17:50Z",
        "html_url": "https://github.com/mbhall88/rasusa/releases/tag/0.1.0",
        "release_id": 21525726,
        "tag": "0.1.0",
        "tarball_url": "https://api.github.com/repos/mbhall88/rasusa/tarball/0.1.0",
        "type": "Release",
        "url": "https://api.github.com/repos/mbhall88/rasusa/releases/21525726",
        "value": "https://api.github.com/repos/mbhall88/rasusa/releases/21525726",
        "zipball_url": "https://api.github.com/repos/mbhall88/rasusa/zipball/0.1.0"
      },
      "technique": "GitHub_API"
    }
  ],
  "somef_missing_categories": [
    "acknowledgement",
    "run",
    "download",
    "requirements",
    "contact",
    "contributors",
    "documentation",
    "faq",
    "support",
    "executable_example"
  ],
  "somef_provenance": {
    "date": "2024-10-06 08:45:46",
    "somef_schema_version": "1.0.0",
    "somef_version": "0.9.5"
  },
  "stargazers_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 206
      },
      "technique": "GitHub_API"
    }
  ],
  "usage": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Basic usage - reads",
        "parent_header": [
          "Usage"
        ],
        "type": "Text_excerpt",
        "value": "Subsample fastq reads\n\n```\nrasusa reads --coverage 30 --genome-size 4.6mb in.fq\n```\n\nThe above command will output the subsampled file to `stdout`.\n\nOr, if you have paired Illumina\n\n```\nrasusa reads --coverage 30 --genome-size 4g -o out.r1.fq -o out.r2.fq r1.fq r2.fq\n```\n\nFor more details on the above options, and additional options, see below.\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Basic usage - alignments",
        "parent_header": [
          "Usage"
        ],
        "type": "Text_excerpt",
        "value": "Subsample alignments\n\n```\nrasusa aln --coverage 30 in.bam | samtools sort -o out.bam\n```\n\nthis will subsample each position in the alignment to 30x coverage.\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Required parameters",
        "parent_header": [
          "Usage"
        ],
        "type": "Text_excerpt",
        "value": "There are three required options to run `rasusa reads`.\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Input",
        "parent_header": [
          "Usage",
          "Required parameters"
        ],
        "type": "Text_excerpt",
        "value": "This positional argument specifies the file(s) containing the reads or alignments you would like to subsample. The\nfile(s) must be valid fasta or fastq format for the `reads` command and can be compressed (with a tool such as\n`gzip`). For the `aln` command, the file must be a valid **indexed** SAM/BAM file.  \nIf two files are passed to `reads`, `rasusa` will assume they are paired-end reads.\n\n> Bash wizard tip \ud83e\uddd9: Let globs do the work for you `r*.fq`\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "`-c`, `--coverage`",
        "parent_header": [
          "Usage",
          "Required parameters",
          "Coverage"
        ],
        "type": "Text_excerpt",
        "value": "> Not required if [`--bases`](#target-number-of-bases) is present for `reads`\n\nThis option is used to determine the minimum coverage to subsample the reads to. For the `reads` command, it can\nbe specified as an integer (100), a decimal/float (100.7), or either of the previous\nsuffixed with an 'x' (100x). For the `aln` command, it is an integer only.\n\nDue to the method for determining how many bases are required to achieve the\ndesired coverage in the `reads` command, the actual coverage, in the end, could be slightly higher than\nrequested. For example, if the last included read is very long. The log messages should\ninform you of the actual coverage in the end.\n\nFor the `aln` command, the coverage is the minimum number of reads that should be present at each position in the\nalignment. If a position has fewer than the requested number of reads, all reads at that position will be included. In\naddition, there will be (small) regions with more than the requested number of reads - usually localised to where the\nalignment of a read ends. This is\nbecause when the alignment of a selected read ends, the next read is selected based on it spanning the end of the\nprevious alignment.\nWhen selecting this next alignment, we preference alignments whose start is closest to the end of the previous\nalignment, ensuring minimal overlap with the previous alignment. See the below screenshot from IGV for a visual example.\n\n![IGV screenshot](img/igv_panel.png)\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "`-g`, `--genome-size`",
        "parent_header": [
          "Usage",
          "Required parameters",
          "Genome size"
        ],
        "type": "Text_excerpt",
        "value": "> Not valid for `aln`\n\n> Not required if [`--bases`](#target-number-of-bases) is present for `reads`\n\nThe genome size of the input is also required. It is used to determine how many bases\nare necessary to achieve the desired coverage. This can, of course, be as precise or\nrough as you like.  \nGenome size can be passed in many ways. As a plain old integer (1600), or with a metric\nsuffix (1.6kb). All metric suffixes can have an optional 'b' suffix and be lower, upper,\nor mixed case. So 'Kb', 'kb' and 'k' would all be inferred as 'kilo'. Valid metric\nsuffixes include:\n\n- Base (b) - multiplies by 1\n- Kilo (k) - multiplies by 1,000\n- Mega (m) - multiplies by 1,000,000\n- Giga (g) - multiplies by 1,000,000,000\n- Tera (t) - multiplies by 1,000,000,000,000\n\nAlternatively, a [FASTA/Q index file][faidx] can be given and the genome size will be\nset to the sum of all reference sequences in it.\n\n[faidx]: https://www.htslib.org/doc/faidx.html\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "`-o`, `--output`",
        "parent_header": [
          "Usage",
          "Optional parameters",
          "Output"
        ],
        "type": "Text_excerpt",
        "value": "**`reads`**\n\nNOTE: This parameter is required if passing paired Illumina data to `reads`.\n\nBy default, `rasusa` will output the subsampled file to `stdout` (if one file is given).\nIf you would prefer to specify an output file path, then use this option.\n\nOutput for Illumina paired files must be specified using `--output` twice - `-o out.r1.fq -o out.r2.fq`\n\nThe ordering of the output files is assumed to be the same as the input.  \n_Note: The output will always be in the same format as the input. You cannot pass fastq\nas input and ask for fasta as output._\n\n`rasusa reads` will also attempt to automatically infer whether compression of the output\nfile(s) is required. It does this by detecting any of the supported extensions:\n\n- `.gz`: will compress the output with [`gzip`][gzip]\n- `.bz` or `.bz2`: will compress the output with [`bzip2`][bzip]\n- `.lzma`: will compress the output with the [`xz`][xz] LZMA algorithm\n\n**`aln`**\n\nFor the `aln` command, the output file format will be the same as the input if writing to stdout, otherwise it will be\ninferred from the file extension. \n\n**Note:** the output alignment will most likely **not be sorted**. You can use `samtools sort` to sort the output. e.g.,\n\n```\nrasusa aln -c 5 in.bam | samtools sort -o out.bam\n```\n\n[gzip]: http://www.gzip.org/\n\n[bzip]: https://sourceware.org/bzip2/\n\n[xz]: https://tukaani.org/xz/\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "`-O`, `--output-type`",
        "parent_header": [
          "Usage",
          "Optional parameters",
          "Output compression/format"
        ],
        "type": "Text_excerpt",
        "value": "**`reads`**\n\nUse this option to manually set the compression algoritm to use for the output file(s).\nIt will override any format automatically detected from the output path.\n\nValid options are:\n\n- `g`: [`gzip`][gzip]\n- `b`: [`bzip2`][bzip]\n- `l` or `x`: [`xz`][xz] LZMA algorithm\n- `z`: [`zstd`][zstd]\n- `u`: no compression\n\n**`aln`**\n\nUse this option to manually set the output file format. By default, the same format as the input will be used, or the\nformat will be guessed from the `--output` path extension if given. Valid options are:\n\n- `b` or `bam`: BAM\n- `c` or `cram`: CRAM\n- `s` or `sam`: SAM\n\n*Note: all values to this option are case insensitive.*\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "`-l`, `--compress-level`",
        "parent_header": [
          "Usage",
          "Optional parameters",
          "Compresion level"
        ],
        "type": "Text_excerpt",
        "value": "Compression level to use if compressing the output. By default this is set to the default for the compression type being\noutput.\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "`-b`, `--bases`",
        "parent_header": [
          "Usage",
          "Optional parameters",
          "Target number of bases"
        ],
        "type": "Text_excerpt",
        "value": "> `reads` only\n\nExplicitly set the number of bases required in the subsample. This option takes the\nnumber in the same format as [genome size](#genome-size).\n\n*Note: if this option is given, genome size and coverage are not required, or ignored if\nthey are provided.*\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "`-n`, `--num`",
        "parent_header": [
          "Usage",
          "Optional parameters",
          "Number of reads"
        ],
        "type": "Text_excerpt",
        "value": "> `reads` only\n\nExplicitly set the number of reads in the subsample. This option takes the number in\nthe same format as [genome size](#genome-size).\n\nWhen providing paired reads as input, this option will sample this many total read\npairs. For example, when passing `-n 20 r1.fq r2.fq`, the two output files will have\n20 reads each, and the read ids will be the same in both.\n\n*Note: if this option is given, genome size and coverage are not required.*\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "`-f`, `--frac`",
        "parent_header": [
          "Usage",
          "Optional parameters",
          "Fraction of reads"
        ],
        "type": "Text_excerpt",
        "value": "> `reads` only\n\nExplicitly set the fraction of total reads in the subsample. The value given to this\noption can be a float or a percentage - i.e., `-f 0.5` and `-f 50` will both take half\nof the reads.\n\n*Note: if this option is given, genome size and coverage are not required.*\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "`-s`, `--seed`",
        "parent_header": [
          "Usage",
          "Optional parameters",
          "Random seed"
        ],
        "type": "Text_excerpt",
        "value": "This option allows you to specify the [random seed][seed] used by the random subsampler. By explicitly setting this \nparameter, you make the subsample for the input reproducible. You only need to pass this parameter if you are likely \nto want to subsample the same input file again in the future and want the same subset of reads. However, if you forget \nto use this option, the seed generated by the system will be printed to the log output, allowing you to use it in the\nfuture.\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "`-v`",
        "parent_header": [
          "Usage",
          "Optional parameters",
          "Verbosity"
        ],
        "type": "Text_excerpt",
        "value": "Adding this optional flag will make the logging more verbose. By default, logging will\nproduce messages considered \"info\" or above (see [here][log-lvl] for more details). If\nverbosity is switched on, you will additionally get \"debug\" level logging messages.\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Full usage",
        "parent_header": [
          "Usage"
        ],
        "type": "Text_excerpt",
        "value": "```text\n$ rasusa --help\nRandomly subsample reads or alignments\n\nUsage: rasusa [OPTIONS] <COMMAND>\n\nCommands:\n  reads  Randomly subsample reads\n  aln    Randomly subsample alignments to a specified depth of coverage\n  cite   Get a bibtex formatted citation for this package\n  help   Print this message or the help of the given subcommand(s)\n\nOptions:\n  -v             Switch on verbosity\n  -h, --help     Print help\n  -V, --version  Print version\n```\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "`reads` command",
        "parent_header": [
          "Usage",
          "Full usage"
        ],
        "type": "Text_excerpt",
        "value": "```text\n$ rasusa reads --help\nRandomly subsample reads\n\nUsage: rasusa reads [OPTIONS] <FILE(S)>...\n\nArguments:\n  <FILE(S)>...\n          The fast{a,q} file(s) to subsample.\n\n          For paired Illumina, the order matters. i.e., R1 then R2.\n\nOptions:\n  -o, --output <OUTPUT>\n          Output filepath(s); stdout if not present.\n\n          For paired Illumina pass this flag twice `-o o1.fq -o o2.fq`\n\n          NOTE: The order of the pairs is assumed to be the same as the input - e.g., R1 then R2. This option is required for paired input.\n          \n  -g, --genome-size <size|faidx>\n          Genome size to calculate coverage with respect to. e.g., 4.3kb, 7Tb, 9000, 4.1MB\n\n          Alternatively, a FASTA/Q index file can be provided and the genome size will be set to the sum of all reference sequences.\n\n          If --bases is not provided, this option and --coverage are required\n\n  -c, --coverage <FLOAT>\n          The desired depth of coverage to subsample the reads to\n\n          If --bases is not provided, this option and --genome-size are required\n\n  -b, --bases <bases>\n          Explicitly set the number of bases required e.g., 4.3kb, 7Tb, 9000, 4.1MB\n\n          If this option is given, --coverage and --genome-size are ignored\n\n  -n, --num <INT>\n          Subsample to a specific number of reads\n\n          If paired-end reads are passed, this is the number of (matched) reads from EACH file. This option accepts the same format as genome size - e.g., 1k will take 1000 reads\n\n  -f, --frac <FLOAT>\n          Subsample to a fraction of the reads - e.g., 0.5 samples half the reads\n\n          Values >1 and <=100 will be automatically converted - e.g., 25 => 0.25\n\n  -s, --seed <INT>\n          Random seed to use\n\n  -v\n          Switch on verbosity\n\n  -O, --output-type <u|b|g|l|x|z>\n          u: uncompressed; b: Bzip2; g: Gzip; l: Lzma; x: Xz (Lzma); z: Zstd\n\n          Rasusa will attempt to infer the output compression format automatically from the filename extension. This option is used to override that. If writing to stdout, the default is uncompressed\n\n  -l, --compress-level <1-21>\n          Compression level to use if compressing output. Uses the default level for the format if not specified\n\n  -h, --help\n          Print help (see a summary with '-h')\n\n  -V, --version\n          Print version\n```\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "`aln` command",
        "parent_header": [
          "Usage",
          "Full usage"
        ],
        "type": "Text_excerpt",
        "value": "```text\n$ rasusa aln --help\nRandomly subsample alignments to a specified depth of coverage\n\nUsage: rasusa aln [OPTIONS] --coverage <INT> <FILE>\n\nArguments:\n  <FILE>\n          Path to the indexed alignment file (SAM/BAM/CRAM) to subsample\n\nOptions:\n  -o, --output <FILE>\n          Path to the output subsampled alignment file. Defaults to stdout (same format as input)\n\n          The output is not guaranteed to be sorted. We recommend piping the output to `samtools sort`\n\n  -O, --output-type <FMT>\n          Output format. Rasusa will attempt to infer the format from the output file extension if not provided\n\n  -c, --coverage <INT>\n          The desired depth of coverage to subsample the alignment to\n\n  -s, --seed <INT>\n          Random seed to use\n\n      --step-size <INT>\n          When a region has less than the desired coverage, the step size to move along the chromosome to find more reads.\n\n          The lowest of the step and the minimum end coordinate of the reads in the region will be used. This parameter can have a significant impact on the runtime of the subsampling process.\n\n          [default: 100]\n\n  -h, --help\n          Print help (see a summary with '-h')\n\n  -V, --version\n          Print version\n```\n"
      },
      "source": "https://raw.githubusercontent.com/mbhall88/rasusa/main/README.md",
      "technique": "header_analysis"
    }
  ]
}