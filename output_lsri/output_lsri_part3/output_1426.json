{
  "code_repository": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/GWW/scsnv"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_created": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2019-12-05T14:56:36Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "date_updated": [
    {
      "confidence": 1,
      "result": {
        "type": "Date",
        "value": "2024-07-24T03:37:06Z"
      },
      "technique": "GitHub_API"
    }
  ],
  "description": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "scSNV Mapping tool for 10X Single Cell Data"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 0.9490047906183888,
      "result": {
        "original_header": "scSNV",
        "type": "Text_excerpt",
        "value": "scSNV is an alternative to Cell Ranger + velocyto for the alignment, quantification and SNV calling of 10X Single Cell RNA-seq data. Currently, scSNV supports 10X 5-prime and 3-prime 10X version 2 and 3 libraries. \nExample python scripts to annotate SNVs, identify barcode tags that represent cells and generate the data from the scSNV manuscript is available in the scsnvpy folder within the scsnv repository. \nFor reproducibility the version of Cell Ranger used in our manuscript comparisons is available at [here](https://github.com/GWW/cellranger_211_mirror) \nscSNV requires the HDF5 C and C++ Libraries for compilation.\n \n"
      },
      "source": "https://raw.githubusercontent.com/GWW/scsnv/master/README.md",
      "technique": "supervised_classification"
    }
  ],
  "download": [
    {
      "confidence": 1,
      "result": {
        "original_header": "REDIPortal download",
        "parent_header": [
          "Example alignment and pileup for one sample",
          "Annotate"
        ],
        "type": "Text_excerpt",
        "value": "The files can be directly downloaded from the REDIPortal database\nNote that the chromosome names may need to be remapped depending on the reference build you used for mapping and alignment.\nChromosome mapping files can be found [here](https://github.com/dpryan79/ChromosomeMappings). The first column would need to be remapped to the correct chromosome names if they do not match\n"
      },
      "source": "https://raw.githubusercontent.com/GWW/scsnv/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "RepeatMasker download",
        "parent_header": [
          "Example alignment and pileup for one sample",
          "Annotate"
        ],
        "type": "Text_excerpt",
        "value": "The files can be directly downloaded from the UCSC Table Browser `rmsk` table\nNote that the chromosome names may need to be remapped depending on the reference build you used for mapping and alignment.\nChromosome mapping files can be found [here](https://github.com/dpryan79/ChromosomeMappings). The fifth column would need to be remapped to the correct chromosome names if they do not match\n"
      },
      "source": "https://raw.githubusercontent.com/GWW/scsnv/master/README.md",
      "technique": "header_analysis"
    }
  ],
  "download_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://github.com/GWW/scsnv/releases"
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 4
      },
      "technique": "GitHub_API"
    }
  ],
  "forks_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/GWW/scsnv/forks"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "GWW/scsnv"
      },
      "technique": "GitHub_API"
    }
  ],
  "full_title": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": ""
      },
      "source": "https://raw.githubusercontent.com/GWW/scsnv/master/README.md",
      "technique": "regular_expression"
    }
  ],
  "installation": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Directory Setup",
        "type": "Text_excerpt",
        "value": "scSNV expects the fastq files to be generated with the Cell Ranger mkfastq command.  For example:\n```\n./run1/Library1_S1_L001_R1_001.fastq.gz\n./run1/Library1_S1_L001_R2_001.fastq.gz\n./run1/Library1_S1_L001_I1_001.fastq.gz\n```\nWe recommend organizing your data as follows and assume this organization for the manual\n```\nsample/run1/<fastq_files>\n```\nWhere sample is the name you wish to use for your sample and run1 is the name you wish to use for the folder containing your fastq files\n"
      },
      "source": "https://raw.githubusercontent.com/GWW/scsnv/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 0.8228816438344578,
      "result": {
        "original_header": "scSNV",
        "type": "Text_excerpt",
        "value": "scSNV requires the HDF5 C and C++ Libraries for compilation.\n \n"
      },
      "source": "https://raw.githubusercontent.com/GWW/scsnv/master/README.md",
      "technique": "supervised_classification"
    },
    {
      "confidence": 0.999962703032605,
      "result": {
        "original_header": "Building instructions:",
        "type": "Text_excerpt",
        "value": "```bash\ngit clone https://github.com/GWW/scsnv.git\ncd scsnv\nmkdir build\ncd build\ncmake -DCMAKE_BUILD_TYPE=Release ..\nmake\n```\n```bash\ncd scsnvpy\npip install cython numpy ncls #NCLS fails to automatically install with some python versions but works with pip\npip install .\n```\n \nThe only executable needed to use scsnv is located in scsnv/build/src/scsnv\nThe scsnvmisc python executable will be installed\n \n"
      },
      "source": "https://raw.githubusercontent.com/GWW/scsnv/master/README.md",
      "technique": "supervised_classification"
    }
  ],
  "issue_tracker": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://api.github.com/repos/GWW/scsnv/issues"
      },
      "technique": "GitHub_API"
    }
  ],
  "keywords": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": ""
      },
      "technique": "GitHub_API"
    }
  ],
  "license": [
    {
      "confidence": 1,
      "result": {
        "name": "MIT License",
        "spdx_id": "MIT",
        "type": "License",
        "url": "https://api.github.com/licenses/mit",
        "value": "https://api.github.com/licenses/mit"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "type": "File_dump",
        "value": "MIT License\n\nCopyright (c) 2023 Gavin Wilson\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
      },
      "source": "https://raw.githubusercontent.com/GWW/scsnv/master/LICENSE",
      "technique": "file_exploration"
    }
  ],
  "name": [
    {
      "confidence": 1,
      "result": {
        "type": "String",
        "value": "scsnv"
      },
      "technique": "GitHub_API"
    }
  ],
  "owner": [
    {
      "confidence": 1,
      "result": {
        "type": "User",
        "value": "GWW"
      },
      "technique": "GitHub_API"
    }
  ],
  "programming_languages": [
    {
      "confidence": 1,
      "result": {
        "name": "C++",
        "size": 589797,
        "type": "Programming_language",
        "value": "C++"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "C",
        "size": 552691,
        "type": "Programming_language",
        "value": "C"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "Python",
        "size": 83399,
        "type": "Programming_language",
        "value": "Python"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "Cython",
        "size": 9650,
        "type": "Programming_language",
        "value": "Cython"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "name": "CMake",
        "size": 4906,
        "type": "Programming_language",
        "value": "CMake"
      },
      "technique": "GitHub_API"
    }
  ],
  "readme_url": [
    {
      "confidence": 1,
      "result": {
        "type": "Url",
        "value": "https://raw.githubusercontent.com/GWW/scsnv/master/README.md"
      },
      "technique": "file_exploration"
    }
  ],
  "releases": [
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "GWW",
          "type": "User"
        },
        "date_created": "2023-03-25T13:28:27Z",
        "date_published": "2023-03-25T13:30:47Z",
        "description": "Fixed a few bugs, updated the C++ and python installer scripts to simplify installation.  Fixed some python issues with character encodings.",
        "html_url": "https://github.com/GWW/scsnv/releases/tag/v1.1",
        "name": "Updated release with bug fixes and installation improvements",
        "release_id": 96902248,
        "tag": "v1.1",
        "tarball_url": "https://api.github.com/repos/GWW/scsnv/tarball/v1.1",
        "type": "Release",
        "url": "https://api.github.com/repos/GWW/scsnv/releases/96902248",
        "value": "https://api.github.com/repos/GWW/scsnv/releases/96902248",
        "zipball_url": "https://api.github.com/repos/GWW/scsnv/zipball/v1.1"
      },
      "technique": "GitHub_API"
    },
    {
      "confidence": 1,
      "result": {
        "author": {
          "name": "GWW",
          "type": "User"
        },
        "date_created": "2021-03-12T15:01:20Z",
        "date_published": "2021-03-17T18:35:20Z",
        "html_url": "https://github.com/GWW/scsnv/releases/tag/v1.0b",
        "name": "First proper release",
        "release_id": 39960908,
        "tag": "v1.0b",
        "tarball_url": "https://api.github.com/repos/GWW/scsnv/tarball/v1.0b",
        "type": "Release",
        "url": "https://api.github.com/repos/GWW/scsnv/releases/39960908",
        "value": "https://api.github.com/repos/GWW/scsnv/releases/39960908",
        "zipball_url": "https://api.github.com/repos/GWW/scsnv/zipball/v1.0b"
      },
      "technique": "GitHub_API"
    }
  ],
  "run": [
    {
      "confidence": 1,
      "result": {
        "original_header": "results -- Merge the results from multiple scsnv accuracy runs",
        "parent_header": [
          "Example alignment and pileup for one sample"
        ],
        "type": "Text_excerpt",
        "value": "scsnvmisc results -o results.txt.gz sample/accuracy\n\nThe output file will contain merged counts from all of the files as well as some useful annotations from the merged_snvs.txt.gz file that was generated from the merge command. This command will read all files with the prefix ```sample/accuracy_*.txt.gz``` and merge them together\n\nThis will output a file with all of the SNV counts from all of the tools.  \n\n"
      },
      "source": "https://raw.githubusercontent.com/GWW/scsnv/master/README.md",
      "technique": "header_analysis"
    }
  ],
  "somef_missing_categories": [
    "citation",
    "acknowledgement",
    "requirements",
    "contact",
    "contributors",
    "documentation",
    "faq",
    "support",
    "identifier",
    "has_build_file",
    "executable_example"
  ],
  "somef_provenance": {
    "date": "2024-10-06 04:58:17",
    "somef_schema_version": "1.0.0",
    "somef_version": "0.9.5"
  },
  "stargazers_count": [
    {
      "confidence": 1,
      "result": {
        "type": "Number",
        "value": 22
      },
      "technique": "GitHub_API"
    }
  ],
  "type": [
    {
      "confidence": 0.82,
      "result": {
        "type": "String",
        "value": "commandline-application"
      },
      "technique": "software_type_heuristics"
    }
  ],
  "usage": [
    {
      "confidence": 1,
      "result": {
        "original_header": "Example alignment and pileup for one sample",
        "type": "Text_excerpt",
        "value": "This assumes a 10X V2 3'-library using the 737K barcode set from 10X genomics.  For V3 libraries you need to use the 3M set.\nThis assumes you have already indexed the genome fasta file with BWA. The library type should be specified for each of the commands as:\n\n```\n10X V2 3-prime:   -l V2\n10X V3 3-prime:   -l V3\n10X V2 5-prime:   -l V2_5P\n10X V3 5-prime:   -l V3_5P\n```\n\nThe list of available barcodes must also be specified.  For v2 libraries this is the `737k-august-2016.txt` file and for v3 libraries the `3M-february-2018` file.\n\n```bash\n#Build the index, only required once\nscsnv index -g genes.gtf -r genome.fa index_prefix\n\n#Count the number of barcodes\nscsnv count -o sample/barcode  -k scsnv/data/737K-august-2016.txt -l V2 sample/run1\n\n#Map the reads, quantify gene expression, and write the sorted mRNA-tag alignments\n#The -i option must be the path to the index_prefix used with scsnv_index\n#The -g option should be to the genome fasta file indexex with bwa mem \n#The group file (-c option) lists genes of interest.  The find optimal number of cells command uses it to measure mitochondrial expression\n#The group file is a tab delimited file with a header, for example:\n#There is an example file for human ensembl 94 in the data/gene_groups.txt\n#gene_id<tab>group\n#ENSG00000211459<tab>MT\n\n\nscsnv map -l V2 -i index_prefix -g bwa_genome_index -b sample/barcode -t 24 --bam-write 4 -q 4 -c index_prefix/gene_groups.txt -o sample/ sample/run1\n\n#Collapse the mRNA-tags into collapsed molecules\n#If you get a lot of warnings about regions with more than 50M reads, you can increase the number of reads permitted for a single gene\n#region using the -r option, for example, `-r 100`\n#If you run out of memory you can reduce the number of reads (-r 20), however, some genes will not be properly collapsed as a result\nscsnv collapse -l V2 -r genome_fasta -i index_prefix -o sample/ --threads 4 --bam-write 8 -b sample/barcode_counts.txt.gz sample/merged.bam\n\n#Find the optimal number of cells or use a pre-defined list of barcodes\n#If a group file wasn't specified you can add the --skip-mt flag to skip MT DNA(%) calculations\n#There are additional options to control how cells are filtered that can be used see scsnvmisc cells -h\n#Alternatively, you can create a passed_barcodes.txt.gz file with a single field called \"barcode\" and one cell barcode per line\n\nscsnvmisc cells -o sample sample/summary.h5\n\n#Pileup the reads from the collapsed molecules using a list of passed barcodes\nscsnv pileup -l V2 -i index_prefix -r genome_fasta -o sample/pileup -p ./sample/passed_barcodes.txt.gz -t 4 -x 4 ./sample/collapsed.bam\n\n#The pileup can be annotated and bi-allelic strand-specific SNVs can be called using the scsnvpy annotate command (See Below)\n\n#Quantify SNV co-expression and collapsed molecule lengths.  This tool requires the output file from the scsnvmisc annotate command described below\nscsnv snvcounts -t -s sample/pileup_passed_snvs.txt.gz -b sample/passed_barcodes.txt.gz -i index_prefix -o sample/snv -l V2 sample/collapsed.bam\n\n```\n\nNote:\n\nThe pileup command will also work with the Cell Ranger BAM file or STAR Solo BAM file. It requires the -c flag to be set and a passed_barcodes.txt.gz file with the following format:\n\n```\nbarcode\nGCAATCAGTACTTGAC\nAAATGCCGTCGCCATG\n...\netc\n```\nThe barcodes should not contain a -1 in them.  For the bam files these will automatically be removed from the CB tag. The annotate command will work on the output from these files.\n\n"
      },
      "source": "https://raw.githubusercontent.com/GWW/scsnv/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Output Files:",
        "parent_header": [
          "Example alignment and pileup for one sample",
          "Annotated HDF5 to market matrix format"
        ],
        "type": "Text_excerpt",
        "value": "| File        | Contents      |\n| ---------------|:--------------|\n| sample/pileup\\_barcode_matrices.h5 | Pileup data matrices (See Below) |\n| sample/pileup.txt.gz | Summary data for each SNV that passed the filtering criteria |\n"
      },
      "source": "https://raw.githubusercontent.com/GWW/scsnv/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Pileup H5 File:",
        "parent_header": [
          "Example alignment and pileup for one sample"
        ],
        "type": "Text_excerpt",
        "value": "| Group        | Value      |\n| ---------------|:--------------|\n| barcodes | Cellular barcodes (used by cellular barcode indexes) |\n| pos | Zero-based SNV position (used by SNV row indexes) |\n| tid | SNV chromosome Name Index (used by SNV row indexes) |\n| refs | SNV chromosome Names (used by SNV row indexes) |\n| base_A, base_C, base_G, base_C | Sparse base count matrices 1. **barcode_ids**: Cell Barcode Indexes, 2. **snps**: SNV Row Indexes, 3. **plus**: Plus strand counts, 4. **minus**: Minus strand counts. |\n| barcode_rates | Per cellular barcode base annotation counts for each nucleotide and strand |\n| coverage | Sparse matrix of the base coverage rates for the plus and minus strand 1. chroms: Chromosome names, 2. **tid**: Chromosome ids 3. **pos**: Zero-based position 4. **plus**: Plus strand coverage, 5. **minus**: Minus strand coverage|\n"
      },
      "source": "https://raw.githubusercontent.com/GWW/scsnv/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Command:",
        "parent_header": [
          "Example alignment and pileup for one sample",
          "accuracy -- Calculate barcode counts and coverage information for the SNVs in the file outputted by the merge command"
        ],
        "type": "Text_excerpt",
        "value": "```bash\nscsnvmisc annotate -r ./edits/repeat_masker.txt.gz -d 1000GENOMES.txt.gz -e REDIportal.txt.gz sample/pileup\n#See below to convert the h5 output to market matrices and a basic VCF file\n```"
      },
      "source": "https://raw.githubusercontent.com/GWW/scsnv/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "Arguments:",
        "parent_header": [
          "Example alignment and pileup for one sample",
          "Annotate"
        ],
        "type": "Text_excerpt",
        "value": "| Option        | Argument      | Function | Required |\n| ---------------|:--------------|:---------|:---------|\n| -e, --edits | path | File of RNA edits from REDIportal | No |\n| -r, --repeats | path | Path to UCSC repeat masker annotations (from the UCSC Table Browser) | No |\n| -d, --g1000 | path | Path to 1000 Genomes txt file (see below to make) | No |\n| -c, --capture | path | Exome capture region bed file, uses the location of these + flank | No |\n| -f, --flank | path | Flank for capture regions (Default 100 bp) | No |\n| -v, --vcf | path | VCF file to annotate with (uses the name field below), can be repeated for multiple VCF files | No |\n| -n, --name | path | Name key to use if a SNV is found in this VCF file (one for each VCF file) | No |\n| -u, --purity | float | Proportion of non-reference counts that must match a single allele (Default: 0.95 | No |\n| -s, --strand-purity | float | Proportion of reads that must be derived from the same strand to call a stranded SNP (Default: 0.9) | No |\n"
      },
      "source": "https://raw.githubusercontent.com/GWW/scsnv/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "1000 Genomes File Generation:",
        "parent_header": [
          "Example alignment and pileup for one sample",
          "Annotate"
        ],
        "type": "Text_excerpt",
        "value": "```bash\nwget ftp://ftp.ensembl.org/pub/release-99/variation/vcf/homo_sapiens/1000GENOMES-phase_3.vcf.gz\nwget ftp://ftp.ensembl.org/pub/release-99/variation/vcf/homo_sapiens/1000GENOMES-phase_3.vcf.gz.csi\nbcftools view --no-header -m2 -M2 -v snps -i \"MAF>=0.01\" 1000GENOMES-phase_3.vcf.gz | cut -f 1,2,4,5 | gzip > 1000GENOMES.txt.gz\n```\n\nNote that the chromosome names may need to be remapped depending on the reference build you used for mapping and alignment.\nChromosome mapping files can be found [here](https://github.com/dpryan79/ChromosomeMappings). The first column would need to be remapped to the correct chromosome names if they do not match\n\n##### Output Files:\n| File        | Contents      |\n| ---------------|:--------------|\n| sample/pileup_annotated.h5 | Serialized python flammkuchen file with annotated SNV data and per cell counts |\n| sample/pileup_barcodes.txt.gz | Barcode molecule counts and base coverage |\n| sample/pileup.txt.gz | Raw pileup calls |\n| sample/pileup_barcode_matrices.h5 | Raw pileup barcode count matrices |\n| sample/cells.h5 | Serialized python flammkuchen file with high quality cell and expression data |\n| sample/summary.h5 | Serialized HDF5 file with raw cell barcode statistics and expression data data|\n| sample/snv_map.txt.gz | SNV co-expression map |\n| sample/snv_base_counts.txt.gz | histograms of collapsed base lengths based on the number of reads and pcr duplicates in the molecules |\n| sample/snv_reads.txt.gz | SNV co-expression molecule data, the SNV_idx is defined in the snv_map file or the passed_snvs file | \n| sample/barcode_bases.txt.gz | Maximum collapsed read lengths per barcode |\n\nThe pileup file can be annotated with various databases using the scsnvmisc annotate command.  The serialized flammkuchen files can be viewed using ddls after flammkuchen is installed. (pip install flammkuchen)\n"
      },
      "source": "https://raw.githubusercontent.com/GWW/scsnv/master/README.md",
      "technique": "header_analysis"
    },
    {
      "confidence": 1,
      "result": {
        "original_header": "TODO:",
        "parent_header": [
          "Example alignment and pileup for one sample"
        ],
        "type": "Text_excerpt",
        "value": "1) Add support for emptydrops\n2) Improve the performance of scSNV pileup\n"
      },
      "source": "https://raw.githubusercontent.com/GWW/scsnv/master/README.md",
      "technique": "header_analysis"
    }
  ]
}